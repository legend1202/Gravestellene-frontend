import{j as e,S as t,A as xe,w as me,b9 as pe,d as b,T as c,B as v,r as w,J as ue,y as C,b as he,aZ as je,D as L,e as ge,p as z,L as I,bo as ye,z as E,x as be,F as ve,R as fe,G as T,bw as we,ap as Ce,bx as Se,C as Ie,H as Re}from"./index-_tg0Vjne.js";import{u as ke}from"./use-params-JjcDWs5q.js";import"./index-R3sdzr18.js";import{c as Pe,d as De,a as q}from"./index.esm-zORWVp2x.js";import"./image-SDlH-Y9m.js";import"./styles-GXLlqNmt.js";import"./_baseToString-DU9o3e3j.js";import{C as Te}from"./color-picker-6ZFrZzyT.js";import{I as qe}from"./incrementer-button-dEbKOtIC.js";import{a as Fe,C as Le,b as ze}from"./product-details-carousel-rnX3Psn3.js";import"./styles-xjWQ6_Y0.js";import{b as We}from"./product-d2cPzUcv.js";import{E as $e}from"./empty-content-y3p0Z0lQ.js";import{C as Be}from"./custom-breadcrumbs-KsOYWZLR.js";import{s as Ae,R as Ee}from"./sumBy-10YoiFhp.js";import{b as W,f as H}from"./format-number-x-XRdvJl.js";import{R}from"./Rating-L_4PWj4N.js";import{P as He,p as Me}from"./Pagination-PHJHJt2N.js";import{u as M,F as G,C as N}from"./form-provider-tifhRCot.js";import{R as F,L as Ge,o as Ne}from"./rhf-text-field-tOnCBQMz.js";import{D as Oe}from"./DialogTitle-ZVVh3H6m.js";import{D as Ve,a as Qe}from"./DialogContent-1g-PAecc.js";import{F as Ue,f as Ye}from"./TextField-ZkEZfJO9.js";import{M as Je}from"./markdown-jKfzBdon.js";import{C as Ze}from"./Card-SUD4YaWI.js";import"./Skeleton-DE5mqhd_.js";import"./use-light-box-1YwnlQoR.js";import"./carousel-arrow-index-g72R1Kc2.js";import"./_baseIteratee-W96Arp6Y.js";import"./FirstPage-W0D_CAXq.js";import"./CircularProgress-JD4dZggQ.js";function Ke({review:r}){const{name:l,rating:i,comment:x,postedAt:m,avatarUrl:s,attachments:p,isPurchased:d}=r,u=e.jsxs(t,{spacing:2,alignItems:"center",direction:{xs:"row",md:"column"},sx:{width:{md:240},textAlign:{md:"center"}},children:[e.jsx(xe,{src:s,sx:{width:{xs:48,md:64},height:{xs:48,md:64}}}),e.jsx(me,{primary:l,secondary:pe(m),primaryTypographyProps:{noWrap:!0,typography:"subtitle2",mb:.5},secondaryTypographyProps:{noWrap:!0,typography:"caption",component:"span"}})]}),n=e.jsxs(t,{spacing:1,flexGrow:1,children:[e.jsx(R,{size:"small",value:i,precision:.1,readOnly:!0}),d&&e.jsxs(t,{direction:"row",alignItems:"center",sx:{color:"success.main",typography:"caption"},children:[e.jsx(b,{icon:"ic:round-verified",width:16,sx:{mr:.5}}),"Verified purchase"]}),e.jsx(c,{variant:"body2",children:x}),!!(p!=null&&p.length)&&e.jsx(t,{direction:"row",flexWrap:"wrap",spacing:1,sx:{pt:1},children:p.map(g=>e.jsx(v,{component:"img",alt:g,src:g,sx:{width:64,height:64,borderRadius:1.5}},g))}),e.jsxs(t,{direction:"row",spacing:2,sx:{pt:1.5},children:[e.jsxs(t,{direction:"row",alignItems:"center",sx:{typography:"caption"},children:[e.jsx(b,{icon:"solar:like-outline",width:16,sx:{mr:.5}}),"123"]}),e.jsxs(t,{direction:"row",alignItems:"center",sx:{typography:"caption"},children:[e.jsx(b,{icon:"solar:dislike-outline",width:16,sx:{mr:.5}}),"34"]})]})]});return e.jsxs(t,{spacing:2,direction:{xs:"column",md:"row"},sx:{mt:5,px:{xs:2.5,md:0}},children:[u,n]})}function Xe({reviews:r}){return e.jsxs(e.Fragment,{children:[r.map(l=>e.jsx(Ke,{review:l},l.id)),e.jsx(He,{count:10,sx:{mx:"auto",[`& .${Me.ul}`]:{my:5,mx:"auto",justifyContent:"center"}}})]})}function _e({onClose:r,...l}){var o;const i=Pe().shape({rating:De().min(1,"Rating must be greater than or equal to 1"),review:q().required("Review is required"),name:q().required("Name is required"),email:q().required("Email is required").email("Email must be a valid email address")}),x={rating:0,review:"",name:"",email:""},m=M({resolver:Ne(i),defaultValues:x}),{reset:s,control:p,handleSubmit:d,formState:{errors:u,isSubmitting:n}}=m,g=d(async h=>{try{await new Promise(y=>setTimeout(y,500)),s(),r(),console.info("DATA",h)}catch(y){console.error(y)}}),f=w.useCallback(()=>{r(),s()},[r,s]);return e.jsx(ue,{onClose:r,...l,children:e.jsxs(G,{methods:m,onSubmit:g,children:[e.jsx(Oe,{children:" Add Review "}),e.jsxs(Ve,{children:[e.jsxs(t,{direction:"row",flexWrap:"wrap",alignItems:"center",spacing:1.5,children:[e.jsx(c,{variant:"body2",children:"Your review about this product:"}),e.jsx(N,{name:"rating",control:p,render:({field:h})=>e.jsx(R,{...h,size:"small",value:Number(h.value),onChange:(y,S)=>{h.onChange(S)}})})]}),!!u.rating&&e.jsxs(Ue,{error:!0,children:[" ",(o=u.rating)==null?void 0:o.message]}),e.jsx(F,{name:"review",label:"Review *",multiline:!0,rows:3,sx:{mt:3}}),e.jsx(F,{name:"name",label:"Name *",sx:{mt:3}}),e.jsx(F,{name:"email",label:"Email *",sx:{mt:3}})]}),e.jsxs(Qe,{children:[e.jsx(C,{color:"inherit",variant:"outlined",onClick:f,children:"Cancel"}),e.jsx(Ge,{type:"submit",variant:"contained",loading:n,children:"Post"})]})]})})}function er({totalRatings:r,totalReviews:l,ratings:i,reviews:x}){const m=he(),s=Ae(i,n=>n.starCount),p=e.jsxs(t,{spacing:1,alignItems:"center",justifyContent:"center",children:[e.jsx(c,{variant:"subtitle2",children:"Average rating"}),e.jsxs(c,{variant:"h2",children:[r,"/5"]}),e.jsx(R,{readOnly:!0,value:r,precision:.1}),e.jsxs(c,{variant:"caption",sx:{color:"text.secondary"},children:["(",W(l)," reviews)"]})]}),d=e.jsx(t,{spacing:1.5,sx:{py:5,px:{xs:3,md:5},borderLeft:n=>({md:`dashed 1px ${n.palette.divider}`}),borderRight:n=>({md:`dashed 1px ${n.palette.divider}`})},children:i.slice(0).reverse().map(n=>e.jsxs(t,{direction:"row",alignItems:"center",children:[e.jsx(c,{variant:"subtitle2",component:"span",sx:{width:42},children:n.name}),e.jsx(je,{color:"inherit",variant:"determinate",value:n.starCount/s*100,sx:{mx:2,flexGrow:1}}),e.jsx(c,{variant:"body2",component:"span",sx:{minWidth:48,color:"text.secondary"},children:W(n.reviewCount)})]},n.name))}),u=e.jsx(t,{alignItems:"center",justifyContent:"center",children:e.jsx(C,{size:"large",variant:"soft",color:"inherit",onClick:m.onTrue,startIcon:e.jsx(b,{icon:"solar:pen-bold"}),children:"Write your review"})});return e.jsxs(e.Fragment,{children:[e.jsxs(v,{display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(3, 1fr)"},sx:{py:{xs:5,md:0}},children:[p,d,u]}),e.jsx(L,{sx:{borderStyle:"dashed"}}),e.jsx(Xe,{reviews:x}),e.jsx(_e,{open:m.value,onClose:m.onFalse})]})}function rr({items:r,product:l,onAddCart:i,onGotoStep:x,disabledActions:m,...s}){const p=ge(),{id:d,name:u,sizes:n,price:g,coverUrl:f,colors:o,newLabel:h,available:y,priceSale:S,saleLabel:k,totalRatings:O,totalReviews:V,inventoryType:P,subDescription:Q}=l,U=!!(r!=null&&r.length)&&r.map(a=>a.id).includes(d),Y=!!(r!=null&&r.length)&&r.filter(a=>a.id===d).map(a=>a.quantity)[0]>=y,$={id:d,name:u,coverUrl:f,available:y,price:g,colors:o[0],size:n[4],quantity:y<1?0:1},B=M({defaultValues:$}),{reset:J,watch:Z,control:K,setValue:A,handleSubmit:X}=B,j=Z();w.useEffect(()=>{l&&J($)},[l]);const _=X(async a=>{try{U||i==null||i({...a,colors:[j.colors],subTotal:a.price*a.quantity}),x==null||x(0),p.push(z.product.checkout)}catch(D){console.error(D)}}),ee=w.useCallback(()=>{try{i==null||i({...j,colors:[j.colors],subTotal:j.price*j.quantity})}catch(a){console.error(a)}},[i,j]),re=e.jsxs(v,{sx:{typography:"h5"},children:[S&&e.jsx(v,{component:"span",sx:{color:"text.disabled",textDecoration:"line-through",mr:.5},children:H(S)}),H(g)]}),se=e.jsxs(t,{direction:"row",spacing:3,justifyContent:"center",children:[e.jsxs(I,{variant:"subtitle2",sx:{color:"text.secondary",display:"inline-flex",alignItems:"center"},children:[e.jsx(b,{icon:"mingcute:add-line",width:16,sx:{mr:1}}),"Compare"]}),e.jsxs(I,{variant:"subtitle2",sx:{color:"text.secondary",display:"inline-flex",alignItems:"center"},children:[e.jsx(b,{icon:"solar:heart-bold",width:16,sx:{mr:1}}),"Favorite"]}),e.jsxs(I,{variant:"subtitle2",sx:{color:"text.secondary",display:"inline-flex",alignItems:"center"},children:[e.jsx(b,{icon:"solar:share-bold",width:16,sx:{mr:1}}),"Share"]})]}),te=e.jsxs(t,{direction:"row",children:[e.jsx(c,{variant:"subtitle2",sx:{flexGrow:1},children:"Color"}),e.jsx(N,{name:"colors",control:K,render:({field:a})=>e.jsx(Te,{colors:o,selected:a.value,onSelectColor:D=>a.onChange(D),limit:4})})]}),ie=e.jsxs(t,{direction:"row",children:[e.jsx(c,{variant:"subtitle2",sx:{flexGrow:1},children:"Size"}),e.jsx(Ee,{name:"size",size:"small",helperText:e.jsx(I,{underline:"always",color:"textPrimary",children:"Size Chart"}),sx:{maxWidth:88,[`& .${Ye.root}`]:{mx:0,mt:1,textAlign:"right"}},children:n.map(a=>e.jsx(ye,{value:a,children:a},a))})]}),ne=e.jsxs(t,{direction:"row",children:[e.jsx(c,{variant:"subtitle2",sx:{flexGrow:1},children:"Quantity"}),e.jsxs(t,{spacing:1,children:[e.jsx(qe,{name:"quantity",quantity:j.quantity,disabledDecrease:j.quantity<=1,disabledIncrease:j.quantity>=y,onIncrease:()=>A("quantity",j.quantity+1),onDecrease:()=>A("quantity",j.quantity-1)}),e.jsxs(c,{variant:"caption",component:"div",sx:{textAlign:"right"},children:["Available: ",y]})]})]}),ae=e.jsxs(t,{direction:"row",spacing:2,children:[e.jsx(C,{fullWidth:!0,disabled:Y||m,size:"large",color:"warning",variant:"contained",startIcon:e.jsx(b,{icon:"solar:cart-plus-bold",width:24}),onClick:ee,sx:{whiteSpace:"nowrap"},children:"Add to Cart"}),e.jsx(C,{fullWidth:!0,size:"large",type:"submit",variant:"contained",disabled:m,children:"Buy Now"})]}),oe=e.jsx(c,{variant:"body2",sx:{color:"text.secondary"},children:Q}),le=e.jsxs(t,{direction:"row",alignItems:"center",sx:{color:"text.disabled",typography:"body2"},children:[e.jsx(R,{size:"small",value:O,precision:.1,readOnly:!0,sx:{mr:1}}),`(${W(V)} reviews)`]}),ce=(h.enabled||k.enabled)&&e.jsxs(t,{direction:"row",alignItems:"center",spacing:1,children:[h.enabled&&e.jsx(E,{color:"info",children:h.content}),k.enabled&&e.jsx(E,{color:"error",children:k.content})]}),de=e.jsx(v,{component:"span",sx:{typography:"overline",color:P==="out of stock"&&"error.main"||P==="low stock"&&"warning.main"||"success.main"},children:P});return e.jsx(G,{methods:B,onSubmit:_,children:e.jsxs(t,{spacing:3,sx:{pt:3},...s,children:[e.jsxs(t,{spacing:2,alignItems:"flex-start",children:[ce,de,e.jsx(c,{variant:"h5",children:u}),le,re,oe]}),e.jsx(L,{sx:{borderStyle:"dashed"}}),te,ie,ne,e.jsx(L,{sx:{borderStyle:"dashed"}}),ae,se]})})}function sr({description:r}){return e.jsx(Je,{children:r,sx:{p:3,"& p, li, ol":{typography:"body2"},"& ol":{p:0,display:{md:"flex"},listStyleType:"none","& li":{"&:first-of-type":{minWidth:240,mb:{xs:.5,md:0}}}}}})}const tr=[{title:"100% Original",description:"Chocolate bar candy canes ice cream toffee cookie halvah.",icon:"solar:verified-check-bold"},{title:"10 Day Replacement",description:"Marshmallow biscuit donut dragÃ©e fruitcake wafer.",icon:"solar:clock-circle-bold"},{title:"Year Warranty",description:"Cotton candy gingerbread cake I love sugar sweet.",icon:"solar:shield-check-bold"}];function ir({id:r}){const l=be(),i=ve(),[x,m]=w.useState("description"),{product:s,productLoading:p,productError:d}=We(r),u=w.useCallback((o,h)=>{m(h)},[]),n=e.jsx(ze,{}),g=e.jsx($e,{filled:!0,title:`${d==null?void 0:d.message}`,action:e.jsx(C,{component:fe,href:z.product.root,startIcon:e.jsx(b,{icon:"eva:arrow-ios-back-fill",width:16}),sx:{mt:3},children:"Back to List"}),sx:{py:10}}),f=s&&e.jsxs(e.Fragment,{children:[e.jsx(Be,{links:[{name:"Home",href:"/"},{name:"Shop",href:z.product.root},{name:s==null?void 0:s.name}],sx:{mb:5}}),e.jsxs(T,{container:!0,spacing:{xs:3,md:5,lg:8},children:[e.jsx(T,{xs:12,md:6,lg:7,children:e.jsx(Fe,{product:s})}),e.jsx(T,{xs:12,md:6,lg:5,children:e.jsx(rr,{product:s,items:i.items,onAddCart:i.onAddToCart,onGotoStep:i.onGotoStep})})]}),e.jsx(v,{gap:5,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(3, 1fr)"},sx:{my:10},children:tr.map(o=>e.jsxs(v,{sx:{textAlign:"center",px:5},children:[e.jsx(b,{icon:o.icon,width:32,sx:{color:"primary.main"}}),e.jsx(c,{variant:"subtitle1",sx:{mb:1,mt:2},children:o.title}),e.jsx(c,{variant:"body2",sx:{color:"text.secondary"},children:o.description})]},o.title))}),e.jsxs(Ze,{children:[e.jsx(we,{value:x,onChange:u,sx:{px:3,boxShadow:o=>`inset 0 -2px 0 0 ${Ce(o.palette.grey[500],.08)}`},children:[{value:"description",label:"Description"},{value:"reviews",label:`Reviews (${s.reviews.length})`}].map(o=>e.jsx(Se,{value:o.value,label:o.label},o.value))}),x==="description"&&e.jsx(sr,{description:s==null?void 0:s.description}),x==="reviews"&&e.jsx(er,{ratings:s.ratings,reviews:s.reviews,totalRatings:s.totalRatings,totalReviews:s.totalReviews})]})]});return e.jsxs(Ie,{maxWidth:l.themeStretch?!1:"lg",sx:{mt:5,mb:15},children:[e.jsx(Le,{totalItems:i.totalItems}),p&&n,d&&g,s&&f]})}function $r(){const r=ke(),{id:l}=r;return e.jsxs(e.Fragment,{children:[e.jsx(Re,{children:e.jsx("title",{children:" Product: Details"})}),e.jsx(ir,{id:`${l}`})]})}export{$r as default};
