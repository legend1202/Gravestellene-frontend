import{j as e,S as F,ar as c,g as I,T as C,B as h,aP as P,$ as g,a0 as m,a2 as x}from"./index-HVmlIZYv.js";import{R as A,U as u}from"./upload-LxVjuIH7.js";import{u as S}from"./preview-multi-file-LnIRwgz4.js";function z({error:r,file:a,disabled:s,helperText:n,sx:i,...l}){const{getRootProps:t,getInputProps:j,isDragActive:v,isDragReject:y,fileRejections:R}=S({multiple:!1,disabled:s,accept:{"image/*":[]},...l}),d=!!a,p=y||!!r,b=typeof a=="string"?a:a==null?void 0:a.preview,f=d&&e.jsx(P,{alt:"avatar",src:b,sx:{width:1,height:1,borderRadius:"50%"}}),w=e.jsxs(F,{alignItems:"center",justifyContent:"center",spacing:1,className:"upload-placeholder",sx:{top:0,left:0,width:1,height:1,zIndex:9,borderRadius:"50%",position:"absolute",color:"text.disabled",bgcolor:o=>c(o.palette.grey[500],.08),transition:o=>o.transitions.create(["opacity"],{duration:o.transitions.duration.shorter}),"&:hover":{opacity:.72},...p&&{color:"error.main",bgcolor:o=>c(o.palette.error.main,.08)},...d&&{zIndex:9,opacity:0,color:"common.white",bgcolor:o=>c(o.palette.grey[900],.64)}},children:[e.jsx(I,{icon:"solar:camera-add-bold",width:32}),e.jsx(C,{variant:"caption",children:a?"Update photo":"Upload photo"})]}),U=e.jsxs(h,{sx:{width:1,height:1,overflow:"hidden",borderRadius:"50%",position:"relative"},children:[f,w]});return e.jsxs(e.Fragment,{children:[e.jsxs(h,{...t(),sx:{p:1,m:"auto",width:144,height:144,cursor:"pointer",overflow:"hidden",borderRadius:"50%",border:o=>`1px dashed ${c(o.palette.grey[500],.2)}`,...v&&{opacity:.72},...s&&{opacity:.48,pointerEvents:"none"},...p&&{borderColor:"error.main"},...d&&{...p&&{bgcolor:o=>c(o.palette.error.main,.08)},"&:hover .upload-placeholder":{opacity:1}},...i},children:[e.jsx("input",{...j()}),U]}),n&&n,e.jsx(A,{fileRejections:R})]})}function B({name:r,...a}){const{control:s}=g();return e.jsx(m,{name:r,control:s,render:({field:n,fieldState:{error:i}})=>e.jsxs("div",{children:[e.jsx(z,{error:!!i,file:n.value,...a}),!!i&&e.jsx(x,{error:!0,sx:{px:2,textAlign:"center"},children:i.message})]})})}function $({name:r,multiple:a,helperText:s,...n}){const{control:i}=g();return e.jsx(m,{name:r,control:i,render:({field:l,fieldState:{error:t}})=>a?e.jsx(u,{multiple:!0,accept:{"image/*":[]},files:l.value,error:!!t,helperText:(!!t||s)&&e.jsx(x,{error:!!t,sx:{px:2},children:t?t==null?void 0:t.message:s}),...n}):e.jsx(u,{accept:{"image/*":[]},file:l.value,error:!!t,helperText:(!!t||s)&&e.jsx(x,{error:!!t,sx:{px:2},children:t?t==null?void 0:t.message:s}),...n})})}export{$ as R,B as a};
