import{j as e,al as U,E as s,v as i,T as g,au as k,u as B,S as h,dx as E,g as A,h as M,B as W}from"./index-HKvYvq3j.js";import{u as _,M as T}from"./preview-multi-file-JUvsSNWp.js";import{d as $}from"./format-number-atgkyq5m.js";import{a as q}from"./file-thumbnail-64RA8-ub.js";function G({fileRejections:o}){return o.length?e.jsx(U,{variant:"outlined",sx:{py:1,px:2,mt:3,textAlign:"left",borderStyle:"dashed",borderColor:"error.main",bgcolor:n=>s(n.palette.error.main,.08)},children:o.map(({file:n,errors:p})=>{const{path:a,size:t}=q(n);return e.jsxs(i,{sx:{my:1},children:[e.jsxs(g,{variant:"subtitle2",noWrap:!0,children:[a," - ",t?$(t):""]}),p.map(l=>e.jsxs(i,{component:"span",sx:{typography:"caption"},children:["- ",l.message]},l.code))]},a)})}):null}function H({imgUrl:o=""}){return e.jsx(i,{sx:{p:1,top:0,left:0,width:1,height:1,position:"absolute"},children:e.jsx(k,{alt:"file preview",src:o,sx:{width:1,height:1,borderRadius:1}})})}function Q({disabled:o,multiple:n=!1,error:p,helperText:a,file:t,onDelete:l,files:d,thumbnail:m,onUpload:J,onRemove:j,onRemoveAll:u,sx:y,...v}){const{t:c}=B(),{getRootProps:w,getInputProps:b,isDragActive:f,isDragReject:P,fileRejections:I}=_({multiple:n,disabled:o,...v}),x=!!t&&!n,R=!!d&&n&&!!d.length,C=P||!!p,D=e.jsxs(h,{spacing:3,alignItems:"center",justifyContent:"center",flexWrap:"wrap",children:[e.jsx(E,{sx:{width:1,maxWidth:200}}),e.jsxs(h,{spacing:1,sx:{textAlign:"center"},children:[e.jsx(g,{variant:"h6",children:c("drop_or_select_file")}),e.jsxs(g,{variant:"body2",sx:{color:"text.secondary"},children:[c("Drop files here or click"),e.jsx(i,{component:"span",sx:{mx:.5,color:"primary.main",textDecoration:"underline"},children:c("browse")}),c("thorough your machine")]})]})]}),F=e.jsx(H,{imgUrl:typeof t=="string"?t:t==null?void 0:t.preview}),S=x&&l&&e.jsx(A,{size:"small",onClick:l,sx:{top:16,right:16,zIndex:9,position:"absolute",color:r=>s(r.palette.common.white,.8),bgcolor:r=>s(r.palette.grey[900],.72),"&:hover":{bgcolor:r=>s(r.palette.grey[900],.48)}},children:e.jsx(M,{icon:"mingcute:close-line",width:18})}),z=R&&e.jsxs(e.Fragment,{children:[e.jsx(i,{sx:{my:3},children:e.jsx(T,{files:d,thumbnail:m,onRemove:j})}),e.jsx(h,{direction:"row",justifyContent:"flex-end",spacing:1.5,children:u&&e.jsx(W,{color:"inherit",variant:"outlined",size:"small",onClick:u,children:"Remove All"})})]});return e.jsxs(i,{sx:{width:1,position:"relative",...y},children:[e.jsxs(i,{...w(),sx:{p:5,outline:"none",borderRadius:1,cursor:"pointer",overflow:"hidden",position:"relative",bgcolor:r=>s(r.palette.grey[500],.08),border:r=>`1px dashed ${s(r.palette.grey[500],.2)}`,transition:r=>r.transitions.create(["opacity","padding"]),"&:hover":{opacity:.72},...f&&{opacity:.72},...o&&{opacity:.48,pointerEvents:"none"},...C&&{color:"error.main",borderColor:"error.main",bgcolor:r=>s(r.palette.error.main,.08)},...x&&{padding:"24% 0"}},children:[e.jsx("input",{...b()}),x?F:D]}),S,a&&a,e.jsx(G,{fileRejections:I}),z]})}export{G as R,Q as U};
