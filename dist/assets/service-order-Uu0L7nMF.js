import{r as m,a8 as F,a9 as E,y as g,aa as h,ab as _,ac as q,j as e,ad as W,ae as U,af as se,ag as je,ah as re,u as J,K as B,ai as G,S as I,T as w,v as T,x as ne,g as Ce,h as C,n as ye,M as f,B as Q,aj as ae,ak as ie,al as ee,X as le,b as Se,am as fe,s as ge,an as Le,c as ce,d as z,e as de,o as pe,F as ue,i as xe,ao as Ie,w as we,ap as Pe,L as $e,m as ke,a as Re,f as H,A as Te,G as Ne,Z as Me,k as De,aq as Oe,C as We,ar as Ae,as as ze,N as Fe,H as Ee}from"./index-HKvYvq3j.js";import{c as _e}from"./order-ZPZ1Bd4u.js";import{E as qe}from"./empty-content-ikLVFtYm.js";import{f as me}from"./format-number-atgkyq5m.js";import{C as Ue}from"./CardContent-VQT2vqkZ.js";import{T as Be}from"./table-head-custom-X0xXwJXP.js";import{T as Ge,a as He,b as Ve,c as Ye}from"./TableHead-W7gboABG.js";import{T as A}from"./TableCell-96gyKv7u.js";import{P as Qe}from"./payment-new-card-dialog-JFiOyfvv.js";import{v as Je}from"./fade-VV5890gg.js";import{A as Ke}from"./index-79p68rCz.js";import"./Checkbox-vB-XJoJj.js";import"./SwitchBase-dhyrm6Co.js";import"./DialogTitle-FVFG90mx.js";import"./dialogTitleClasses-2bwivi4W.js";import"./DialogContent-KyTnZXMG.js";import"./DialogActions-FQcjn_My.js";import"./transition-eqIn2NYL.js";const Xe=m.createContext({}),K=Xe,Ze=m.createContext({}),te=Ze;function et(t){return F("MuiStep",t)}E("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const tt=["active","children","className","component","completed","disabled","expanded","index","last"],nt=t=>{const{classes:o,orientation:s,alternativeLabel:r,completed:n}=t;return U({root:["root",s,r&&"alternativeLabel",n&&"completed"]},et,o)},ot=g("div",{name:"MuiStep",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:s}=t;return[o.root,o[s.orientation],s.alternativeLabel&&o.alternativeLabel,s.completed&&o.completed]}})(({ownerState:t})=>h({},t.orientation==="horizontal"&&{paddingLeft:8,paddingRight:8},t.alternativeLabel&&{flex:1,position:"relative"})),st=m.forwardRef(function(o,s){const r=_({props:o,name:"MuiStep"}),{active:n,children:a,className:i,component:l="div",completed:c,disabled:d,expanded:u=!1,index:p,last:v}=r,j=q(r,tt),{activeStep:y,connector:x,alternativeLabel:b,orientation:P,nonLinear:S}=m.useContext(K);let[L=!1,N=!1,k=!1]=[n,c,d];y===p?L=n!==void 0?n:!0:!S&&y>p?N=c!==void 0?c:!0:!S&&y<p&&(k=d!==void 0?d:!0);const M=m.useMemo(()=>({index:p,last:v,expanded:u,icon:p+1,active:L,completed:N,disabled:k}),[p,v,u,L,N,k]),R=h({},r,{active:L,orientation:P,alternativeLabel:b,completed:N,disabled:k,expanded:u,component:l}),D=nt(R),O=e.jsxs(ot,h({as:l,className:W(D.root,i),ref:s,ownerState:R},j,{children:[x&&b&&p!==0?x:null,a]}));return e.jsx(te.Provider,{value:M,children:x&&!b&&p!==0?e.jsxs(m.Fragment,{children:[x,O]}):O})}),rt=st,at=se(e.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),it=se(e.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function lt(t){return F("MuiStepIcon",t)}const ct=E("MuiStepIcon",["root","active","completed","error","text"]),X=ct;var oe;const dt=["active","className","completed","error","icon"],pt=t=>{const{classes:o,active:s,completed:r,error:n}=t;return U({root:["root",s&&"active",r&&"completed",n&&"error"],text:["text"]},lt,o)},Z=g(je,{name:"MuiStepIcon",slot:"Root",overridesResolver:(t,o)=>o.root})(({theme:t})=>({display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),color:(t.vars||t).palette.text.disabled,[`&.${X.completed}`]:{color:(t.vars||t).palette.primary.main},[`&.${X.active}`]:{color:(t.vars||t).palette.primary.main},[`&.${X.error}`]:{color:(t.vars||t).palette.error.main}})),ut=g("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(t,o)=>o.text})(({theme:t})=>({fill:(t.vars||t).palette.primary.contrastText,fontSize:t.typography.caption.fontSize,fontFamily:t.typography.fontFamily})),xt=m.forwardRef(function(o,s){const r=_({props:o,name:"MuiStepIcon"}),{active:n=!1,className:a,completed:i=!1,error:l=!1,icon:c}=r,d=q(r,dt),u=h({},r,{active:n,completed:i,error:l}),p=pt(u);if(typeof c=="number"||typeof c=="string"){const v=W(a,p.root);return l?e.jsx(Z,h({as:it,className:v,ref:s,ownerState:u},d)):i?e.jsx(Z,h({as:at,className:v,ref:s,ownerState:u},d)):e.jsxs(Z,h({className:v,ref:s,ownerState:u},d,{children:[oe||(oe=e.jsx("circle",{cx:"12",cy:"12",r:"12"})),e.jsx(ut,{className:p.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:u,children:c})]}))}return c}),mt=xt;function ht(t){return F("MuiStepLabel",t)}const vt=E("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),$=vt,bt=["children","className","componentsProps","error","icon","optional","slotProps","StepIconComponent","StepIconProps"],jt=t=>{const{classes:o,orientation:s,active:r,completed:n,error:a,disabled:i,alternativeLabel:l}=t;return U({root:["root",s,a&&"error",i&&"disabled",l&&"alternativeLabel"],label:["label",r&&"active",n&&"completed",a&&"error",i&&"disabled",l&&"alternativeLabel"],iconContainer:["iconContainer",r&&"active",n&&"completed",a&&"error",i&&"disabled",l&&"alternativeLabel"],labelContainer:["labelContainer",l&&"alternativeLabel"]},ht,o)},Ct=g("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:s}=t;return[o.root,o[s.orientation]]}})(({ownerState:t})=>h({display:"flex",alignItems:"center",[`&.${$.alternativeLabel}`]:{flexDirection:"column"},[`&.${$.disabled}`]:{cursor:"default"}},t.orientation==="vertical"&&{textAlign:"left",padding:"8px 0"})),yt=g("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(t,o)=>o.label})(({theme:t})=>h({},t.typography.body2,{display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),[`&.${$.active}`]:{color:(t.vars||t).palette.text.primary,fontWeight:500},[`&.${$.completed}`]:{color:(t.vars||t).palette.text.primary,fontWeight:500},[`&.${$.alternativeLabel}`]:{marginTop:16},[`&.${$.error}`]:{color:(t.vars||t).palette.error.main}})),St=g("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(t,o)=>o.iconContainer})(()=>({flexShrink:0,display:"flex",paddingRight:8,[`&.${$.alternativeLabel}`]:{paddingRight:0}})),ft=g("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(t,o)=>o.labelContainer})(({theme:t})=>({width:"100%",color:(t.vars||t).palette.text.secondary,[`&.${$.alternativeLabel}`]:{textAlign:"center"}})),he=m.forwardRef(function(o,s){var r;const n=_({props:o,name:"MuiStepLabel"}),{children:a,className:i,componentsProps:l={},error:c=!1,icon:d,optional:u,slotProps:p={},StepIconComponent:v,StepIconProps:j}=n,y=q(n,bt),{alternativeLabel:x,orientation:b}=m.useContext(K),{active:P,disabled:S,completed:L,icon:N}=m.useContext(te),k=d||N;let M=v;k&&!M&&(M=mt);const R=h({},n,{active:P,alternativeLabel:x,completed:L,disabled:S,error:c,orientation:b}),D=jt(R),O=(r=p.label)!=null?r:l.label;return e.jsxs(Ct,h({className:W(D.root,i),ref:s,ownerState:R},y,{children:[k||M?e.jsx(St,{className:D.iconContainer,ownerState:R,children:e.jsx(M,h({completed:L,active:P,error:c,icon:k},j))}):null,e.jsxs(ft,{className:D.labelContainer,ownerState:R,children:[a?e.jsx(yt,h({ownerState:R},O,{className:W(D.label,O==null?void 0:O.className),children:a})):null,u]})]}))});he.muiName="StepLabel";const gt=he;function Lt(t){return F("MuiStepConnector",t)}const It=E("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]),V=It,wt=["className"],Pt=t=>{const{classes:o,orientation:s,alternativeLabel:r,active:n,completed:a,disabled:i}=t,l={root:["root",s,r&&"alternativeLabel",n&&"active",a&&"completed",i&&"disabled"],line:["line",`line${re(s)}`]};return U(l,Lt,o)},$t=g("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:s}=t;return[o.root,o[s.orientation],s.alternativeLabel&&o.alternativeLabel,s.completed&&o.completed]}})(({ownerState:t})=>h({flex:"1 1 auto"},t.orientation==="vertical"&&{marginLeft:12},t.alternativeLabel&&{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})),kt=g("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(t,o)=>{const{ownerState:s}=t;return[o.line,o[`line${re(s.orientation)}`]]}})(({ownerState:t,theme:o})=>{const s=o.palette.mode==="light"?o.palette.grey[400]:o.palette.grey[600];return h({display:"block",borderColor:o.vars?o.vars.palette.StepConnector.border:s},t.orientation==="horizontal"&&{borderTopStyle:"solid",borderTopWidth:1},t.orientation==="vertical"&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})}),Rt=m.forwardRef(function(o,s){const r=_({props:o,name:"MuiStepConnector"}),{className:n}=r,a=q(r,wt),{alternativeLabel:i,orientation:l="horizontal"}=m.useContext(K),{active:c,disabled:d,completed:u}=m.useContext(te),p=h({},r,{alternativeLabel:i,orientation:l,active:c,completed:u,disabled:d}),v=Pt(p);return e.jsx($t,h({className:W(v.root,n),ref:s,ownerState:p},a,{children:e.jsx(kt,{className:v.line,ownerState:p})}))}),ve=Rt;function Tt(t){return F("MuiStepper",t)}E("MuiStepper",["root","horizontal","vertical","alternativeLabel"]);const Nt=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],Mt=t=>{const{orientation:o,alternativeLabel:s,classes:r}=t;return U({root:["root",o,s&&"alternativeLabel"]},Tt,r)},Dt=g("div",{name:"MuiStepper",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:s}=t;return[o.root,o[s.orientation],s.alternativeLabel&&o.alternativeLabel]}})(({ownerState:t})=>h({display:"flex"},t.orientation==="horizontal"&&{flexDirection:"row",alignItems:"center"},t.orientation==="vertical"&&{flexDirection:"column"},t.alternativeLabel&&{alignItems:"flex-start"})),Ot=e.jsx(ve,{}),Wt=m.forwardRef(function(o,s){const r=_({props:o,name:"MuiStepper"}),{activeStep:n=0,alternativeLabel:a=!1,children:i,className:l,component:c="div",connector:d=Ot,nonLinear:u=!1,orientation:p="horizontal"}=r,v=q(r,Nt),j=h({},r,{alternativeLabel:a,orientation:p,component:c}),y=Mt(j),x=m.Children.toArray(i).filter(Boolean),b=x.map((S,L)=>m.cloneElement(S,h({index:L,last:L+1===x.length},S.props))),P=m.useMemo(()=>({activeStep:n,alternativeLabel:a,connector:d,nonLinear:u,orientation:p}),[n,a,d,u,p]);return e.jsx(K.Provider,{value:P,children:e.jsx(Dt,h({as:c,ownerState:j,className:W(y.root,l),ref:s},v,{children:b}))})}),At=Wt;function be({total:t}){const{t:o}=J();return e.jsxs(B,{sx:{mb:3},children:[e.jsx(G,{title:o("Order Summary")}),e.jsx(Ue,{children:e.jsxs(I,{direction:"row",justifyContent:"space-between",children:[e.jsx(w,{variant:"subtitle1",children:o("Total")}),e.jsx(T,{sx:{textAlign:"right"},children:e.jsx(w,{variant:"subtitle1",sx:{color:"error.main"},children:me(t)})})]})})]})}function zt({row:t,onDelete:o,onDecrease:s,onIncrease:r}){const{serviceDetails:{name:n,description:a,price:i},graveyardDetails:{name:l}}=t;return e.jsxs(Ge,{children:[e.jsx(A,{children:e.jsx(w,{noWrap:!0,variant:"subtitle2",sx:{maxWidth:240},children:n})}),e.jsx(A,{children:e.jsx(w,{noWrap:!0,variant:"subtitle2",sx:{maxWidth:240},children:e.jsxs(ne,{children:[" ",a," "]})})}),e.jsx(A,{children:me(i)}),e.jsx(A,{align:"center",sx:{px:1},children:e.jsx(w,{noWrap:!0,variant:"subtitle2",sx:{maxWidth:240},children:e.jsxs(ne,{children:[" ",l," "]})})}),e.jsx(A,{align:"right",sx:{px:1},children:e.jsx(Ce,{onClick:o,children:e.jsx(C,{icon:"solar:trash-bin-trash-bold"})})})]})}const Ft=[{id:"name",label:"Name"},{id:"description",label:"Description"},{id:"price",label:"Price"},{id:"graveyard",label:"Graveyard",align:"center"},{id:""}];function Et({products:t,onDelete:o,onIncreaseQuantity:s,onDecreaseQuantity:r}){return e.jsx(He,{sx:{overflow:"unset"},children:e.jsx(ye,{children:e.jsxs(Ve,{sx:{minWidth:720},children:[e.jsx(Be,{headLabel:Ft}),e.jsx(Ye,{children:t&&t.map(n=>e.jsx(zt,{row:n,onDelete:()=>o(n.id||""),onDecrease:()=>r(n.id||""),onIncrease:()=>s(n.id||"")},n.id))})]})})})}function _t({checkout:t,handleSetCheckout:o,handleOrderListDelete:s}){const{t:r}=J(),n=t.items&&!t.items.length,a=()=>{o({...t,activeStep:1})};return e.jsxs(f,{container:!0,spacing:3,children:[e.jsx(f,{xs:12,md:8,children:e.jsxs(B,{sx:{mb:3},children:[e.jsx(G,{title:e.jsxs(w,{variant:"h6",children:[r("Cart"),e.jsxs(w,{component:"span",sx:{color:"text.secondary"},children:[" (",t.totalItems," item)"]})]}),sx:{mb:3}}),n?e.jsx(qe,{title:r("Cart is Empty!"),description:r("Look like you have no items in your shopping cart."),imgUrl:"/assets/icons/empty/ic_cart.svg",sx:{pt:5,pb:10}}):e.jsx(Et,{products:t.items,onDelete:s,onIncreaseQuantity:()=>{},onDecreaseQuantity:()=>{}})]})}),e.jsxs(f,{xs:12,md:4,children:[e.jsx(be,{total:t.total}),e.jsx(Q,{fullWidth:!0,size:"large",type:"submit",variant:"contained",disabled:n,onClick:a,children:r("Check Out")})]})]})}const qt=g(ve)(({theme:t})=>({top:10,left:"calc(-50% + 20px)",right:"calc(50% + 20px)",[`& .${V.line}`]:{borderTopWidth:2,borderColor:t.palette.divider},[`&.${V.active}, &.${V.completed}`]:{[`& .${V.line}`]:{borderColor:t.palette.primary.main}}}));function Ut({steps:t,activeStep:o,sx:s,...r}){return e.jsx(At,{alternativeLabel:!0,activeStep:o,connector:e.jsx(qt,{}),sx:{mb:{xs:3,md:5},...s},...r,children:t.map(n=>e.jsx(rt,{children:e.jsx(gt,{StepIconComponent:Bt,sx:{[`& .${$.label}`]:{fontWeight:"fontWeightSemiBold"}},children:n})},n))})}function Bt({active:t,completed:o}){return e.jsx(I,{alignItems:"center",justifyContent:"center",sx:{width:24,height:24,color:"text.disabled",...t&&{color:"primary.main"}},children:o?e.jsx(C,{icon:"eva:checkmark-fill",sx:{color:"primary.main"}}):e.jsx(T,{sx:{width:8,height:8,borderRadius:"50%",backgroundColor:"currentColor"}})})}function Gt({options:t,onApplyShipping:o,...s}){const{control:r}=ae();return e.jsxs(B,{...s,children:[e.jsx(G,{title:"Delivery"}),e.jsx(ie,{name:"delivery",control:r,render:({field:n})=>e.jsx(T,{columnGap:2,rowGap:2.5,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},sx:{p:3},children:t.map(a=>e.jsx(Ht,{option:a,selected:n.value===a.value,onClick:()=>{n.onChange(a.value),o(a.value)}},a.label))})})]})}function Ht({option:t,selected:o,...s}){const{value:r,label:n,description:a}=t;return e.jsxs(ee,{variant:"outlined",sx:{p:2.5,cursor:"pointer",display:"flex",...o&&{boxShadow:i=>`0 0 0 2px ${i.palette.text.primary}`}},...s,children:[n==="Free"&&e.jsx(C,{icon:"carbon:bicycle",width:32}),n==="Standard"&&e.jsx(C,{icon:"carbon:delivery",width:32}),n==="Express"&&e.jsx(C,{icon:"carbon:rocket",width:32}),e.jsx(le,{sx:{ml:2},primary:e.jsxs(I,{direction:"row",alignItems:"center",children:[e.jsx(T,{component:"span",sx:{flexGrow:1},children:n}),e.jsx(T,{component:"span",sx:{typography:"h6"},children:`$${r}`})]}),secondary:a,primaryTypographyProps:{typography:"subtitle1",mb:.5},secondaryTypographyProps:{typography:"body2"}})]},r)}function Vt({options:t,cardOptions:o,...s}){const{control:r}=ae(),n=Se();return e.jsxs(e.Fragment,{children:[e.jsxs(B,{...s,children:[e.jsx(G,{title:"Payment"}),e.jsx(ie,{name:"payment",control:r,render:({field:a,fieldState:{error:i}})=>e.jsxs(I,{sx:{px:3,pb:3},children:[t.map(l=>e.jsx(Yt,{option:l,onOpen:n.onTrue,cardOptions:o,selected:a.value===l.value,isCredit:l.value==="credit"&&a.value==="credit",onClick:()=>{a.onChange(l.value)}},l.label)),!!i&&e.jsx(fe,{error:!0,sx:{pt:1,px:2},children:i.message})]})})]}),e.jsx(Qe,{open:n.value,onClose:n.onFalse})]})}function Yt({option:t,cardOptions:o,selected:s,isCredit:r,onOpen:n,...a}){const{value:i,label:l,description:c}=t;return e.jsxs(ee,{variant:"outlined",sx:{p:2.5,mt:2.5,cursor:"pointer",...s&&{boxShadow:d=>`0 0 0 2px ${d.palette.text.primary}`}},...a,children:[e.jsx(le,{primary:e.jsxs(I,{direction:"row",alignItems:"center",children:[e.jsx(T,{component:"span",sx:{flexGrow:1},children:l}),e.jsxs(I,{spacing:1,direction:"row",alignItems:"center",children:[i==="credit"&&e.jsxs(e.Fragment,{children:[e.jsx(C,{icon:"logos:mastercard",width:24}),",",e.jsx(C,{icon:"logos:visa",width:24})]}),i==="paypal"&&e.jsx(C,{icon:"logos:paypal",width:24}),i==="cash"&&e.jsx(C,{icon:"solar:wad-of-money-bold",width:32})]})]}),secondary:c,primaryTypographyProps:{typography:"subtitle1",mb:.5},secondaryTypographyProps:{typography:"body2"}}),r&&e.jsxs(I,{spacing:2.5,alignItems:"flex-end",sx:{pt:2.5},children:[e.jsx(ge,{select:!0,fullWidth:!0,label:"Cards",SelectProps:{native:!0},children:o.map(d=>e.jsx("option",{value:d.value,children:d.label},d.value))}),e.jsx(Q,{size:"small",color:"primary",startIcon:e.jsx(C,{icon:"mingcute:add-line"}),onClick:n,children:"Add New Card"})]})]},i)}const Qt=[{value:0,label:"Free",description:"5-7 Days delivery"},{value:10,label:"Standard",description:"3-5 Days delivery"},{value:20,label:"Express",description:"2-3 Days delivery"}],Jt=[{value:"paypal",label:"Pay with Paypal",description:"You will be redirected to PayPal website to complete your purchase securely."},{value:"credit",label:"Credit / Debit Card",description:"We support Mastercard, Visa, Discover and Stripe."},{value:"cash",label:"Cash",description:"Pay with cash when your order is delivered."}],Kt=[{value:"ViSa1",label:"**** **** **** 1212 - Jimmy Holland"},{value:"ViSa2",label:"**** **** **** 2424 - Shawn Stokes"},{value:"MasterCard",label:"**** **** **** 4545 - Cole Armstrong"}];function Xt({checkout1:t,handleSetCheckout:o,handleSubmitData:s}){const r=Le(),n=ce().shape({payment:z().required("Payment is required")}),a={delivery:r.shipping,payment:""},i=de({resolver:pe(n),defaultValues:a}),{handleSubmit:l}=i,c=l(async d=>{try{r.onNextStep(),r.onReset(),s()}catch(u){console.error(u)}});return e.jsx(ue,{methods:i,onSubmit:c,children:e.jsxs(f,{container:!0,spacing:3,children:[e.jsxs(f,{xs:12,md:8,children:[e.jsx(Gt,{onApplyShipping:r.onApplyShipping,options:Qt}),e.jsx(Vt,{cardOptions:Kt,options:Jt,sx:{my:3}})]}),e.jsxs(f,{xs:12,md:4,children:[e.jsx(be,{total:t.total}),e.jsx(xe,{fullWidth:!0,size:"large",type:"submit",variant:"contained",onClick:s,children:"Complete Order"})]})]})})}function Zt({open:t,onReset:o,onDownloadPDF:s}){const r=e.jsxs(I,{spacing:5,sx:{m:"auto",maxWidth:480,textAlign:"center",px:{xs:2,sm:0}},children:[e.jsx(w,{variant:"h4",children:"Thank you for your purchase!"}),e.jsx(Pe,{sx:{height:260}}),e.jsxs(w,{children:["Thanks for placing order",e.jsx("br",{}),e.jsx("br",{}),e.jsx($e,{children:"01dc1370-3df6-11eb-b378-0242ac130002"}),e.jsx("br",{}),e.jsx("br",{}),"We will send you a notification within 5 days when it ships.",e.jsx("br",{})," If you have any question or queries then fell to get in contact us. ",e.jsx("br",{})," ",e.jsx("br",{}),"All the best,"]}),e.jsx(ke,{sx:{borderStyle:"dashed"}}),e.jsxs(I,{spacing:2,justifyContent:"space-between",direction:{xs:"column-reverse",sm:"row"},children:[e.jsx(Q,{fullWidth:!0,size:"large",color:"inherit",variant:"outlined",onClick:o,startIcon:e.jsx(C,{icon:"eva:arrow-ios-back-fill"}),children:"Continue Shopping"}),e.jsx(Q,{fullWidth:!0,size:"large",variant:"contained",startIcon:e.jsx(C,{icon:"eva:cloud-download-fill"}),onClick:s,children:"Download as PDF"})]})]});return e.jsx(Ke,{children:t&&e.jsx(Ie,{fullWidth:!0,fullScreen:!0,open:t,PaperComponent:n=>e.jsx(T,{component:we.div,...Je({distance:120,durationIn:.32,durationOut:.24,easeIn:"easeInOut"}).inUp,sx:{width:1,height:1,p:{md:3}},children:e.jsx(ee,{...n,children:n.children})}),children:r})})}function en({checkout:t,handleSetCheckout:o,handleSetContactInfo:s}){const{t:r}=J(),{user:n}=Re(),[a]=m.useState(""),i=ce().shape({name:z().required("Name is required"),ssn:z().required("SSN is required"),email:z().required("Mail is required"),phone:z().required("Phone is required")}),l=m.useMemo(()=>({name:(n==null?void 0:n.name)||"",ssn:(n==null?void 0:n.ssn)||"",email:(n==null?void 0:n.email)||"",phone:(n==null?void 0:n.phone)||""}),[n]),c=de({resolver:pe(i),defaultValues:l}),{watch:d,handleSubmit:u,formState:{isSubmitting:p}}=c,v=d(),j=u(()=>{s(v),o({...t,contactInfo:v,activeStep:2})}),y=e.jsx(f,{xs:12,md:12,children:e.jsxs(B,{children:[e.jsx(G,{title:r("Details")}),e.jsxs(I,{spacing:3,sx:{p:3},children:[e.jsx(H,{name:"ssn",label:r("Social Security Number")}),e.jsx(H,{name:"name",label:r("Your Name")}),e.jsx(H,{name:"email",label:r("Your E-mail")}),e.jsx(H,{name:"phone",label:r("Your Phone")})]})]})}),x=e.jsx(f,{xs:12,md:12,sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:e.jsx(xe,{type:"submit",variant:"contained",size:"large",loading:p,children:r("Save Contact")})});return e.jsx(ue,{methods:c,onSubmit:j,children:e.jsxs(f,{container:!0,spacing:3,children:[!!a&&e.jsx(Te,{severity:"error",sx:{mb:3},children:a}),y,x]})})}const Y={completed:!1,activeStep:0,items:[],subTotal:0,total:0,discount:0,shipping:0,billing:null,totalItems:0,contactInfo:null};function tn({id:t,graveyardId:o}){const{t:s}=J(),r=Ne(),[n,a]=m.useState(Y),{enqueueSnackbar:i}=Me(),l=De(),{services:c,servicesLoading:d}=Oe(o);m.useEffect(()=>{if(c&&c.length){let x=0;c.forEach(b=>{x+=Number(b.serviceDetails.price)}),a({...n,total:x,items:c})}else a({...n,total:0,items:[]})},[c,n]);const u=x=>{const b=n.items.filter(P=>P.id!==x);a({...n,items:b})},p=x=>{a({...n,contactInfo:x})},v=async()=>{const x=n.items.map(S=>S.serviceId).filter(S=>S!==void 0),b={...n.contactInfo,graveyardId:o,gravestoneId:t,servicesList:x};(await _e(b)).results.success?(a(Y),i("Order success!"),l.push(ze)):(console.error("Order did not success!"),a(Y))},j=x=>{a({...n,...x})},y=()=>{a(Y)};return e.jsxs(We,{maxWidth:r.themeStretch?!1:"lg",sx:{mb:10},children:[e.jsx(w,{variant:"h4",sx:{my:{xs:3,md:5}},children:s("Order Grave Care")}),!d&&e.jsxs(e.Fragment,{children:[e.jsx(f,{container:!0,justifyContent:n.completed?"center":"flex-start",children:e.jsx(f,{xs:12,md:8,children:e.jsx(Ut,{activeStep:n.activeStep,steps:Ae})})}),n.completed?e.jsx(Zt,{open:n.completed,onReset:y,onDownloadPDF:()=>{}}):e.jsxs(e.Fragment,{children:[n.activeStep===0&&e.jsx(_t,{checkout:n,handleSetCheckout:j,handleOrderListDelete:u}),n.activeStep===1&&e.jsx(en,{checkout:n,handleSetCheckout:j,handleSetContactInfo:p}),n.activeStep===2&&e.jsx(Xt,{checkout1:n,handleSetCheckout:j,handleSubmitData:v})]})]})]})}function Sn(){const t=Fe(),{id:o,graveyardId:s}=t;return e.jsxs(e.Fragment,{children:[e.jsx(Ee,{children:e.jsx("title",{children:" Checkout"})}),e.jsx(tn,{id:`${o}`,graveyardId:`${s}`})]})}export{Sn as default};
