import{u as v,r as L,a as S,b as F,P,j as e,S as o,T as l,L as c,R as T,p as A,I as E,c as I,d as R,H as k}from"./index-lMmDPpwH.js";import{c as H,a as d}from"./index.esm-V-50jqn-.js";import{u as q,F as C}from"./form-provider-f1RDglyc.js";import{o as B,R as m}from"./rhf-text-field-caf8ax7a.js";import"./image-BILO_BCm.js";import"./mui-one-time-password-input.es-I6hoYgDw.js";import"./styles-stj5iCp_.js";import{A as M}from"./Alert-J0QsY6ma.js";import{L as J}from"./LoadingButton-fI_uTZ9h.js";import"./TextField-L8IfDKvJ.js";import"./Close-KqYWU_Vs.js";import"./CircularProgress-7JKEdLOP.js";function N(){const{login:s}=v(),[t,u]=L.useState(""),p=S().get("returnTo"),a=F(),h=H().shape({email:d().required("Email is required").email("Email must be a valid email address"),password:d().required("Password is required")}),x={email:"sorokinart777@gmail.com",password:"Crab1202!"},n=q({resolver:B(h),defaultValues:x}),{reset:g,handleSubmit:j,formState:{isSubmitting:f}}=n,w=j(async i=>{try{await(s==null?void 0:s(i.email,i.password)),console.log("rules ======",p||P)}catch(r){console.error(r),g(),u(typeof r=="string"?r:r.message)}}),b=e.jsxs(o,{spacing:2,sx:{mb:5},children:[e.jsx(l,{variant:"h4",children:"Sign in to Minimal"}),e.jsxs(o,{direction:"row",spacing:.5,children:[e.jsx(l,{variant:"body2",children:"New user?"}),e.jsx(c,{component:T,href:A.auth.jwt.register,variant:"subtitle2",children:"Create an account"})]})]}),y=e.jsxs(o,{spacing:2.5,children:[e.jsx(m,{name:"email",label:"Email address"}),e.jsx(m,{name:"password",label:"Password",type:a.value?"text":"password",InputProps:{endAdornment:e.jsx(E,{position:"end",children:e.jsx(I,{onClick:a.onToggle,edge:"end",children:e.jsx(R,{icon:a.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(c,{variant:"body2",color:"inherit",underline:"always",sx:{alignSelf:"flex-end"},children:"Forgot password?"}),e.jsx(J,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:f,children:"Login"})]});return e.jsxs(e.Fragment,{children:[b,!!t&&e.jsx(M,{severity:"error",sx:{mb:3},children:t}),e.jsx(C,{methods:n,onSubmit:w,children:y})]})}function Z(){return e.jsxs(e.Fragment,{children:[e.jsx(k,{children:e.jsx("title",{children:" Jwt: Login"})}),e.jsx(N,{})]})}export{Z as default};
