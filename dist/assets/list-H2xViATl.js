import{aX as Q,r,j as e,aZ as C,aY as X,d as p,S as j,B as y,i as w,n as Y,k as Z,g as z,aP as J,bp as $,aD as ee,A as te,L as oe,du as se,b as le,e as re,h as ne,a9 as ie,p as g,dz as I,C as ae,R as ce,H as de}from"./index-uKP6CWMZ.js";import"./index-mmyIBA3o.js";import"./index.esm-IE62FTq2.js";import"./image-J6RLhyGE.js";import"./mui-one-time-password-input.es-BcSk2K9t.js";import"./styles-Iq_cUUs_.js";import"./_baseToString-3yjqe-jo.js";import"./color-picker-xp0V95Zs.js";import{u as ue}from"./product-gYBnlrB4.js";import{E as O}from"./empty-content-6S2avRT4.js";import{C as he}from"./confirm-dialog-c-Bwzeks.js";import{C as pe}from"./custom-breadcrumbs-NP18BrmO.js";import{a as L,b as G,S as F,O as N}from"./TextField-_fFnceOQ.js";import{C as E}from"./Checkbox-hWbKg421.js";import{C as M}from"./Chip-fErUxNUa.js";import{f as xe}from"./format-number-AF8iE2Vh.js";import{C as me}from"./Card-ZPFmK4Qe.js";import{G as be,a as je}from"./GridToolbarFilterButton-5zKPmP3H.js";import{b as P,D as fe,G as Ce,a as ge,c as we}from"./DataGrid-mEEba-Lb.js";import"./incrementer-button-jDh4AMbS.js";import"./product-details-carousel-_EL8q2IY.js";import"./styles-cjM_IUyt.js";import"./DialogTitle-bWKPJ_GI.js";import"./dialogTitleClasses-4OisbbGl.js";import"./DialogContent-EN4Kwb3C.js";import"./DialogActions-NgwBpQwT.js";import"./SwitchBase-iEeiDFCM.js";import"./index-Ksc6MbJr.js";import"./Autocomplete-4tPjx8u0.js";import"./Close-GchQPTjm.js";import"./ClickAwayListener-nYMTW2y9.js";import"./Switch-H0reFH8F.js";import"./Skeleton-u4DLitaA.js";import"./CircularProgress-Gug_zbFD.js";import"./TablePagination-L0fVt_N1.js";import"./FirstPage-j09lTkWh.js";import"./TableCell-45jvoQ7m.js";import"./FormControlLabel-K7ZxdnHO.js";import"./use-light-box-O89Cqwl1.js";import"./carousel-arrow-index-HrmtrjO8.js";function ye({filters:t,onFilters:n,stockOptions:c,publishOptions:d}){const i=Q(),[x,h]=r.useState(t.stock),[s,u]=r.useState(t.publish),m=r.useCallback(l=>{const{target:{value:a}}=l;h(typeof a=="string"?a.split(","):a)},[]),b=r.useCallback(l=>{const{target:{value:a}}=l;u(typeof a=="string"?a.split(","):a)},[]),k=r.useCallback(()=>{n("stock",x)},[n,x]),v=r.useCallback(()=>{n("publish",s)},[n,s]);return e.jsxs(e.Fragment,{children:[e.jsxs(L,{sx:{flexShrink:0,width:{xs:1,md:200}},children:[e.jsx(G,{children:"Stock"}),e.jsx(F,{multiple:!0,value:x,onChange:m,input:e.jsx(N,{label:"Stock"}),renderValue:l=>l.map(a=>a).join(", "),onClose:k,sx:{textTransform:"capitalize"},children:c.map(l=>e.jsxs(C,{value:l.value,children:[e.jsx(E,{disableRipple:!0,size:"small",checked:x.includes(l.value)}),l.label]},l.value))})]}),e.jsxs(L,{sx:{flexShrink:0,width:{xs:1,md:200}},children:[e.jsx(G,{children:"Publish"}),e.jsx(F,{multiple:!0,value:s,onChange:b,input:e.jsx(N,{label:"Publish"}),renderValue:l=>l.map(a=>a).join(", "),onClose:v,sx:{textTransform:"capitalize"},children:d.map(l=>e.jsxs(C,{value:l.value,children:[e.jsx(E,{disableRipple:!0,size:"small",checked:s.includes(l.value)}),l.label]},l.value))})]}),e.jsxs(X,{open:i.open,onClose:i.onClose,arrow:"right-top",sx:{width:140},children:[e.jsxs(C,{onClick:()=>{i.onClose()},children:[e.jsx(p,{icon:"solar:printer-minimalistic-bold"}),"Print"]}),e.jsxs(C,{onClick:()=>{i.onClose()},children:[e.jsx(p,{icon:"solar:import-bold"}),"Import"]}),e.jsxs(C,{onClick:()=>{i.onClose()},children:[e.jsx(p,{icon:"solar:export-bold"}),"Export"]})]})]})}function ke({filters:t,onFilters:n,onResetFilters:c,results:d,...i}){const x=r.useCallback(s=>{const u=t.stock.filter(m=>m!==s);n("stock",u)},[t.stock,n]),h=r.useCallback(s=>{const u=t.publish.filter(m=>m!==s);n("publish",u)},[t.publish,n]);return e.jsxs(j,{spacing:1.5,...i,children:[e.jsxs(y,{sx:{typography:"body2"},children:[e.jsx("strong",{children:d}),e.jsx(y,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),e.jsxs(j,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[!!t.stock.length&&e.jsx(A,{label:"Stock:",children:t.stock.map(s=>e.jsx(M,{label:s,size:"small",onDelete:()=>x(s)},s))}),!!t.publish.length&&e.jsx(A,{label:"Publish:",children:t.publish.map(s=>e.jsx(M,{label:s,size:"small",onDelete:()=>h(s)},s))}),e.jsx(w,{color:"error",onClick:c,startIcon:e.jsx(p,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]})}function A({label:t,children:n,sx:c,...d}){return e.jsxs(j,{component:Y,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...c},...d,children:[e.jsx(y,{component:"span",sx:{typography:"subtitle2"},children:t}),e.jsx(j,{spacing:1,direction:"row",flexWrap:"wrap",children:n})]})}function ve({params:t}){return e.jsx(e.Fragment,{children:xe(t.row.price)})}function Se({params:t}){return e.jsx(Z,{variant:"soft",color:t.row.publish==="published"&&"info"||"default",children:t.row.publish})}function Pe({params:t}){return e.jsx(z,{primary:J(t.row.createdAt),secondary:$(t.row.createdAt),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}function Re({params:t}){return e.jsxs(j,{sx:{typography:"caption",color:"text.secondary"},children:[e.jsx(ee,{value:t.row.available*100/t.row.quantity,variant:"determinate",color:t.row.inventoryType==="out of stock"&&"error"||t.row.inventoryType==="low stock"&&"warning"||"success",sx:{mb:1,height:6,maxWidth:80}}),!!t.row.available&&t.row.available," ",t.row.inventoryType]})}function Te({params:t}){return e.jsxs(j,{direction:"row",alignItems:"center",sx:{py:2,width:1},children:[e.jsx(te,{alt:t.row.name,src:t.row.coverUrl,variant:"rounded",sx:{width:64,height:64,mr:2}}),e.jsx(z,{disableTypography:!0,primary:e.jsx(oe,{noWrap:!0,color:"inherit",variant:"subtitle2",onClick:t.row.onViewRow,sx:{cursor:"pointer"},children:t.row.name}),secondary:e.jsx(y,{component:"div",sx:{typography:"body2",color:"text.disabled"},children:t.row.category}),sx:{display:"flex",flexDirection:"column"}})]})}const V=[{value:"published",label:"Published"},{value:"draft",label:"Draft"}],R={publish:[],stock:[]},De={category:!1},Ie=["category","actions"];function Oe(){const{enqueueSnackbar:t}=se(),n=le(),c=re(),d=ne(),{products:i,productsLoading:x}=ue(),[h,s]=r.useState([]),[u,m]=r.useState(R),[b,k]=r.useState([]),[v,l]=r.useState(De);r.useEffect(()=>{i.length&&s(i)},[i]);const a=Le({inputData:h,filters:u}),B=!ie(R,u),T=r.useCallback((o,f)=>{m(S=>({...S,[o]:f}))},[]),W=r.useCallback(()=>{m(R)},[]),H=r.useCallback(o=>{const f=h.filter(S=>S.id!==o);t("Delete success!"),s(f)},[t,h]),_=r.useCallback(()=>{const o=h.filter(f=>!b.includes(f.id));t("Delete success!"),s(o)},[t,b,h]),U=r.useCallback(o=>{c.push(g.dashboard.product.edit(o))},[c]),q=r.useCallback(o=>{c.push(g.dashboard.product.details(o))},[c]),D=[{field:"category",headerName:"Category",filterable:!1},{field:"name",headerName:"Product",flex:1,minWidth:360,hideable:!1,renderCell:o=>e.jsx(Te,{params:o})},{field:"createdAt",headerName:"Create at",width:160,renderCell:o=>e.jsx(Pe,{params:o})},{field:"inventoryType",headerName:"Stock",width:160,type:"singleSelect",valueOptions:I,renderCell:o=>e.jsx(Re,{params:o})},{field:"price",headerName:"Price",width:140,editable:!0,renderCell:o=>e.jsx(ve,{params:o})},{field:"publish",headerName:"Publish",width:110,type:"singleSelect",editable:!0,valueOptions:V,renderCell:o=>e.jsx(Se,{params:o})},{type:"actions",field:"actions",headerName:" ",align:"right",headerAlign:"right",width:80,sortable:!1,filterable:!1,disableColumnMenu:!0,getActions:o=>[e.jsx(P,{showInMenu:!0,icon:e.jsx(p,{icon:"solar:eye-bold"}),label:"View",onClick:()=>q(o.row.id)}),e.jsx(P,{showInMenu:!0,icon:e.jsx(p,{icon:"solar:pen-bold"}),label:"Edit",onClick:()=>U(o.row.id)}),e.jsx(P,{showInMenu:!0,icon:e.jsx(p,{icon:"solar:trash-bin-trash-bold"}),label:"Delete",onClick:()=>{H(o.row.id)},sx:{color:"error.main"}})]}],K=()=>D.filter(o=>!Ie.includes(o.field)).map(o=>o.field);return e.jsxs(e.Fragment,{children:[e.jsxs(ae,{maxWidth:d.themeStretch?!1:"lg",sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[e.jsx(pe,{heading:"List",links:[{name:"Dashboard",href:g.dashboard.root},{name:"Product",href:g.dashboard.product.root},{name:"List"}],action:e.jsx(w,{component:ce,href:g.dashboard.product.new,variant:"contained",startIcon:e.jsx(p,{icon:"mingcute:add-line"}),children:"New Product"}),sx:{mb:{xs:3,md:5}}}),e.jsx(me,{sx:{height:{xs:800,md:2},flexGrow:{md:1},display:{md:"flex"},flexDirection:{md:"column"}},children:e.jsx(fe,{checkboxSelection:!0,disableRowSelectionOnClick:!0,rows:a,columns:D,loading:x,getRowHeight:()=>"auto",pageSizeOptions:[5,10,25],initialState:{pagination:{paginationModel:{pageSize:10}}},onRowSelectionModelChange:o=>{k(o)},columnVisibilityModel:v,onColumnVisibilityModelChange:o=>l(o),slots:{toolbar:()=>e.jsxs(e.Fragment,{children:[e.jsxs(Ce,{children:[e.jsx(ye,{filters:u,onFilters:T,stockOptions:I,publishOptions:V}),e.jsx(ge,{}),e.jsxs(j,{spacing:1,flexGrow:1,direction:"row",alignItems:"center",justifyContent:"flex-end",children:[!!b.length&&e.jsxs(w,{size:"small",color:"error",startIcon:e.jsx(p,{icon:"solar:trash-bin-trash-bold"}),onClick:n.onTrue,children:["Delete (",b.length,")"]}),e.jsx(be,{}),e.jsx(je,{}),e.jsx(we,{})]})]}),B&&e.jsx(ke,{filters:u,onFilters:T,onResetFilters:W,results:a.length,sx:{p:2.5,pt:0}})]}),noRowsOverlay:()=>e.jsx(O,{title:"No Data"}),noResultsOverlay:()=>e.jsx(O,{title:"No results found"})},slotProps:{columnsPanel:{getTogglableColumns:K}}})})]}),e.jsx(he,{open:n.value,onClose:n.onFalse,title:"Delete",content:e.jsxs(e.Fragment,{children:["Are you sure want to delete ",e.jsxs("strong",{children:[" ",b.length," "]})," items?"]}),action:e.jsx(w,{variant:"contained",color:"error",onClick:()=>{_(),n.onFalse()},children:"Delete"})})]})}function Le({inputData:t,filters:n}){const{stock:c,publish:d}=n;return c.length&&(t=t.filter(i=>c.includes(i.inventoryType))),d.length&&(t=t.filter(i=>d.includes(i.publish))),t}function Ct(){return e.jsxs(e.Fragment,{children:[e.jsx(de,{children:e.jsx("title",{children:" Dashboard: Product List"})}),e.jsx(Oe,{})]})}export{Ct as default};
