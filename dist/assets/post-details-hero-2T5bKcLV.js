import{r,aB as J,ar as N,Z as se,j as a,ap as l,cU as ye,dp as De,dq as te,aA as ae,az as re,t as U,E as V,aq as le,X as Te,as as H,M as Ee,at as ce,cg as Ce,ab as Se,aE as Pe,B as ve,aj as we,ak as oe,C as Re,T as Ae,S as ne,A as $e,g as Le,aU as je,d as ie,aK as Fe}from"./index-tv0ZIiTC.js";import{F as pe}from"./Fab-zNUleQFa.js";const Me=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],ke={entering:{transform:"none"},entered:{transform:"none"}},Oe=r.forwardRef(function(t,n){const s=J(),c={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{addEndListener:C,appear:f=!0,children:L,easing:g,in:j,onEnter:S,onEntered:M,onEntering:h,onExit:P,onExited:p,onExiting:y,style:b,timeout:D=c,TransitionComponent:v=ye}=t,w=N(t,Me),R=r.useRef(null),k=se(R,L.ref,n),x=i=>d=>{if(i){const T=R.current;d===void 0?i(T):i(T,d)}},q=x(h),O=x((i,d)=>{De(i);const T=te({style:b,timeout:D,easing:g},{mode:"enter"});i.style.webkitTransition=s.transitions.create("transform",T),i.style.transition=s.transitions.create("transform",T),S&&S(i,d)}),W=x(M),m=x(y),A=x(i=>{const d=te({style:b,timeout:D,easing:g},{mode:"exit"});i.style.webkitTransition=s.transitions.create("transform",d),i.style.transition=s.transitions.create("transform",d),P&&P(i)}),I=x(p),B=i=>{C&&C(R.current,i)};return a.jsx(v,l({appear:f,in:j,nodeRef:R,onEnter:O,onEntered:W,onEntering:q,onExit:A,onExited:I,onExiting:m,addEndListener:B,timeout:D},w,{children:(i,d)=>r.cloneElement(L,l({style:l({transform:"scale(0)",visibility:i==="exited"&&!j?"hidden":void 0},ke[i],b,L.props.style),ref:k},d))}))}),Ie=Oe;function Be(e){return re("MuiSpeedDial",e)}const Ue=ae("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),K=Ue,ze=["ref"],Ne=["ariaLabel","FabProps","children","className","direction","hidden","icon","onBlur","onClose","onFocus","onKeyDown","onMouseEnter","onMouseLeave","onOpen","open","openIcon","TransitionComponent","transitionDuration","TransitionProps"],_e=["ref"],Ke=e=>{const{classes:t,open:n,direction:s}=e,c={root:["root",`direction${V(s)}`],fab:["fab"],actions:["actions",!n&&"actionsClosed"]};return ce(c,Be,t)};function z(e){if(e==="up"||e==="down")return"vertical";if(e==="right"||e==="left")return"horizontal"}function Ze(e,t,n){return e<t?t:e>n?n:e}const $=32,Z=16,He=U("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`direction${V(n.direction)}`]]}})(({theme:e,ownerState:t})=>l({zIndex:(e.vars||e).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none"},t.direction==="up"&&{flexDirection:"column-reverse",[`& .${K.actions}`]:{flexDirection:"column-reverse",marginBottom:-$,paddingBottom:Z+$}},t.direction==="down"&&{flexDirection:"column",[`& .${K.actions}`]:{flexDirection:"column",marginTop:-$,paddingTop:Z+$}},t.direction==="left"&&{flexDirection:"row-reverse",[`& .${K.actions}`]:{flexDirection:"row-reverse",marginRight:-$,paddingRight:Z+$}},t.direction==="right"&&{flexDirection:"row",[`& .${K.actions}`]:{flexDirection:"row",marginLeft:-$,paddingLeft:Z+$}})),Ve=U(pe,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:(e,t)=>t.fab})(()=>({pointerEvents:"auto"})),qe=U("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.actions,!n.open&&t.actionsClosed]}})(({ownerState:e})=>l({display:"flex",pointerEvents:"auto"},!e.open&&{transition:"top 0s linear 0.2s",pointerEvents:"none"})),We=r.forwardRef(function(t,n){const s=le({props:t,name:"MuiSpeedDial"}),c=J(),C={enter:c.transitions.duration.enteringScreen,exit:c.transitions.duration.leavingScreen},{ariaLabel:f,FabProps:{ref:L}={},children:g,className:j,direction:S="up",hidden:M=!1,icon:h,onBlur:P,onClose:p,onFocus:y,onKeyDown:b,onMouseEnter:D,onMouseLeave:v,onOpen:w,open:R,TransitionComponent:k=Ie,transitionDuration:x=C,TransitionProps:q}=s,O=N(s.FabProps,ze),W=N(s,Ne),[m,A]=Te({controlled:R,default:!1,name:"SpeedDial",state:"open"}),I=l({},s,{open:m,direction:S}),B=Ke(I),i=r.useRef();r.useEffect(()=>()=>{clearTimeout(i.current)},[]);const d=r.useRef(0),T=r.useRef(),F=r.useRef([]);F.current=[F.current[0]];const de=r.useCallback(o=>{F.current[0]=o},[]),ue=se(L,de),fe=(o,u)=>E=>{F.current[o+1]=E,u&&u(E)},me=o=>{b&&b(o);const u=o.key.replace("Arrow","").toLowerCase(),{current:E=u}=T;if(o.key==="Escape"){A(!1),F.current[0].focus(),p&&p(o,"escapeKeyDown");return}if(z(u)===z(E)&&z(u)!==void 0){o.preventDefault();const X=u===E?1:-1,_=Ze(d.current+X,0,F.current.length-1);F.current[_].focus(),d.current=_,T.current=E}};r.useEffect(()=>{m||(d.current=0,T.current=void 0)},[m]);const Q=o=>{o.type==="mouseleave"&&v&&v(o),o.type==="blur"&&P&&P(o),clearTimeout(i.current),o.type==="blur"?i.current=setTimeout(()=>{A(!1),p&&p(o,"blur")}):(A(!1),p&&p(o,"mouseLeave"))},xe=o=>{O.onClick&&O.onClick(o),clearTimeout(i.current),m?(A(!1),p&&p(o,"toggle")):(A(!0),w&&w(o,"toggle"))},Y=o=>{o.type==="mouseenter"&&D&&D(o),o.type==="focus"&&y&&y(o),clearTimeout(i.current),m||(i.current=setTimeout(()=>{A(!0),w&&w(o,{focus:"focus",mouseenter:"mouseEnter"}[o.type])}))},G=f.replace(/^[^a-z]+|[^\w:.-]+/gi,""),ee=r.Children.toArray(g).filter(o=>r.isValidElement(o)),be=ee.map((o,u)=>{const E=o.props,{FabProps:{ref:X}={},tooltipPlacement:_}=E,ge=N(E.FabProps,_e),he=_||(z(S)==="vertical"?"left":"top");return r.cloneElement(o,{FabProps:l({},ge,{ref:fe(u,X)}),delay:30*(m?u:ee.length-u),open:m,tooltipPlacement:he,id:`${G}-action-${u}`})});return a.jsxs(He,l({className:H(B.root,j),ref:n,role:"presentation",onKeyDown:me,onBlur:Q,onFocus:Y,onMouseEnter:Y,onMouseLeave:Q,ownerState:I},W,{children:[a.jsx(k,l({in:!M,timeout:x,unmountOnExit:!0},q,{children:a.jsx(Ve,l({color:"primary","aria-label":f,"aria-haspopup":"true","aria-expanded":m,"aria-controls":`${G}-actions`},O,{onClick:xe,className:H(B.fab,O.className),ref:ue,ownerState:I,children:r.isValidElement(h)&&Ee(h,["SpeedDialIcon"])?r.cloneElement(h,{open:m}):h}))})),a.jsx(qe,{id:`${G}-actions`,role:"menu","aria-orientation":z(S),className:H(B.actions,!m&&B.actionsClosed),ownerState:I,children:be})]}))}),Ge=We;function Xe(e){return re("MuiSpeedDialAction",e)}const Je=ae("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]),Qe=Je,Ye=["className","delay","FabProps","icon","id","open","TooltipClasses","tooltipOpen","tooltipPlacement","tooltipTitle"],et=e=>{const{open:t,tooltipPlacement:n,classes:s}=e,c={fab:["fab",!t&&"fabClosed"],staticTooltip:["staticTooltip",`tooltipPlacement${V(n)}`,!t&&"staticTooltipClosed"],staticTooltipLabel:["staticTooltipLabel"]};return ce(c,Xe,s)},tt=U(pe,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.fab,!n.open&&t.fabClosed]}})(({theme:e,ownerState:t})=>l({margin:8,color:(e.vars||e).palette.text.secondary,backgroundColor:(e.vars||e).palette.background.paper,"&:hover":{backgroundColor:e.vars?e.vars.palette.SpeedDialAction.fabHoverBg:Ce(e.palette.background.paper,.15)},transition:`${e.transitions.create("transform",{duration:e.transitions.duration.shorter})}, opacity 0.8s`,opacity:1},!t.open&&{opacity:0,transform:"scale(0)"})),ot=U("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.staticTooltip,!n.open&&t.staticTooltipClosed,t[`tooltipPlacement${V(n.tooltipPlacement)}`]]}})(({theme:e,ownerState:t})=>({position:"relative",display:"flex",alignItems:"center",[`& .${Qe.staticTooltipLabel}`]:l({transition:e.transitions.create(["transform","opacity"],{duration:e.transitions.duration.shorter}),opacity:1},!t.open&&{opacity:0,transform:"scale(0.5)"},t.tooltipPlacement==="left"&&{transformOrigin:"100% 50%",right:"100%",marginRight:8},t.tooltipPlacement==="right"&&{transformOrigin:"0% 50%",left:"100%",marginLeft:8})})),nt=U("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel",overridesResolver:(e,t)=>t.staticTooltipLabel})(({theme:e})=>l({position:"absolute"},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.paper,borderRadius:(e.vars||e).shape.borderRadius,boxShadow:(e.vars||e).shadows[1],color:(e.vars||e).palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"})),it=r.forwardRef(function(t,n){const s=le({props:t,name:"MuiSpeedDialAction"}),{className:c,delay:C=0,FabProps:f={},icon:L,id:g,open:j,TooltipClasses:S,tooltipOpen:M=!1,tooltipPlacement:h="left",tooltipTitle:P}=s,p=N(s,Ye),y=l({},s,{tooltipPlacement:h}),b=et(y),[D,v]=r.useState(M),w=()=>{v(!1)},R=()=>{v(!0)},k={transitionDelay:`${C}ms`},x=a.jsx(tt,l({size:"small",className:H(b.fab,c),tabIndex:-1,role:"menuitem",ownerState:y},f,{style:l({},k,f.style),children:L}));return M?a.jsxs(ot,l({id:g,ref:n,className:b.staticTooltip,ownerState:y},p,{children:[a.jsx(nt,{style:k,id:`${g}-label`,className:b.staticTooltipLabel,ownerState:y,children:P}),r.cloneElement(x,{"aria-labelledby":`${g}-label`})]})):(!j&&D&&v(!1),a.jsx(Se,l({id:g,ref:n,title:P,placement:h,onClose:w,onOpen:R,open:j&&D,classes:S},p,{children:x})))}),st=it;function lt({title:e,author:t,coverUrl:n,createdAt:s}){const c=J(),C=Pe("up","sm");return a.jsx(ve,{sx:{height:480,overflow:"hidden",...we({imgUrl:n,startColor:`${oe(c.palette.grey[900],.64)} 0%`,endColor:`${oe(c.palette.grey[900],.64)} 100%`})},children:a.jsxs(Re,{sx:{height:1,position:"relative"},children:[a.jsx(Ae,{variant:"h3",component:"h1",sx:{zIndex:9,color:"common.white",position:"absolute",maxWidth:480,pt:{xs:2,md:8}},children:e}),a.jsxs(ne,{sx:{left:0,width:1,bottom:0,position:"absolute"},children:[t&&s&&a.jsxs(ne,{direction:"row",alignItems:"center",sx:{px:{xs:2,md:3},pb:{xs:3,md:8}},children:[a.jsx($e,{alt:t.name,src:t.avatarUrl,sx:{width:64,height:64,mr:2}}),a.jsx(Le,{sx:{color:"common.white"},primary:t.name,secondary:je(s),primaryTypographyProps:{typography:"subtitle1",mb:.5},secondaryTypographyProps:{color:"inherit",sx:{opacity:.64}}})]}),a.jsx(Ge,{direction:C?"left":"up",ariaLabel:"Share post",icon:a.jsx(ie,{icon:"solar:share-bold"}),FabProps:{size:"medium"},sx:{position:"absolute",bottom:{xs:32,md:64},right:{xs:16,md:24}},children:Fe.map(f=>a.jsx(st,{icon:a.jsx(ie,{icon:f.icon,sx:{color:f.color}}),tooltipTitle:f.name,tooltipPlacement:"top",FabProps:{color:"default"}},f.name))})]})]})})}export{lt as P};
