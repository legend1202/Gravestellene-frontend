import{j as e,G as C,S as i,A as ge,g as ye,aQ as ve,d,T as m,B as f,r as b,o as be,i as k,b as fe,aE as we,D as B,e as Ce,p as S,L as R,a_ as U,k as H,aY as Pe,R as T,a7 as M,c as N,aZ as ke,h as Ie,dz as Se,b6 as Re,ag as Te,b7 as De,C as Le,H as qe}from"./index-0EEk4iZQ.js";import{u as Fe}from"./use-params-L-9GgTCp.js";import"./index-1Mkwsv2_.js";import"./_baseToString-7jJ58x1w.js";import"./image-acGEfFNG.js";import{C as $e}from"./color-picker-Vn7Z78ZM.js";import{b as ze}from"./product-w77QEPgB.js";import{E as Be}from"./empty-content-3-d75FaV.js";import{S as v}from"./Skeleton-0YUfwzYa.js";import{s as We}from"./sumBy-2yNqt3g_.js";import{b as W,f as G}from"./format-number-dNe2IAU_.js";import{R as D}from"./Rating-l8XEaXwz.js";import{P as Ee,p as Oe}from"./Pagination-Ot5LkiXc.js";import{c as Ae,e as He,a as $}from"./index.esm-my7kJPFe.js";import{u as V,F as Q,C as Y}from"./form-provider-DbbfoAKV.js";import{R as z,o as Me}from"./rhf-text-field--yxsGIea.js";import"./mui-one-time-password-input.es-E_sWAgjy.js";import"./styles-0Fo7wtjK.js";import{D as Ne}from"./DialogTitle-gMc5th_H.js";import{D as Ge}from"./DialogContent-D6QLde_c.js";import{F as Ue,f as Ve}from"./TextField-F0LkYpi4.js";import{D as Qe}from"./DialogActions-C7GAKlVJ.js";import{L as _}from"./LoadingButton-lmIxABFB.js";import{R as Ye}from"./rhf-select-vVDgyEOa.js";import{I as _e,P as Ze}from"./product-details-carousel-xfv0eEkm.js";import{M as Je}from"./markdown-yNMDJPhy.js";import{C as Ke}from"./Card-Kk0fri6x.js";import"./styles-fiJOkRlm.js";import"./_baseIteratee-EnUzOk6k.js";import"./_baseSum-gu02AyRp.js";import"./visuallyHidden-DVicuktI.js";import"./FirstPage-qYFbG3Ri.js";import"./dialogTitleClasses-2npQ7FDd.js";import"./CircularProgress-8h46doOq.js";import"./Checkbox-hGthsInm.js";import"./SwitchBase-lkEHrjm8.js";import"./Chip-drim9T9J.js";import"./use-light-box-EfAHvnWp.js";import"./carousel-arrow-index-y479aOb0.js";function Xe({...s}){return e.jsxs(C,{container:!0,spacing:8,...s,children:[e.jsx(C,{xs:12,md:6,lg:7,children:e.jsx(v,{sx:{paddingTop:"100%"}})}),e.jsx(C,{xs:12,md:6,lg:5,children:e.jsxs(i,{spacing:3,children:[e.jsx(v,{sx:{height:16,width:48}}),e.jsx(v,{sx:{height:16,width:80}}),e.jsx(v,{sx:{height:16,width:.5}}),e.jsx(v,{sx:{height:16,width:.75}}),e.jsx(v,{sx:{height:120}})]})}),e.jsx(C,{xs:12,children:e.jsx(i,{direction:"row",alignItems:"center",children:[...Array(3)].map((r,a)=>e.jsxs(i,{spacing:2,alignItems:"center",justifyContent:"center",sx:{width:1},children:[e.jsx(v,{variant:"circular",sx:{width:80,height:80}}),e.jsx(v,{sx:{height:16,width:160}}),e.jsx(v,{sx:{height:16,width:80}})]},a))})})]})}function er({review:s}){const{name:r,rating:a,comment:c,postedAt:x,avatarUrl:h,attachments:p,isPurchased:u}=s,l=e.jsxs(i,{spacing:2,alignItems:"center",direction:{xs:"row",md:"column"},sx:{width:{md:240},textAlign:{md:"center"}},children:[e.jsx(ge,{src:h,sx:{width:{xs:48,md:64},height:{xs:48,md:64}}}),e.jsx(ye,{primary:r,secondary:ve(x),primaryTypographyProps:{noWrap:!0,typography:"subtitle2",mb:.5},secondaryTypographyProps:{noWrap:!0,typography:"caption",component:"span"}})]}),t=e.jsxs(i,{spacing:1,flexGrow:1,children:[e.jsx(D,{size:"small",value:a,precision:.1,readOnly:!0}),u&&e.jsxs(i,{direction:"row",alignItems:"center",sx:{color:"success.main",typography:"caption"},children:[e.jsx(d,{icon:"ic:round-verified",width:16,sx:{mr:.5}}),"Verified purchase"]}),e.jsx(m,{variant:"body2",children:c}),!!(p!=null&&p.length)&&e.jsx(i,{direction:"row",flexWrap:"wrap",spacing:1,sx:{pt:1},children:p.map(y=>e.jsx(f,{component:"img",alt:y,src:y,sx:{width:64,height:64,borderRadius:1.5}},y))}),e.jsxs(i,{direction:"row",spacing:2,sx:{pt:1.5},children:[e.jsxs(i,{direction:"row",alignItems:"center",sx:{typography:"caption"},children:[e.jsx(d,{icon:"solar:like-outline",width:16,sx:{mr:.5}}),"123"]}),e.jsxs(i,{direction:"row",alignItems:"center",sx:{typography:"caption"},children:[e.jsx(d,{icon:"solar:dislike-outline",width:16,sx:{mr:.5}}),"34"]})]})]});return e.jsxs(i,{spacing:2,direction:{xs:"column",md:"row"},sx:{mt:5,px:{xs:2.5,md:0}},children:[l,t]})}function rr({reviews:s}){return e.jsxs(e.Fragment,{children:[s.map(r=>e.jsx(er,{review:r},r.id)),e.jsx(Ee,{count:10,sx:{mx:"auto",[`& .${Oe.ul}`]:{my:5,mx:"auto",justifyContent:"center"}}})]})}function sr({onClose:s,...r}){var w;const a=Ae().shape({rating:He().min(1,"Rating must be greater than or equal to 1"),review:$().required("Review is required"),name:$().required("Name is required"),email:$().required("Email is required").email("Email must be a valid email address")}),c={rating:0,review:"",name:"",email:""},x=V({resolver:Me(a),defaultValues:c}),{reset:h,control:p,handleSubmit:u,formState:{errors:l,isSubmitting:t}}=x,y=u(async j=>{try{await new Promise(n=>setTimeout(n,500)),h(),s(),console.info("DATA",j)}catch(n){console.error(n)}}),I=b.useCallback(()=>{s(),h()},[s,h]);return e.jsx(be,{onClose:s,...r,children:e.jsxs(Q,{methods:x,onSubmit:y,children:[e.jsx(Ne,{children:" Add Review "}),e.jsxs(Ge,{children:[e.jsxs(i,{direction:"row",flexWrap:"wrap",alignItems:"center",spacing:1.5,children:[e.jsx(m,{variant:"body2",children:"Your review about this product:"}),e.jsx(Y,{name:"rating",control:p,render:({field:j})=>e.jsx(D,{...j,size:"small",value:Number(j.value),onChange:(n,P)=>{j.onChange(P)}})})]}),!!l.rating&&e.jsxs(Ue,{error:!0,children:[" ",(w=l.rating)==null?void 0:w.message]}),e.jsx(z,{name:"review",label:"Review *",multiline:!0,rows:3,sx:{mt:3}}),e.jsx(z,{name:"name",label:"Name *",sx:{mt:3}}),e.jsx(z,{name:"email",label:"Email *",sx:{mt:3}})]}),e.jsxs(Qe,{children:[e.jsx(k,{color:"inherit",variant:"outlined",onClick:I,children:"Cancel"}),e.jsx(_,{type:"submit",variant:"contained",loading:t,children:"Post"})]})]})})}function ir({totalRatings:s,totalReviews:r,ratings:a,reviews:c}){const x=fe(),h=We(a,t=>t.starCount),p=e.jsxs(i,{spacing:1,alignItems:"center",justifyContent:"center",children:[e.jsx(m,{variant:"subtitle2",children:"Average rating"}),e.jsxs(m,{variant:"h2",children:[s,"/5"]}),e.jsx(D,{readOnly:!0,value:s,precision:.1}),e.jsxs(m,{variant:"caption",sx:{color:"text.secondary"},children:["(",W(r)," reviews)"]})]}),u=e.jsx(i,{spacing:1.5,sx:{py:5,px:{xs:3,md:5},borderLeft:t=>({md:`dashed 1px ${t.palette.divider}`}),borderRight:t=>({md:`dashed 1px ${t.palette.divider}`})},children:a.slice(0).reverse().map(t=>e.jsxs(i,{direction:"row",alignItems:"center",children:[e.jsx(m,{variant:"subtitle2",component:"span",sx:{width:42},children:t.name}),e.jsx(we,{color:"inherit",variant:"determinate",value:t.starCount/h*100,sx:{mx:2,flexGrow:1}}),e.jsx(m,{variant:"body2",component:"span",sx:{minWidth:48,color:"text.secondary"},children:W(t.reviewCount)})]},t.name))}),l=e.jsx(i,{alignItems:"center",justifyContent:"center",children:e.jsx(k,{size:"large",variant:"soft",color:"inherit",onClick:x.onTrue,startIcon:e.jsx(d,{icon:"solar:pen-bold"}),children:"Write your review"})});return e.jsxs(e.Fragment,{children:[e.jsxs(f,{display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(3, 1fr)"},sx:{py:{xs:5,md:0}},children:[p,u,l]}),e.jsx(B,{sx:{borderStyle:"dashed"}}),e.jsx(rr,{reviews:c}),e.jsx(sr,{open:x.value,onClose:x.onFalse})]})}function tr({items:s,product:r,onAddCart:a,onGotoStep:c,disabledActions:x,...h}){const p=Ce(),{id:u,name:l,sizes:t,price:y,coverUrl:I,colors:w,newLabel:j,available:n,priceSale:P,saleLabel:L,totalRatings:Z,totalReviews:J,inventoryType:q,subDescription:K}=r,X=!!(s!=null&&s.length)&&s.map(o=>o.id).includes(u),ee=!!(s!=null&&s.length)&&s.filter(o=>o.id===u).map(o=>o.quantity)[0]>=n,E={id:u,name:l,coverUrl:I,available:n,price:y,colors:w[0],size:t[4],quantity:n<1?0:1},O=V({defaultValues:E}),{reset:re,watch:se,control:ie,setValue:A,handleSubmit:te}=O,g=se();b.useEffect(()=>{r&&re(E)},[r]);const ne=te(async o=>{try{X||a==null||a({...o,colors:[g.colors],subTotal:o.price*o.quantity}),c==null||c(0),p.push(S.product.checkout)}catch(F){console.error(F)}}),ae=b.useCallback(()=>{try{a==null||a({...g,colors:[g.colors],subTotal:g.price*g.quantity})}catch(o){console.error(o)}},[a,g]),oe=e.jsxs(f,{sx:{typography:"h5"},children:[P&&e.jsx(f,{component:"span",sx:{color:"text.disabled",textDecoration:"line-through",mr:.5},children:G(P)}),G(y)]}),le=e.jsxs(i,{direction:"row",spacing:3,justifyContent:"center",children:[e.jsxs(R,{variant:"subtitle2",sx:{color:"text.secondary",display:"inline-flex",alignItems:"center"},children:[e.jsx(d,{icon:"mingcute:add-line",width:16,sx:{mr:1}}),"Compare"]}),e.jsxs(R,{variant:"subtitle2",sx:{color:"text.secondary",display:"inline-flex",alignItems:"center"},children:[e.jsx(d,{icon:"solar:heart-bold",width:16,sx:{mr:1}}),"Favorite"]}),e.jsxs(R,{variant:"subtitle2",sx:{color:"text.secondary",display:"inline-flex",alignItems:"center"},children:[e.jsx(d,{icon:"solar:share-bold",width:16,sx:{mr:1}}),"Share"]})]}),ce=e.jsxs(i,{direction:"row",children:[e.jsx(m,{variant:"subtitle2",sx:{flexGrow:1},children:"Color"}),e.jsx(Y,{name:"colors",control:ie,render:({field:o})=>e.jsx($e,{colors:w,selected:o.value,onSelectColor:F=>o.onChange(F),limit:4})})]}),de=e.jsxs(i,{direction:"row",children:[e.jsx(m,{variant:"subtitle2",sx:{flexGrow:1},children:"Size"}),e.jsx(Ye,{name:"size",size:"small",helperText:e.jsx(R,{underline:"always",color:"textPrimary",children:"Size Chart"}),sx:{maxWidth:88,[`& .${Ve.root}`]:{mx:0,mt:1,textAlign:"right"}},children:t.map(o=>e.jsx(U,{value:o,children:o},o))})]}),xe=e.jsxs(i,{direction:"row",children:[e.jsx(m,{variant:"subtitle2",sx:{flexGrow:1},children:"Quantity"}),e.jsxs(i,{spacing:1,children:[e.jsx(_e,{name:"quantity",quantity:g.quantity,disabledDecrease:g.quantity<=1,disabledIncrease:g.quantity>=n,onIncrease:()=>A("quantity",g.quantity+1),onDecrease:()=>A("quantity",g.quantity-1)}),e.jsxs(m,{variant:"caption",component:"div",sx:{textAlign:"right"},children:["Available: ",n]})]})]}),he=e.jsxs(i,{direction:"row",spacing:2,children:[e.jsx(k,{fullWidth:!0,disabled:ee||x,size:"large",color:"warning",variant:"contained",startIcon:e.jsx(d,{icon:"solar:cart-plus-bold",width:24}),onClick:ae,sx:{whiteSpace:"nowrap"},children:"Add to Cart"}),e.jsx(k,{fullWidth:!0,size:"large",type:"submit",variant:"contained",disabled:x,children:"Buy Now"})]}),me=e.jsx(m,{variant:"body2",sx:{color:"text.secondary"},children:K}),pe=e.jsxs(i,{direction:"row",alignItems:"center",sx:{color:"text.disabled",typography:"body2"},children:[e.jsx(D,{size:"small",value:Z,precision:.1,readOnly:!0,sx:{mr:1}}),`(${W(J)} reviews)`]}),ue=(j.enabled||L.enabled)&&e.jsxs(i,{direction:"row",alignItems:"center",spacing:1,children:[j.enabled&&e.jsx(H,{color:"info",children:j.content}),L.enabled&&e.jsx(H,{color:"error",children:L.content})]}),je=e.jsx(f,{component:"span",sx:{typography:"overline",color:q==="out of stock"&&"error.main"||q==="low stock"&&"warning.main"||"success.main"},children:q});return e.jsx(Q,{methods:O,onSubmit:ne,children:e.jsxs(i,{spacing:3,sx:{pt:3},...h,children:[e.jsxs(i,{spacing:2,alignItems:"flex-start",children:[ue,je,e.jsx(m,{variant:"h5",children:l}),pe,oe,me]}),e.jsx(B,{sx:{borderStyle:"dashed"}}),ce,de,xe,e.jsx(B,{sx:{borderStyle:"dashed"}}),he,le]})})}function nr({publish:s,backLink:r,editLink:a,liveLink:c,publishOptions:x,onChangePublish:h,sx:p,...u}){const l=Pe();return e.jsxs(e.Fragment,{children:[e.jsxs(i,{spacing:1.5,direction:"row",sx:{mb:{xs:3,md:5},...p},...u,children:[e.jsx(k,{component:T,href:r,startIcon:e.jsx(d,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Back"}),e.jsx(f,{sx:{flexGrow:1}}),s==="published"&&e.jsx(M,{title:"Go Live",children:e.jsx(N,{component:T,href:c,children:e.jsx(d,{icon:"eva:external-link-fill"})})}),e.jsx(M,{title:"Edit",children:e.jsx(N,{component:T,href:a,children:e.jsx(d,{icon:"solar:pen-bold"})})}),e.jsx(_,{color:"inherit",variant:"contained",loading:!s,loadingIndicator:"Loading…",endIcon:e.jsx(d,{icon:"eva:arrow-ios-downward-fill"}),onClick:l.onOpen,sx:{textTransform:"capitalize"},children:s})]}),e.jsx(ke,{open:l.open,onClose:l.onClose,arrow:"top-right",sx:{width:140},children:x.map(t=>e.jsxs(U,{selected:t.value===s,onClick:()=>{l.onClose(),h(t.value)},children:[t.value==="published"&&e.jsx(d,{icon:"eva:cloud-upload-fill"}),t.value==="draft"&&e.jsx(d,{icon:"solar:file-text-bold"}),t.label]},t.value))})]})}function ar({description:s}){return e.jsx(Je,{children:s,sx:{p:3,"& p, li, ol":{typography:"body2"},"& ol":{p:0,display:{md:"flex"},listStyleType:"none","& li":{"&:first-of-type":{minWidth:240,mb:{xs:.5,md:0}}}}}})}const or=[{title:"100% Original",description:"Chocolate bar candy canes ice cream toffee cookie halvah.",icon:"solar:verified-check-bold"},{title:"10 Day Replacement",description:"Marshmallow biscuit donut dragée fruitcake wafer.",icon:"solar:clock-circle-bold"},{title:"Year Warranty",description:"Cotton candy gingerbread cake I love sugar sweet.",icon:"solar:shield-check-bold"}];function lr({id:s}){const{product:r,productLoading:a,productError:c}=ze(s),x=Ie(),[h,p]=b.useState("description"),[u,l]=b.useState("");b.useEffect(()=>{r&&l(r==null?void 0:r.publish)},[r]);const t=b.useCallback(n=>{l(n)},[]),y=b.useCallback((n,P)=>{p(P)},[]),I=e.jsx(Xe,{}),w=e.jsx(Be,{filled:!0,title:`${c==null?void 0:c.message}`,action:e.jsx(k,{component:T,href:S.dashboard.product.root,startIcon:e.jsx(d,{icon:"eva:arrow-ios-back-fill",width:16}),sx:{mt:3},children:"Back to List"}),sx:{py:10}}),j=r&&e.jsxs(e.Fragment,{children:[e.jsx(nr,{backLink:S.dashboard.product.root,editLink:S.dashboard.product.edit(`${r==null?void 0:r.id}`),liveLink:S.product.details(`${r==null?void 0:r.id}`),publish:u||"",onChangePublish:t,publishOptions:Se}),e.jsxs(C,{container:!0,spacing:{xs:3,md:5,lg:8},children:[e.jsx(C,{xs:12,md:6,lg:7,children:e.jsx(Ze,{product:r})}),e.jsx(C,{xs:12,md:6,lg:5,children:e.jsx(tr,{disabledActions:!0,product:r})})]}),e.jsx(f,{gap:5,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(3, 1fr)"},sx:{my:10},children:or.map(n=>e.jsxs(f,{sx:{textAlign:"center",px:5},children:[e.jsx(d,{icon:n.icon,width:32,sx:{color:"primary.main"}}),e.jsx(m,{variant:"subtitle1",sx:{mb:1,mt:2},children:n.title}),e.jsx(m,{variant:"body2",sx:{color:"text.secondary"},children:n.description})]},n.title))}),e.jsxs(Ke,{children:[e.jsx(Re,{value:h,onChange:y,sx:{px:3,boxShadow:n=>`inset 0 -2px 0 0 ${Te(n.palette.grey[500],.08)}`},children:[{value:"description",label:"Description"},{value:"reviews",label:`Reviews (${r.reviews.length})`}].map(n=>e.jsx(De,{value:n.value,label:n.label},n.value))}),h==="description"&&e.jsx(ar,{description:r==null?void 0:r.description}),h==="reviews"&&e.jsx(ir,{ratings:r.ratings,reviews:r.reviews,totalRatings:r.totalRatings,totalReviews:r.totalReviews})]})]});return e.jsxs(Le,{maxWidth:x.themeStretch?!1:"lg",children:[a&&I,c&&w,r&&j]})}function Yr(){const s=Fe(),{id:r}=s;return e.jsxs(e.Fragment,{children:[e.jsx(qe,{children:e.jsx("title",{children:" Dashboard: Product Details"})}),e.jsx(lr,{id:`${r}`})]})}export{Yr as default};
