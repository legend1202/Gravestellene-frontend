import{bc as C,j as s,S as l,J as P,R as x,g as o,B as g,am as b,f as v,h as k,bd as w,Q as L,r as f,p as m,T as u,dx as I,s as B,a8 as S,C as D,W as T,H as F}from"./index-JGGUJxTa.js";import"./_baseToString-1Q8NEKav.js";import"./text-max-line-vEDCcxo9.js";import"./styles-_6htcQjI.js";import{b as $}from"./format-number-7uu69HrW.js";import{b as y}from"./blog-ZFVvkzv7.js";import{a as E}from"./_blog-GspOuDqg.js";import{M as G}from"./markdown-Fbjyyx16.js";import{E as O}from"./empty-content-M6RskY8h.js";import{P as H}from"./post-details-hero-jsbciOWk.js";import{P as U,a as W}from"./post-comment-form-TRRFMxPO.js";import{P as A}from"./post-skeleton-JPAm2rIe.js";import{C as M}from"./Chip-8vmzDimG.js";import{F as R}from"./FormControlLabel-ky2qaCet.js";import{C as z}from"./Checkbox-knf4fuN6.js";import{A as N}from"./AvatarGroup-K1CaQJPV.js";import"./Fab-hqUm161E.js";import"./ListItem-XXOeljW1.js";import"./Pagination-v8GzvqSD.js";import"./FirstPage-bg88TicR.js";import"./Skeleton-zn8oggDq.js";import"./SwitchBase-BlNstvD5.js";function _({publish:r,backLink:c,editLink:d,liveLink:t,publishOptions:h,onChangePublish:i,sx:p,...j}){const n=C();return s.jsxs(s.Fragment,{children:[s.jsxs(l,{spacing:1.5,direction:"row",sx:{mb:{xs:3,md:5},...p},...j,children:[s.jsx(P,{component:x,href:c,startIcon:s.jsx(o,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Back"}),s.jsx(g,{sx:{flexGrow:1}}),r==="published"&&s.jsx(b,{title:"Go Live",children:s.jsx(v,{component:x,href:t,children:s.jsx(o,{icon:"eva:external-link-fill"})})}),s.jsx(b,{title:"Edit",children:s.jsx(v,{component:x,href:d,children:s.jsx(o,{icon:"solar:pen-bold"})})}),s.jsx(k,{color:"inherit",variant:"contained",loading:!r,loadingIndicator:"Loadingâ€¦",endIcon:s.jsx(o,{icon:"eva:arrow-ios-downward-fill"}),onClick:n.onOpen,sx:{textTransform:"capitalize"},children:r})]}),s.jsx(w,{open:n.open,onClose:n.onClose,arrow:"top-right",sx:{width:140},children:h.map(a=>s.jsxs(L,{selected:a.value===r,onClick:()=>{n.onClose(),i(a.value)},children:[a.value==="published"&&s.jsx(o,{icon:"eva:cloud-upload-fill"}),a.value==="draft"&&s.jsx(o,{icon:"solar:file-text-bold"}),a.label]},a.value))})]})}function J({title:r}){const[c,d]=f.useState(""),{post:t,postLoading:h,postError:i}=y(r),p=f.useCallback(e=>{d(e)},[]);f.useEffect(()=>{t&&d(t==null?void 0:t.publish)},[t]);const j=s.jsx(A,{}),n=s.jsx(O,{filled:!0,title:`${i==null?void 0:i.message}`,action:s.jsx(P,{component:x,href:m.dashboard.post.root,startIcon:s.jsx(o,{icon:"eva:arrow-ios-back-fill",width:16}),sx:{mt:3},children:"Back to List"}),sx:{py:20}}),a=t&&s.jsxs(s.Fragment,{children:[s.jsx(_,{backLink:m.dashboard.post.root,editLink:m.dashboard.post.edit(`${t==null?void 0:t.title}`),liveLink:m.post.details(`${t==null?void 0:t.title}`),publish:c||"",onChangePublish:p,publishOptions:E}),s.jsx(H,{title:t.title,coverUrl:t.coverUrl}),s.jsxs(l,{sx:{maxWidth:720,mx:"auto",mt:{xs:5,md:10}},children:[s.jsx(u,{variant:"subtitle1",sx:{mb:5},children:t.description}),s.jsx(G,{children:t.content}),s.jsxs(l,{spacing:3,sx:{py:3,borderTop:e=>`dashed 1px ${e.palette.divider}`,borderBottom:e=>`dashed 1px ${e.palette.divider}`},children:[s.jsx(l,{direction:"row",flexWrap:"wrap",spacing:1,children:t.tags.map(e=>s.jsx(M,{label:e,variant:"soft"},e))}),s.jsxs(l,{direction:"row",alignItems:"center",children:[s.jsx(R,{control:s.jsx(z,{defaultChecked:!0,size:"small",color:"error",icon:s.jsx(o,{icon:"solar:heart-bold"}),checkedIcon:s.jsx(o,{icon:"solar:heart-bold"})}),label:$(t.totalFavorites),sx:{mr:1}}),s.jsx(N,{sx:{[`& .${I.avatar}`]:{width:32,height:32}},children:t.favoritePerson.map(e=>s.jsx(B,{alt:e.name,src:e.avatarUrl},e.name))})]})]}),s.jsxs(l,{direction:"row",sx:{mb:3,mt:5},children:[s.jsx(u,{variant:"h4",children:"Comments"}),s.jsxs(u,{variant:"subtitle2",sx:{color:"text.disabled"},children:["(",t.comments.length,")"]})]}),s.jsx(U,{}),s.jsx(S,{sx:{mt:5,mb:2}}),s.jsx(W,{comments:t.comments})]})]});return s.jsxs(D,{maxWidth:!1,children:[h&&j,i&&n,t&&a]})}function js(){const r=T(),{title:c}=r;return s.jsxs(s.Fragment,{children:[s.jsx(F,{children:s.jsx("title",{children:" Dashboard: Post Details"})}),s.jsx(J,{title:`${c}`})]})}export{js as default};
