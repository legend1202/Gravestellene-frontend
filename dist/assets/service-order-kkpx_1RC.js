import{r as x,a9 as F,aa as E,y,ab as m,ac as _,ad as q,j as e,ae as W,af as U,ag as oe,ah as be,ai as re,K as B,aj as G,S as I,T as w,v as T,x as te,f as je,g as j,m as Ce,N as C,B as Q,ak as se,al as ae,am as Z,Y as ie,a as ye,an as Se,q as fe,ao as ge,c as le,b as z,d as ce,o as de,F as pe,h as ue,ap as Le,w as Ie,aq as we,L as Pe,l as $e,u as ke,A as Re,e as H,G as Te,_ as Ne,i as Me,ar as De,C as Oe,as as We,at as Ae,O as ze,H as Fe}from"./index-CunmLLou.js";import{c as Ee}from"./order-kJOMI4Z1.js";import{E as _e}from"./empty-content-NdHJ5ZV0.js";import{f as xe}from"./format-number-MlCsyGQp.js";import{C as qe}from"./CardContent-I6NHrfjJ.js";import{T as Ue}from"./table-head-custom-d7DhEAop.js";import{T as Be,a as Ge,b as He,c as Ve}from"./TableHead-klPWbmg8.js";import{T as A}from"./TableCell-Gj9JH0iU.js";import{P as Ye}from"./payment-new-card-dialog-M5SY0t3I.js";import{v as Qe}from"./fade-VV5890gg.js";import{A as Je}from"./index-mc9MLJnd.js";import"./Checkbox-oddwhIQJ.js";import"./SwitchBase-hAFlUYrk.js";import"./DialogTitle-GOOymP4W.js";import"./dialogTitleClasses-2MPpGYRa.js";import"./DialogContent-B-VvmhNR.js";import"./DialogActions-5ckigJHQ.js";import"./transition-eqIn2NYL.js";const Ke=x.createContext({}),J=Ke,Xe=x.createContext({}),ee=Xe;function Ze(t){return F("MuiStep",t)}E("MuiStep",["root","horizontal","vertical","alternativeLabel","completed"]);const et=["active","children","className","component","completed","disabled","expanded","index","last"],tt=t=>{const{classes:o,orientation:s,alternativeLabel:n,completed:r}=t;return U({root:["root",s,n&&"alternativeLabel",r&&"completed"]},Ze,o)},nt=y("div",{name:"MuiStep",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:s}=t;return[o.root,o[s.orientation],s.alternativeLabel&&o.alternativeLabel,s.completed&&o.completed]}})(({ownerState:t})=>m({},t.orientation==="horizontal"&&{paddingLeft:8,paddingRight:8},t.alternativeLabel&&{flex:1,position:"relative"})),ot=x.forwardRef(function(o,s){const n=_({props:o,name:"MuiStep"}),{active:r,children:a,className:l,component:i="div",completed:d,disabled:p,expanded:u=!1,index:c,last:v}=n,S=q(n,et),{activeStep:h,connector:b,alternativeLabel:f,orientation:g,nonLinear:R}=x.useContext(J);let[L=!1,N=!1,$=!1]=[r,d,p];h===c?L=r!==void 0?r:!0:!R&&h>c?N=d!==void 0?d:!0:!R&&h<c&&($=p!==void 0?p:!0);const M=x.useMemo(()=>({index:c,last:v,expanded:u,icon:c+1,active:L,completed:N,disabled:$}),[c,v,u,L,N,$]),k=m({},n,{active:L,orientation:g,alternativeLabel:f,completed:N,disabled:$,expanded:u,component:i}),D=tt(k),O=e.jsxs(nt,m({as:i,className:W(D.root,l),ref:s,ownerState:k},S,{children:[b&&f&&c!==0?b:null,a]}));return e.jsx(ee.Provider,{value:M,children:b&&!f&&c!==0?e.jsxs(x.Fragment,{children:[b,O]}):O})}),rt=ot,st=oe(e.jsx("path",{d:"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z"}),"CheckCircle"),at=oe(e.jsx("path",{d:"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"}),"Warning");function it(t){return F("MuiStepIcon",t)}const lt=E("MuiStepIcon",["root","active","completed","error","text"]),K=lt;var ne;const ct=["active","className","completed","error","icon"],dt=t=>{const{classes:o,active:s,completed:n,error:r}=t;return U({root:["root",s&&"active",n&&"completed",r&&"error"],text:["text"]},it,o)},X=y(be,{name:"MuiStepIcon",slot:"Root",overridesResolver:(t,o)=>o.root})(({theme:t})=>({display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),color:(t.vars||t).palette.text.disabled,[`&.${K.completed}`]:{color:(t.vars||t).palette.primary.main},[`&.${K.active}`]:{color:(t.vars||t).palette.primary.main},[`&.${K.error}`]:{color:(t.vars||t).palette.error.main}})),pt=y("text",{name:"MuiStepIcon",slot:"Text",overridesResolver:(t,o)=>o.text})(({theme:t})=>({fill:(t.vars||t).palette.primary.contrastText,fontSize:t.typography.caption.fontSize,fontFamily:t.typography.fontFamily})),ut=x.forwardRef(function(o,s){const n=_({props:o,name:"MuiStepIcon"}),{active:r=!1,className:a,completed:l=!1,error:i=!1,icon:d}=n,p=q(n,ct),u=m({},n,{active:r,completed:l,error:i}),c=dt(u);if(typeof d=="number"||typeof d=="string"){const v=W(a,c.root);return i?e.jsx(X,m({as:at,className:v,ref:s,ownerState:u},p)):l?e.jsx(X,m({as:st,className:v,ref:s,ownerState:u},p)):e.jsxs(X,m({className:v,ref:s,ownerState:u},p,{children:[ne||(ne=e.jsx("circle",{cx:"12",cy:"12",r:"12"})),e.jsx(pt,{className:c.text,x:"12",y:"12",textAnchor:"middle",dominantBaseline:"central",ownerState:u,children:d})]}))}return d}),xt=ut;function mt(t){return F("MuiStepLabel",t)}const ht=E("MuiStepLabel",["root","horizontal","vertical","label","active","completed","error","disabled","iconContainer","alternativeLabel","labelContainer"]),P=ht,vt=["children","className","componentsProps","error","icon","optional","slotProps","StepIconComponent","StepIconProps"],bt=t=>{const{classes:o,orientation:s,active:n,completed:r,error:a,disabled:l,alternativeLabel:i}=t;return U({root:["root",s,a&&"error",l&&"disabled",i&&"alternativeLabel"],label:["label",n&&"active",r&&"completed",a&&"error",l&&"disabled",i&&"alternativeLabel"],iconContainer:["iconContainer",n&&"active",r&&"completed",a&&"error",l&&"disabled",i&&"alternativeLabel"],labelContainer:["labelContainer",i&&"alternativeLabel"]},mt,o)},jt=y("span",{name:"MuiStepLabel",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:s}=t;return[o.root,o[s.orientation]]}})(({ownerState:t})=>m({display:"flex",alignItems:"center",[`&.${P.alternativeLabel}`]:{flexDirection:"column"},[`&.${P.disabled}`]:{cursor:"default"}},t.orientation==="vertical"&&{textAlign:"left",padding:"8px 0"})),Ct=y("span",{name:"MuiStepLabel",slot:"Label",overridesResolver:(t,o)=>o.label})(({theme:t})=>m({},t.typography.body2,{display:"block",transition:t.transitions.create("color",{duration:t.transitions.duration.shortest}),[`&.${P.active}`]:{color:(t.vars||t).palette.text.primary,fontWeight:500},[`&.${P.completed}`]:{color:(t.vars||t).palette.text.primary,fontWeight:500},[`&.${P.alternativeLabel}`]:{marginTop:16},[`&.${P.error}`]:{color:(t.vars||t).palette.error.main}})),yt=y("span",{name:"MuiStepLabel",slot:"IconContainer",overridesResolver:(t,o)=>o.iconContainer})(()=>({flexShrink:0,display:"flex",paddingRight:8,[`&.${P.alternativeLabel}`]:{paddingRight:0}})),St=y("span",{name:"MuiStepLabel",slot:"LabelContainer",overridesResolver:(t,o)=>o.labelContainer})(({theme:t})=>({width:"100%",color:(t.vars||t).palette.text.secondary,[`&.${P.alternativeLabel}`]:{textAlign:"center"}})),me=x.forwardRef(function(o,s){var n;const r=_({props:o,name:"MuiStepLabel"}),{children:a,className:l,componentsProps:i={},error:d=!1,icon:p,optional:u,slotProps:c={},StepIconComponent:v,StepIconProps:S}=r,h=q(r,vt),{alternativeLabel:b,orientation:f}=x.useContext(J),{active:g,disabled:R,completed:L,icon:N}=x.useContext(ee),$=p||N;let M=v;$&&!M&&(M=xt);const k=m({},r,{active:g,alternativeLabel:b,completed:L,disabled:R,error:d,orientation:f}),D=bt(k),O=(n=c.label)!=null?n:i.label;return e.jsxs(jt,m({className:W(D.root,l),ref:s,ownerState:k},h,{children:[$||M?e.jsx(yt,{className:D.iconContainer,ownerState:k,children:e.jsx(M,m({completed:L,active:g,error:d,icon:$},S))}):null,e.jsxs(St,{className:D.labelContainer,ownerState:k,children:[a?e.jsx(Ct,m({ownerState:k},O,{className:W(D.label,O==null?void 0:O.className),children:a})):null,u]})]}))});me.muiName="StepLabel";const ft=me;function gt(t){return F("MuiStepConnector",t)}const Lt=E("MuiStepConnector",["root","horizontal","vertical","alternativeLabel","active","completed","disabled","line","lineHorizontal","lineVertical"]),V=Lt,It=["className"],wt=t=>{const{classes:o,orientation:s,alternativeLabel:n,active:r,completed:a,disabled:l}=t,i={root:["root",s,n&&"alternativeLabel",r&&"active",a&&"completed",l&&"disabled"],line:["line",`line${re(s)}`]};return U(i,gt,o)},Pt=y("div",{name:"MuiStepConnector",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:s}=t;return[o.root,o[s.orientation],s.alternativeLabel&&o.alternativeLabel,s.completed&&o.completed]}})(({ownerState:t})=>m({flex:"1 1 auto"},t.orientation==="vertical"&&{marginLeft:12},t.alternativeLabel&&{position:"absolute",top:12,left:"calc(-50% + 20px)",right:"calc(50% + 20px)"})),$t=y("span",{name:"MuiStepConnector",slot:"Line",overridesResolver:(t,o)=>{const{ownerState:s}=t;return[o.line,o[`line${re(s.orientation)}`]]}})(({ownerState:t,theme:o})=>{const s=o.palette.mode==="light"?o.palette.grey[400]:o.palette.grey[600];return m({display:"block",borderColor:o.vars?o.vars.palette.StepConnector.border:s},t.orientation==="horizontal"&&{borderTopStyle:"solid",borderTopWidth:1},t.orientation==="vertical"&&{borderLeftStyle:"solid",borderLeftWidth:1,minHeight:24})}),kt=x.forwardRef(function(o,s){const n=_({props:o,name:"MuiStepConnector"}),{className:r}=n,a=q(n,It),{alternativeLabel:l,orientation:i="horizontal"}=x.useContext(J),{active:d,disabled:p,completed:u}=x.useContext(ee),c=m({},n,{alternativeLabel:l,orientation:i,active:d,completed:u,disabled:p}),v=wt(c);return e.jsx(Pt,m({className:W(v.root,r),ref:s,ownerState:c},a,{children:e.jsx($t,{className:v.line,ownerState:c})}))}),he=kt;function Rt(t){return F("MuiStepper",t)}E("MuiStepper",["root","horizontal","vertical","alternativeLabel"]);const Tt=["activeStep","alternativeLabel","children","className","component","connector","nonLinear","orientation"],Nt=t=>{const{orientation:o,alternativeLabel:s,classes:n}=t;return U({root:["root",o,s&&"alternativeLabel"]},Rt,n)},Mt=y("div",{name:"MuiStepper",slot:"Root",overridesResolver:(t,o)=>{const{ownerState:s}=t;return[o.root,o[s.orientation],s.alternativeLabel&&o.alternativeLabel]}})(({ownerState:t})=>m({display:"flex"},t.orientation==="horizontal"&&{flexDirection:"row",alignItems:"center"},t.orientation==="vertical"&&{flexDirection:"column"},t.alternativeLabel&&{alignItems:"flex-start"})),Dt=e.jsx(he,{}),Ot=x.forwardRef(function(o,s){const n=_({props:o,name:"MuiStepper"}),{activeStep:r=0,alternativeLabel:a=!1,children:l,className:i,component:d="div",connector:p=Dt,nonLinear:u=!1,orientation:c="horizontal"}=n,v=q(n,Tt),S=m({},n,{alternativeLabel:a,orientation:c,component:d}),h=Nt(S),b=x.Children.toArray(l).filter(Boolean),f=b.map((R,L)=>x.cloneElement(R,m({index:L,last:L+1===b.length},R.props))),g=x.useMemo(()=>({activeStep:r,alternativeLabel:a,connector:p,nonLinear:u,orientation:c}),[r,a,p,u,c]);return e.jsx(J.Provider,{value:g,children:e.jsx(Mt,m({as:d,ownerState:S,className:W(h.root,i),ref:s},v,{children:f}))})}),Wt=Ot;function ve({total:t}){return e.jsxs(B,{sx:{mb:3},children:[e.jsx(G,{title:"Order Summary"}),e.jsx(qe,{children:e.jsxs(I,{direction:"row",justifyContent:"space-between",children:[e.jsx(w,{variant:"subtitle1",children:"Total"}),e.jsx(T,{sx:{textAlign:"right"},children:e.jsx(w,{variant:"subtitle1",sx:{color:"error.main"},children:xe(t)})})]})})]})}function At({row:t,onDelete:o,onDecrease:s,onIncrease:n}){const{serviceDetails:{name:r,description:a,price:l},graveyardDetails:{name:i}}=t;return e.jsxs(Be,{children:[e.jsx(A,{children:e.jsx(w,{noWrap:!0,variant:"subtitle2",sx:{maxWidth:240},children:r})}),e.jsx(A,{children:e.jsx(w,{noWrap:!0,variant:"subtitle2",sx:{maxWidth:240},children:e.jsxs(te,{children:[" ",a," "]})})}),e.jsx(A,{children:xe(l)}),e.jsx(A,{align:"center",sx:{px:1},children:e.jsx(w,{noWrap:!0,variant:"subtitle2",sx:{maxWidth:240},children:e.jsxs(te,{children:[" ",i," "]})})}),e.jsx(A,{align:"right",sx:{px:1},children:e.jsx(je,{onClick:o,children:e.jsx(j,{icon:"solar:trash-bin-trash-bold"})})})]})}const zt=[{id:"name",label:"Name"},{id:"description",label:"Description"},{id:"price",label:"Price"},{id:"graveyard",label:"Graveyard",align:"center"},{id:""}];function Ft({products:t,onDelete:o,onIncreaseQuantity:s,onDecreaseQuantity:n}){return e.jsx(Ge,{sx:{overflow:"unset"},children:e.jsx(Ce,{children:e.jsxs(He,{sx:{minWidth:720},children:[e.jsx(Ue,{headLabel:zt}),e.jsx(Ve,{children:t&&t.map(r=>e.jsx(At,{row:r,onDelete:()=>o(r.id||""),onDecrease:()=>n(r.id||""),onIncrease:()=>s(r.id||"")},r.id))})]})})})}function Et({checkout:t,handleSetCheckout:o,handleOrderListDelete:s}){const n=t.items&&!t.items.length,r=()=>{o({...t,activeStep:1})};return e.jsxs(C,{container:!0,spacing:3,children:[e.jsx(C,{xs:12,md:8,children:e.jsxs(B,{sx:{mb:3},children:[e.jsx(G,{title:e.jsxs(w,{variant:"h6",children:["Cart",e.jsxs(w,{component:"span",sx:{color:"text.secondary"},children:[" (",t.totalItems," item)"]})]}),sx:{mb:3}}),n?e.jsx(_e,{title:"Cart is Empty!",description:"Look like you have no items in your shopping cart.",imgUrl:"/assets/icons/empty/ic_cart.svg",sx:{pt:5,pb:10}}):e.jsx(Ft,{products:t.items,onDelete:s,onIncreaseQuantity:()=>{},onDecreaseQuantity:()=>{}})]})}),e.jsxs(C,{xs:12,md:4,children:[e.jsx(ve,{total:t.total}),e.jsx(Q,{fullWidth:!0,size:"large",type:"submit",variant:"contained",disabled:n,onClick:r,children:"Check Out"})]})]})}const _t=y(he)(({theme:t})=>({top:10,left:"calc(-50% + 20px)",right:"calc(50% + 20px)",[`& .${V.line}`]:{borderTopWidth:2,borderColor:t.palette.divider},[`&.${V.active}, &.${V.completed}`]:{[`& .${V.line}`]:{borderColor:t.palette.primary.main}}}));function qt({steps:t,activeStep:o,sx:s,...n}){return e.jsx(Wt,{alternativeLabel:!0,activeStep:o,connector:e.jsx(_t,{}),sx:{mb:{xs:3,md:5},...s},...n,children:t.map(r=>e.jsx(rt,{children:e.jsx(ft,{StepIconComponent:Ut,sx:{[`& .${P.label}`]:{fontWeight:"fontWeightSemiBold"}},children:r})},r))})}function Ut({active:t,completed:o}){return e.jsx(I,{alignItems:"center",justifyContent:"center",sx:{width:24,height:24,color:"text.disabled",...t&&{color:"primary.main"}},children:o?e.jsx(j,{icon:"eva:checkmark-fill",sx:{color:"primary.main"}}):e.jsx(T,{sx:{width:8,height:8,borderRadius:"50%",backgroundColor:"currentColor"}})})}function Bt({options:t,onApplyShipping:o,...s}){const{control:n}=se();return e.jsxs(B,{...s,children:[e.jsx(G,{title:"Delivery"}),e.jsx(ae,{name:"delivery",control:n,render:({field:r})=>e.jsx(T,{columnGap:2,rowGap:2.5,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},sx:{p:3},children:t.map(a=>e.jsx(Gt,{option:a,selected:r.value===a.value,onClick:()=>{r.onChange(a.value),o(a.value)}},a.label))})})]})}function Gt({option:t,selected:o,...s}){const{value:n,label:r,description:a}=t;return e.jsxs(Z,{variant:"outlined",sx:{p:2.5,cursor:"pointer",display:"flex",...o&&{boxShadow:l=>`0 0 0 2px ${l.palette.text.primary}`}},...s,children:[r==="Free"&&e.jsx(j,{icon:"carbon:bicycle",width:32}),r==="Standard"&&e.jsx(j,{icon:"carbon:delivery",width:32}),r==="Express"&&e.jsx(j,{icon:"carbon:rocket",width:32}),e.jsx(ie,{sx:{ml:2},primary:e.jsxs(I,{direction:"row",alignItems:"center",children:[e.jsx(T,{component:"span",sx:{flexGrow:1},children:r}),e.jsx(T,{component:"span",sx:{typography:"h6"},children:`$${n}`})]}),secondary:a,primaryTypographyProps:{typography:"subtitle1",mb:.5},secondaryTypographyProps:{typography:"body2"}})]},n)}function Ht({options:t,cardOptions:o,...s}){const{control:n}=se(),r=ye();return e.jsxs(e.Fragment,{children:[e.jsxs(B,{...s,children:[e.jsx(G,{title:"Payment"}),e.jsx(ae,{name:"payment",control:n,render:({field:a,fieldState:{error:l}})=>e.jsxs(I,{sx:{px:3,pb:3},children:[t.map(i=>e.jsx(Vt,{option:i,onOpen:r.onTrue,cardOptions:o,selected:a.value===i.value,isCredit:i.value==="credit"&&a.value==="credit",onClick:()=>{a.onChange(i.value)}},i.label)),!!l&&e.jsx(Se,{error:!0,sx:{pt:1,px:2},children:l.message})]})})]}),e.jsx(Ye,{open:r.value,onClose:r.onFalse})]})}function Vt({option:t,cardOptions:o,selected:s,isCredit:n,onOpen:r,...a}){const{value:l,label:i,description:d}=t;return e.jsxs(Z,{variant:"outlined",sx:{p:2.5,mt:2.5,cursor:"pointer",...s&&{boxShadow:p=>`0 0 0 2px ${p.palette.text.primary}`}},...a,children:[e.jsx(ie,{primary:e.jsxs(I,{direction:"row",alignItems:"center",children:[e.jsx(T,{component:"span",sx:{flexGrow:1},children:i}),e.jsxs(I,{spacing:1,direction:"row",alignItems:"center",children:[l==="credit"&&e.jsxs(e.Fragment,{children:[e.jsx(j,{icon:"logos:mastercard",width:24}),",",e.jsx(j,{icon:"logos:visa",width:24})]}),l==="paypal"&&e.jsx(j,{icon:"logos:paypal",width:24}),l==="cash"&&e.jsx(j,{icon:"solar:wad-of-money-bold",width:32})]})]}),secondary:d,primaryTypographyProps:{typography:"subtitle1",mb:.5},secondaryTypographyProps:{typography:"body2"}}),n&&e.jsxs(I,{spacing:2.5,alignItems:"flex-end",sx:{pt:2.5},children:[e.jsx(fe,{select:!0,fullWidth:!0,label:"Cards",SelectProps:{native:!0},children:o.map(p=>e.jsx("option",{value:p.value,children:p.label},p.value))}),e.jsx(Q,{size:"small",color:"primary",startIcon:e.jsx(j,{icon:"mingcute:add-line"}),onClick:r,children:"Add New Card"})]})]},l)}const Yt=[{value:0,label:"Free",description:"5-7 Days delivery"},{value:10,label:"Standard",description:"3-5 Days delivery"},{value:20,label:"Express",description:"2-3 Days delivery"}],Qt=[{value:"paypal",label:"Pay with Paypal",description:"You will be redirected to PayPal website to complete your purchase securely."},{value:"credit",label:"Credit / Debit Card",description:"We support Mastercard, Visa, Discover and Stripe."},{value:"cash",label:"Cash",description:"Pay with cash when your order is delivered."}],Jt=[{value:"ViSa1",label:"**** **** **** 1212 - Jimmy Holland"},{value:"ViSa2",label:"**** **** **** 2424 - Shawn Stokes"},{value:"MasterCard",label:"**** **** **** 4545 - Cole Armstrong"}];function Kt({checkout1:t,handleSetCheckout:o,handleSubmitData:s}){const n=ge(),r=le().shape({payment:z().required("Payment is required")}),a={delivery:n.shipping,payment:""},l=ce({resolver:de(r),defaultValues:a}),{handleSubmit:i}=l,d=i(async p=>{try{n.onNextStep(),n.onReset(),s()}catch(u){console.error(u)}});return e.jsx(pe,{methods:l,onSubmit:d,children:e.jsxs(C,{container:!0,spacing:3,children:[e.jsxs(C,{xs:12,md:8,children:[e.jsx(Bt,{onApplyShipping:n.onApplyShipping,options:Yt}),e.jsx(Ht,{cardOptions:Jt,options:Qt,sx:{my:3}})]}),e.jsxs(C,{xs:12,md:4,children:[e.jsx(ve,{total:t.total}),e.jsx(ue,{fullWidth:!0,size:"large",type:"submit",variant:"contained",onClick:s,children:"Complete Order"})]})]})})}function Xt({open:t,onReset:o,onDownloadPDF:s}){const n=e.jsxs(I,{spacing:5,sx:{m:"auto",maxWidth:480,textAlign:"center",px:{xs:2,sm:0}},children:[e.jsx(w,{variant:"h4",children:"Thank you for your purchase!"}),e.jsx(we,{sx:{height:260}}),e.jsxs(w,{children:["Thanks for placing order",e.jsx("br",{}),e.jsx("br",{}),e.jsx(Pe,{children:"01dc1370-3df6-11eb-b378-0242ac130002"}),e.jsx("br",{}),e.jsx("br",{}),"We will send you a notification within 5 days when it ships.",e.jsx("br",{})," If you have any question or queries then fell to get in contact us. ",e.jsx("br",{})," ",e.jsx("br",{}),"All the best,"]}),e.jsx($e,{sx:{borderStyle:"dashed"}}),e.jsxs(I,{spacing:2,justifyContent:"space-between",direction:{xs:"column-reverse",sm:"row"},children:[e.jsx(Q,{fullWidth:!0,size:"large",color:"inherit",variant:"outlined",onClick:o,startIcon:e.jsx(j,{icon:"eva:arrow-ios-back-fill"}),children:"Continue Shopping"}),e.jsx(Q,{fullWidth:!0,size:"large",variant:"contained",startIcon:e.jsx(j,{icon:"eva:cloud-download-fill"}),onClick:s,children:"Download as PDF"})]})]});return e.jsx(Je,{children:t&&e.jsx(Le,{fullWidth:!0,fullScreen:!0,open:t,PaperComponent:r=>e.jsx(T,{component:Ie.div,...Qe({distance:120,durationIn:.32,durationOut:.24,easeIn:"easeInOut"}).inUp,sx:{width:1,height:1,p:{md:3}},children:e.jsx(Z,{...r,children:r.children})}),children:n})})}function Zt({checkout:t,handleSetCheckout:o,handleSetContactInfo:s}){const{user:n}=ke(),[r]=x.useState(""),a=le().shape({name:z().required("Name is required"),ssn:z().required("SSN is required"),email:z().required("Mail is required"),phone:z().required("Phone is required")}),l=x.useMemo(()=>({name:(n==null?void 0:n.name)||"",ssn:(n==null?void 0:n.ssn)||"",email:(n==null?void 0:n.email)||"",phone:(n==null?void 0:n.phone)||""}),[n]),i=ce({resolver:de(a),defaultValues:l}),{watch:d,handleSubmit:p,formState:{isSubmitting:u}}=i,c=d(),v=p(()=>{s(c),o({...t,contactInfo:c,activeStep:2})}),S=e.jsx(C,{xs:12,md:12,children:e.jsxs(B,{children:[e.jsx(G,{title:"Details"}),e.jsxs(I,{spacing:3,sx:{p:3},children:[e.jsx(H,{name:"ssn",label:"Social Security Number"}),e.jsx(H,{name:"name",label:"Your Name"}),e.jsx(H,{name:"email",label:"Your E-mail"}),e.jsx(H,{name:"phone",label:"Your Phone"})]})]})}),h=e.jsx(C,{xs:12,md:12,sx:{display:"flex",alignItems:"center",justifyContent:"flex-end"},children:e.jsx(ue,{type:"submit",variant:"contained",size:"large",loading:u,children:"Save Contact"})});return e.jsx(pe,{methods:i,onSubmit:v,children:e.jsxs(C,{container:!0,spacing:3,children:[!!r&&e.jsx(Re,{severity:"error",sx:{mb:3},children:r}),S,h]})})}const Y={completed:!1,activeStep:0,items:[],subTotal:0,total:0,discount:0,shipping:0,billing:null,totalItems:0,contactInfo:null};function en({id:t,graveyardId:o}){const s=Te(),[n,r]=x.useState(Y),{enqueueSnackbar:a}=Ne(),l=Me(),{services:i,servicesLoading:d}=De(o);x.useEffect(()=>{if(i&&i.length){let h=0;i.forEach(b=>{h+=Number(b.serviceDetails.price)}),r({...n,total:h,items:i})}else r({...n,total:0,items:[]})},[i,n]);const p=h=>{const b=n.items.filter(f=>f.id!==h);r({...n,items:b})},u=h=>{r({...n,contactInfo:h})},c=async()=>{const h=n.items.map(g=>g.serviceId).filter(g=>g!==void 0),b={...n.contactInfo,graveyardId:o,gravestoneId:t,servicesList:h};(await Ee(b)).results.success?(r(Y),a("Order success!"),l.push(Ae)):(console.error("Order did not success!"),r(Y))},v=h=>{r({...n,...h})},S=()=>{r(Y)};return e.jsxs(Oe,{maxWidth:s.themeStretch?!1:"lg",sx:{mb:10},children:[e.jsx(w,{variant:"h4",sx:{my:{xs:3,md:5}},children:"Order Grave Care"}),!d&&e.jsxs(e.Fragment,{children:[e.jsx(C,{container:!0,justifyContent:n.completed?"center":"flex-start",children:e.jsx(C,{xs:12,md:8,children:e.jsx(qt,{activeStep:n.activeStep,steps:We})})}),n.completed?e.jsx(Xt,{open:n.completed,onReset:S,onDownloadPDF:()=>{}}):e.jsxs(e.Fragment,{children:[n.activeStep===0&&e.jsx(Et,{checkout:n,handleSetCheckout:v,handleOrderListDelete:p}),n.activeStep===1&&e.jsx(Zt,{checkout:n,handleSetCheckout:v,handleSetContactInfo:u}),n.activeStep===2&&e.jsx(Kt,{checkout1:n,handleSetCheckout:v,handleSubmitData:c})]})]})]})}function yn(){const t=ze(),{id:o,graveyardId:s}=t;return e.jsxs(e.Fragment,{children:[e.jsx(Fe,{children:e.jsx("title",{children:" Checkout"})}),e.jsx(en,{id:`${o}`,graveyardId:`${s}`})]})}export{yn as default};
