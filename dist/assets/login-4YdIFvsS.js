import{u as v,r as L,a as S,b as F,P,j as e,S as a,T as l,L as c,R as T,p as A,I as E,c as I,d as R,H as k}from"./index-xccKnqtj.js";import{c as H,a as d}from"./index.esm-YEE7kA5n.js";import{u as q,F as C}from"./form-provider-AIk6qsYQ.js";import{o as B}from"./yup-kNUoSS0a.js";import"./image-ihTI-eUB.js";import"./mui-one-time-password-input.es-8WdpYP-F.js";import"./styles-XyZpQVQ4.js";import{R as m}from"./rhf-text-field-M35LS_3G.js";import{A as M}from"./Alert-0-vwW3IE.js";import{L as J}from"./LoadingButton-rYn3LTh9.js";import"./TextField-_2MBvEfR.js";import"./Close-z_cgMax_.js";import"./CircularProgress-Ir6PpH3m.js";function N(){const{login:s}=v(),[t,u]=L.useState(""),p=S().get("returnTo"),o=F(),h=H().shape({email:d().required("Email is required").email("Email must be a valid email address"),password:d().required("Password is required")}),x={email:"sorokinart777@gmail.com",password:"Crab1202!"},n=q({resolver:B(h),defaultValues:x}),{reset:g,handleSubmit:j,formState:{isSubmitting:f}}=n,w=j(async i=>{try{await(s==null?void 0:s(i.email,i.password)),console.log("rules ======",p||P)}catch(r){console.error(r),g(),u(typeof r=="string"?r:r.message)}}),b=e.jsxs(a,{spacing:2,sx:{mb:5},children:[e.jsx(l,{variant:"h4",children:"Sign in to Minimal"}),e.jsxs(a,{direction:"row",spacing:.5,children:[e.jsx(l,{variant:"body2",children:"New user?"}),e.jsx(c,{component:T,href:A.auth.jwt.register,variant:"subtitle2",children:"Create an account"})]})]}),y=e.jsxs(a,{spacing:2.5,children:[e.jsx(m,{name:"email",label:"Email address"}),e.jsx(m,{name:"password",label:"Password",type:o.value?"text":"password",InputProps:{endAdornment:e.jsx(E,{position:"end",children:e.jsx(I,{onClick:o.onToggle,edge:"end",children:e.jsx(R,{icon:o.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(c,{variant:"body2",color:"inherit",underline:"always",sx:{alignSelf:"flex-end"},children:"Forgot password?"}),e.jsx(J,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:f,children:"Login"})]});return e.jsxs(e.Fragment,{children:[b,!!t&&e.jsx(M,{severity:"error",sx:{mb:3},children:t}),e.jsx(C,{methods:n,onSubmit:w,children:y})]})}function ee(){return e.jsxs(e.Fragment,{children:[e.jsx(k,{children:e.jsx("title",{children:" Jwt: Login"})}),e.jsx(N,{})]})}export{ee as default};
