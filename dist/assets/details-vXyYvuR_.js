import{aY as E,j as e,S as c,i as D,R as f,d as r,B as m,a7 as C,c as g,aZ as F,a_ as z,q as w,T as k,L as U,aQ as T,g as O,ec as N,D as I,r as j,A as $,ag as u,h as M,ed as W,b6 as V,ee as q,b7 as Q,k as Y,C as Z,p as L,ef as J,H as K}from"./index-lMmDPpwH.js";import{u as X}from"./use-params-vX5HWEwZ.js";import"./_baseToString-M1LHTUqF.js";import{I as S}from"./image-BILO_BCm.js";import"./index.esm-V-50jqn-.js";import"./mui-one-time-password-input.es-I6hoYgDw.js";import"./styles-stj5iCp_.js";import{L as ee}from"./LoadingButton-fI_uTZ9h.js";import{M as se}from"./markdown-6IyVErE8.js";import{b as P}from"./transition-eqIn2NYL.js";import{u as re,L as oe}from"./use-light-box-CiIwHhw6.js";import{C as ae}from"./Checkbox-vWtJNdsN.js";import{C as ne}from"./Card-i_M7QnNo.js";import"./TextField-L8IfDKvJ.js";import"./CircularProgress-7JKEdLOP.js";import"./styles-wKt_Ziqz.js";import"./SwitchBase-puV6Lkdu.js";function ie({publish:n,backLink:i,editLink:o,liveLink:a,publishOptions:l,onChangePublish:d,sx:x,...b}){const h=E();return e.jsxs(e.Fragment,{children:[e.jsxs(c,{spacing:1.5,direction:"row",sx:{mb:{xs:3,md:5},...x},...b,children:[e.jsx(D,{component:f,href:i,startIcon:e.jsx(r,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Back"}),e.jsx(m,{sx:{flexGrow:1}}),n==="published"&&e.jsx(C,{title:"Go Live",children:e.jsx(g,{component:f,href:a,children:e.jsx(r,{icon:"eva:external-link-fill"})})}),e.jsx(C,{title:"Edit",children:e.jsx(g,{component:f,href:o,children:e.jsx(r,{icon:"solar:pen-bold"})})}),e.jsx(ee,{color:"inherit",variant:"contained",loading:!n,loadingIndicator:"Loadingâ€¦",endIcon:e.jsx(r,{icon:"eva:arrow-ios-downward-fill"}),onClick:h.onOpen,sx:{textTransform:"capitalize"},children:n})]}),e.jsx(F,{open:h.open,onClose:h.onClose,arrow:"top-right",sx:{width:140},children:l.map(p=>e.jsxs(z,{selected:p.value===n,onClick:()=>{h.onClose(),d(p.value)},children:[p.value==="published"&&e.jsx(r,{icon:"eva:cloud-upload-fill"}),p.value==="draft"&&e.jsx(r,{icon:"solar:file-text-bold"}),p.label]},p.value))})]})}function te({tour:n}){const{name:i,images:o,content:a,services:l,tourGuides:d,available:x,durations:b,destination:h,ratingNumber:p}=n,t=o.map(s=>({src:s})),{selected:v,open:R,onOpen:y,onClose:B}=re(t),A=e.jsxs(e.Fragment,{children:[e.jsxs(m,{gap:1,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},sx:{mb:{xs:3,md:5}},children:[e.jsx(w.div,{whileHover:"hover",variants:{hover:{opacity:.8}},transition:P(),children:e.jsx(S,{alt:t[0].src,src:t[0].src,ratio:"1/1",onClick:()=>y(t[0].src),sx:{borderRadius:2,cursor:"pointer"}})},t[0].src),e.jsx(m,{gap:1,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",children:t.slice(1,5).map(s=>e.jsx(w.div,{whileHover:"hover",variants:{hover:{opacity:.8}},transition:P(),children:e.jsx(S,{alt:s.src,src:s.src,ratio:"1/1",onClick:()=>y(s.src),sx:{borderRadius:2,cursor:"pointer"}})},s.src))})]}),e.jsx(oe,{index:v,slides:t,open:R,close:B})]}),G=e.jsxs(e.Fragment,{children:[e.jsxs(c,{direction:"row",sx:{mb:3},children:[e.jsx(k,{variant:"h4",sx:{flexGrow:1},children:i}),e.jsx(g,{children:e.jsx(r,{icon:"solar:share-bold"})}),e.jsx(ae,{defaultChecked:!0,color:"error",icon:e.jsx(r,{icon:"solar:heart-outline"}),checkedIcon:e.jsx(r,{icon:"solar:heart-bold"})})]}),e.jsxs(c,{spacing:3,direction:"row",flexWrap:"wrap",alignItems:"center",children:[e.jsxs(c,{direction:"row",alignItems:"center",spacing:.5,sx:{typography:"body2"},children:[e.jsx(r,{icon:"eva:star-fill",sx:{color:"warning.main"}}),e.jsx(m,{component:"span",sx:{typography:"subtitle2"},children:p}),e.jsx(U,{sx:{color:"text.secondary"},children:"(234 reviews)"})]}),e.jsxs(c,{direction:"row",alignItems:"center",spacing:.5,sx:{typography:"body2"},children:[e.jsx(r,{icon:"mingcute:location-fill",sx:{color:"error.main"}}),h]}),e.jsxs(c,{direction:"row",alignItems:"center",spacing:.5,sx:{typography:"subtitle2"},children:[e.jsx(r,{icon:"solar:flag-bold",sx:{color:"info.main"}}),e.jsx(m,{component:"span",sx:{typography:"body2",color:"text.secondary"},children:"Guide by"}),d.map(s=>s.name).join(", ")]})]})]}),_=e.jsx(m,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},children:[{label:"Available",value:`${T(x.startDate)} - ${T(x.endDate)}`,icon:e.jsx(r,{icon:"solar:calendar-date-bold"})},{label:"Contact name",value:d.map(s=>s.phoneNumber).join(", "),icon:e.jsx(r,{icon:"solar:user-rounded-bold"})},{label:"Durations",value:b,icon:e.jsx(r,{icon:"solar:clock-circle-bold"})},{label:"Contact phone",value:d.map(s=>s.name).join(", "),icon:e.jsx(r,{icon:"solar:phone-bold"})}].map(s=>e.jsxs(c,{spacing:1.5,direction:"row",children:[s.icon,e.jsx(O,{primary:s.label,secondary:s.value,primaryTypographyProps:{typography:"body2",color:"text.secondary",mb:.5},secondaryTypographyProps:{typography:"subtitle2",color:"text.primary",component:"span"}})]},s.label))}),H=e.jsxs(e.Fragment,{children:[e.jsx(se,{children:a}),e.jsxs(c,{spacing:2,children:[e.jsx(k,{variant:"h6",children:" Services"}),e.jsx(m,{rowGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},children:N.map(s=>e.jsxs(c,{spacing:1,direction:"row",alignItems:"center",sx:{...l.includes(s.label)&&{color:"text.disabled"}},children:[e.jsx(r,{icon:"eva:checkmark-circle-2-outline",sx:{color:"primary.main",...l.includes(s.label)&&{color:"text.disabled"}}}),s.label]},s.label))})]})]});return e.jsxs(e.Fragment,{children:[A,e.jsxs(c,{sx:{maxWidth:720,mx:"auto"},children:[G,e.jsx(I,{sx:{borderStyle:"dashed",my:5}}),_,e.jsx(I,{sx:{borderStyle:"dashed",my:5}}),H]})]})}function le({bookers:n}){const[i,o]=j.useState([]),a=j.useCallback(l=>{const d=i.includes(l)?i.filter(x=>x!==l):[...i,l];o(d)},[i]);return e.jsx(m,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},children:n.map(l=>e.jsx(ce,{booker:l,selected:i.includes(l.id),onSelected:()=>a(l.id)},l.id))})}function ce({booker:n,selected:i,onSelected:o}){return e.jsxs(c,{component:ne,direction:"row",spacing:2,sx:{p:3},children:[e.jsx($,{alt:n.name,src:n.avatarUrl,sx:{width:48,height:48}}),e.jsxs(c,{spacing:2,flexGrow:1,children:[e.jsx(O,{primary:n.name,secondary:e.jsxs(c,{direction:"row",alignItems:"center",spacing:.5,children:[e.jsx(r,{icon:"solar:users-group-rounded-bold",width:16}),n.guests," guests"]}),secondaryTypographyProps:{mt:.5,component:"span",typography:"caption",color:"text.disabled"}}),e.jsxs(c,{spacing:1,direction:"row",children:[e.jsx(g,{size:"small",color:"error",sx:{borderRadius:1,bgcolor:a=>u(a.palette.error.main,.08),"&:hover":{bgcolor:a=>u(a.palette.error.main,.16)}},children:e.jsx(r,{width:18,icon:"solar:phone-bold"})}),e.jsx(g,{size:"small",color:"info",sx:{borderRadius:1,bgcolor:a=>u(a.palette.info.main,.08),"&:hover":{bgcolor:a=>u(a.palette.info.main,.16)}},children:e.jsx(r,{width:18,icon:"solar:chat-round-dots-bold"})}),e.jsx(g,{size:"small",color:"primary",sx:{borderRadius:1,bgcolor:a=>u(a.palette.primary.main,.08),"&:hover":{bgcolor:a=>u(a.palette.primary.main,.16)}},children:e.jsx(r,{width:18,icon:"fluent:mail-24-filled"})})]})]}),e.jsx(D,{size:"small",variant:i?"text":"outlined",color:i?"success":"inherit",startIcon:i?e.jsx(r,{width:18,icon:"eva:checkmark-fill",sx:{mr:-.75}}):null,onClick:o,children:i?"Approved":"Approve"})]},n.id)}function de({id:n}){const i=M(),o=W.filter(t=>t.id===n)[0],[a,l]=j.useState(o==null?void 0:o.publish),[d,x]=j.useState("content"),b=j.useCallback((t,v)=>{x(v)},[]),h=j.useCallback(t=>{l(t)},[]),p=e.jsx(V,{value:d,onChange:b,sx:{mb:{xs:3,md:5}},children:q.map(t=>e.jsx(Q,{iconPosition:"end",value:t.value,label:t.label,icon:t.value==="bookers"?e.jsx(Y,{variant:"filled",children:o==null?void 0:o.bookers.length}):""},t.value))});return e.jsxs(Z,{maxWidth:i.themeStretch?!1:"lg",children:[e.jsx(ie,{backLink:L.dashboard.tour.root,editLink:L.dashboard.tour.edit(`${o==null?void 0:o.id}`),liveLink:"#",publish:a||"",onChangePublish:h,publishOptions:J}),p,d==="content"&&e.jsx(te,{tour:o}),d==="bookers"&&e.jsx(le,{bookers:o==null?void 0:o.bookers})]})}function Se(){const n=X(),{id:i}=n;return e.jsxs(e.Fragment,{children:[e.jsx(K,{children:e.jsx("title",{children:" Dashboard: Analytics"})}),e.jsx(de,{id:`${i}`})]})}export{Se as default};
