import{ac as ne,ad as re,r as s,ae as K,af as q,ag as oe,ah as z,ai as ie,aj as le,j as e,B as f,a6 as V,J as ce,ak as W,g as T,al as de,a8 as ue,Y as xe,S as l,T as x,am as he,f as Y,a4 as N,an as C,ao as X,a as pe,ap as me,C as ge,z as U,$ as fe,aq as je,ar as be,H as ve}from"./index-Unum9nVw.js";import{u as m}from"./use-debounce-tz2UIFL6.js";import{u as Se}from"./gravestone-ErJE4Twr.js";import{v as $}from"./fade-VV5890gg.js";import{M as ye}from"./motion-container-hlYdbYfj.js";import{G as De}from"./search-result-QsvcU5fa.js";import{D as k}from"./DatePicker-H28Pp5E2.js";import"./transition-eqIn2NYL.js";import"./index-A_uBhfh0.js";import"./DialogActions-w4_g6mVg.js";import"./ListItem-mVVjqR17.js";import"./Chip-uoK_dvre.js";import"./DialogContent-XHf2fRIG.js";import"./dialogTitleClasses-1LmfuNX7.js";function Ce(t){const n=ne(()=>re(t)),{isStatic:c}=s.useContext(K);if(c){const[,i]=s.useState(t);s.useEffect(()=>n.on("change",i),[])}return n}function ke(t,n={}){const{isStatic:c}=s.useContext(K),i=s.useRef(null),r=Ce(q(t)?t.get():t),d=()=>{i.current&&i.current.stop()};return s.useInsertionEffect(()=>r.attach((o,u)=>{if(c)return u(o);if(d(),i.current=oe({keyframes:[r.get(),o],velocity:r.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:u}),!z.isProcessing){const h=performance.now()-z.timestamp;h<30&&(i.current.time=ie(h))}return r.get()},d),[JSON.stringify(n)]),le(()=>{if(q(t))return t.on("change",o=>r.set(parseFloat(o)))},[r]),r}function we({color:t="primary",size:n=3,scrollYProgress:c,sx:i,...r}){const d=ke(c,{stiffness:100,damping:30,restDelta:.001});return e.jsx(f,{component:V.div,sx:{top:0,left:0,right:0,height:n,zIndex:1999,position:"fixed",transformOrigin:"0%",bgcolor:"text.primary",...t!=="inherit"&&{background:o=>`linear-gradient(135deg, ${o.palette[t].light} 0%, ${o.palette[t].main} 100%)`},...i},style:{scaleX:d},...r})}function Fe({open:t,onOpen:n,onClose:c,filters:i,onFilters:r,canReset:d,onResetFilters:o,graveyardName:u,startDOB:h,endDOB:w,startDeceasedDate:F,endDeceasedDate:B,graveSite:j,setGraveyardName:b,setStartDOB:v,setEndDOB:S,setStartDeceasedDate:y,setEndDeceasedDate:D,setGraveSite:R,handleShowSearchResult:A}){const G=e.jsxs(l,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{py:2,pr:1,pl:2.5},children:[e.jsx(x,{variant:"h6",sx:{flexGrow:1},children:"Advanced Search"}),e.jsx(he,{title:"Reset",children:e.jsx(Y,{onClick:o,children:e.jsx(W,{color:"error",variant:"dot",invisible:!d,children:e.jsx(T,{icon:"solar:restart-bold"})})})}),e.jsx(Y,{onClick:c,children:e.jsx(T,{icon:"mingcute:close-line"})})]}),E=e.jsxs(l,{children:[e.jsx(x,{variant:"subtitle2",sx:{mb:1},children:"Name"}),e.jsx(N,{variant:"outlined",required:!0,fullWidth:!0,label:"Name",defaultValue:"",sx:{my:1},value:u,onChange:a=>b(a.target.value)})]}),O=e.jsxs(l,{children:[e.jsx(x,{variant:"subtitle2",sx:{mb:1},children:"Birthday"}),e.jsx(k,{label:"From",onChange:a=>{v(C(a))},sx:{my:1}}),e.jsx(k,{label:"To",onChange:a=>S(C(a)),sx:{my:1}})]}),P=e.jsxs(l,{children:[e.jsx(x,{variant:"subtitle2",sx:{mb:1},children:"Date of death"}),e.jsx(k,{label:"From",onChange:a=>y(C(a)),sx:{my:1}}),e.jsx(k,{label:"To",onChange:a=>D(C(a)),sx:{my:1}})]}),g=e.jsxs(l,{children:[e.jsx(x,{variant:"subtitle2",sx:{mb:1},children:"Grave Site"}),e.jsx(N,{variant:"outlined",required:!0,fullWidth:!0,label:"Locatin",defaultValue:"",sx:{my:1},value:j,onChange:a=>R(a.target.value)})]});return e.jsxs(e.Fragment,{children:[e.jsx(ce,{disableRipple:!0,color:"success",variant:"contained",endIcon:e.jsx(W,{color:"error",variant:"dot",invisible:!d,children:e.jsx(T,{icon:"ic:round-filter-list"})}),onClick:n,children:"Advanced Search"}),e.jsxs(de,{anchor:"right",open:t,onClose:c,slotProps:{backdrop:{invisible:!0}},PaperProps:{sx:{width:320}},children:[G,e.jsx(ue,{}),e.jsx(xe,{sx:{px:2.5,py:3},children:e.jsxs(l,{spacing:3,children:[E,O,P,g]})})]})]})}const Be=fe("div")(({theme:t})=>({...je({color:be(t.palette.background.default,t.palette.mode==="light"?.9:.94),imgUrl:"/assets/background/overlay_3.jpg"}),width:"100%",height:"100%",position:"relative"})),J={gender:[],colors:[],rating:"",category:"all",priceRange:[0,200]};function Re(){const t=s.useRef(null),{scrollY:n}=X(),[c,i]=s.useState(0),[r,d]=s.useState(!1),[o,u]=s.useState(""),[h,w]=s.useState(""),[F,B]=s.useState(""),[j,b]=s.useState(""),[v,S]=s.useState(""),[y,D]=s.useState(""),R=m(o),A=m(h),G=m(F),E=m(j),O=m(v),P=m(y),{gravestones:g}=Se({name:R,birthday:{start:A,end:G},deceasedDate:{start:E,end:O},graveSite:P}),a=pe(),[L,_]=s.useState(J),Q=s.useCallback((p,H)=>{_(I=>({...I,[p]:H}))},[]),Z=s.useCallback(()=>{u(""),w(""),B(""),b(""),S(""),D("")},[]),ee=!me(J,L),M=s.useCallback(()=>{let p=0;t.current&&(p=t.current.offsetHeight),n.on("change",H=>{const I=H*100/p;i(Math.floor(I))})},[n]),te=()=>{d(!0)};s.useEffect(()=>{M()},[M]);const se=c>120,ae=e.jsx(l,{spacing:3,justifyContent:"space-between",alignItems:{xs:"flex-end",sm:"center"},direction:{xs:"row-reverse",sm:"row-reverse"},children:e.jsx(l,{direction:"row",spacing:1,flexShrink:0,children:e.jsx(Fe,{open:a.value,onOpen:a.onTrue,onClose:a.onFalse,filters:L,onFilters:Q,canReset:ee,onResetFilters:Z,graveyardName:o,startDOB:h,endDOB:F,startDeceasedDate:j,endDeceasedDate:v,graveSite:y,setGraveyardName:u,setStartDOB:w,setEndDOB:B,setStartDeceasedDate:b,setEndDeceasedDate:S,setGraveSite:D,handleShowSearchResult:te})})});return e.jsx(Be,{ref:t,sx:{...se&&{opacity:0}},children:e.jsx(f,{sx:{height:"100%",py:{xs:15,md:20},overflow:"hidden",position:"relative",backgroundSize:"cover",backgroundPosition:"center",backgroundImage:"url(/assets/background/splash.jpg)"},children:e.jsxs(ge,{component:ye,children:[!r&&e.jsxs(l,{spacing:3,sx:{textAlign:"center",mb:{xs:5,md:10}},children:[e.jsx(V.div,{variants:$().inUp,children:e.jsx(x,{component:"div",variant:"h2",sx:{color:"#d69c00"},children:"Welcome to GraveSteller!"})}),e.jsx(V.div,{variants:$().inDown,children:e.jsxs(x,{variant:"overline",children:[e.jsx("b",{children:"Here you can search for people buried"}),","," ",e.jsx("small",{children:"in currently 109 cemetery administrations"}),","," ",e.jsx("b",{children:"842 cemeteries and 0 people buried."}),e.jsx("br",{}),e.jsx("b",{children:"At"})," ",e.jsx("small",{children:"administrations"})," ",e.jsx("b",{children:"with the symbol *, you can also order grave care."})]})})]}),e.jsxs(l,{spacing:3,sx:{mb:{xs:1,md:2}},children:[e.jsxs(f,{sx:{backgroundColor:"hsla(0,0%,0%,.2)",pb:{xs:3.75,md:3.75},px:{xs:1,md:1.5}},children:[e.jsx(U,{sx:{display:"block",pt:{xs:1.5,md:1.5},color:"white",position:"relative",fontSize:"18px",top:"-14px"},variant:"soft",color:"default",children:"Search Buried"}),e.jsx(U,{sx:{display:"block",color:"white",fontWeight:"400",textShadow:"0 0 10px rgba(0,0,0,.2)",margin:"0",padding:"5px",paddingLeft:"10px",borderRadius:"2px 2px 0px 0px",fontSize:{xs:"8px",md:"13px"}},variant:"soft",color:"default",children:"You can search by name:"}),e.jsx(f,{sx:{display:"flex",justifyContent:"space-around"},children:e.jsx(N,{variant:"outlined",required:!0,fullWidth:!0,label:"",defaultValue:"",onChange:p=>u(p.target.value)})})]}),e.jsx(l,{spacing:0,children:ae})]}),g&&g.length>0&&e.jsx(De,{gravestones:g})]})})})}function Ge(){const{scrollYProgress:t}=X();return e.jsxs(e.Fragment,{children:[e.jsx(we,{scrollYProgress:t}),e.jsx(Re,{}),e.jsx(f,{sx:{overflow:"hidden",position:"relative",bgcolor:"background.default"}})]})}function Ye(){return e.jsxs(e.Fragment,{children:[e.jsx(ve,{children:e.jsx("title",{children:" Gravepass: The starting point for you"})}),e.jsx(Ge,{})]})}export{Ye as default};
