import{aY as f,j as e,i as j,d as p,B as v,aZ as b,a_ as y,e as I,a$ as C,b0 as P,I as k,b1 as w,b2 as A,r as S,A as W,L as B,T}from"./index-lMmDPpwH.js";import{A as E}from"./Autocomplete-tUtEKOFz.js";import{T as O}from"./TextField-L8IfDKvJ.js";function U({sort:r,sortOptions:i,onSort:a}){const n=f();return e.jsxs(e.Fragment,{children:[e.jsxs(j,{disableRipple:!0,color:"inherit",onClick:n.onOpen,endIcon:e.jsx(p,{icon:n.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{fontWeight:"fontWeightSemiBold",textTransform:"capitalize"},children:["Sort By:",e.jsx(v,{component:"span",sx:{ml:.5,fontWeight:"fontWeightBold"},children:r})]}),e.jsx(b,{open:n.open,onClose:n.onClose,sx:{width:140},children:i.map(s=>e.jsx(y,{selected:r===s.value,onClick:()=>{n.onClose(),a(s.value)},children:s.label},s.value))})]})}function K({query:r,results:i,onSearch:a,hrefItem:n,loading:s}){const h=I(),c=t=>{h.push(n(t))},x=t=>{r&&t.key==="Enter"&&c(r)};return e.jsx(E,{sx:{width:{xs:1,sm:260}},loading:s,autoHighlight:!0,popupIcon:null,options:i,onInputChange:(t,o)=>a(o),getOptionLabel:t=>t.title,noOptionsText:e.jsx(C,{query:r,sx:{bgcolor:"unset"}}),isOptionEqualToValue:(t,o)=>t.id===o.id,slotProps:{popper:{placement:"bottom-start",sx:{minWidth:320}},paper:{sx:{[` .${P.option}`]:{pl:.75}}}},renderInput:t=>e.jsx(O,{...t,placeholder:"Search...",onKeyUp:x,InputProps:{...t.InputProps,startAdornment:e.jsx(k,{position:"start",children:e.jsx(p,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})}),endAdornment:e.jsxs(e.Fragment,{children:[s?e.jsx(p,{icon:"svg-spinners:8-dots-rotate",sx:{mr:-3}}):null,t.InputProps.endAdornment]})}}),renderOption:(t,o,{inputValue:d})=>{const m=w(o.title,d),u=A(o.title,m);return S.createElement("li",{...t,key:o.id},e.jsx(W,{alt:o.title,src:o.coverUrl,variant:"rounded",sx:{width:48,height:48,flexShrink:0,mr:1.5,borderRadius:1}},o.id),e.jsx(B,{underline:"none",onClick:()=>c(o.title),children:u.map((l,g)=>e.jsx(T,{component:"span",color:l.highlight?"primary":"textPrimary",sx:{typography:"body2",fontWeight:l.highlight?"fontWeightSemiBold":"fontWeightMedium"},children:l.text},g))},d))}})}export{K as P,U as a};
