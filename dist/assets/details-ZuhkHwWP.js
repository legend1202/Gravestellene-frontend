import{bb as C,j as s,S as l,D as P,R as x,g as o,B as g,al as b,f as v,h as k,bc as w,O as L,r as f,p as m,T as u,dJ as I,s as B,a7 as D,C as S,V as T,H as F}from"./index-HVmlIZYv.js";import"./_baseToString-G8v26nOH.js";import"./text-max-line-JZcfT46n.js";import"./styles-u9RQnHLQ.js";import{b as $}from"./format-number-Ze4u1bEl.js";import{b as y}from"./blog-yMLhM0L7.js";import{a as E}from"./_blog-GspOuDqg.js";import{M as O}from"./markdown-VP4R_EF9.js";import{E as G}from"./empty-content-J0vuGcwT.js";import{P as H}from"./post-details-hero-S1-aagyJ.js";import{P as U,a as A}from"./post-comment-form-UwjWwVk4.js";import{P as M}from"./post-skeleton-duSkxmSl.js";import{C as R}from"./Chip-yi7Wa9Nd.js";import{F as W}from"./FormControlLabel-o9IPCE2V.js";import{C as z}from"./Checkbox-m4MeutVJ.js";import{A as N}from"./AvatarGroup-JTT7FuVE.js";import"./Fab-xJEJ9bYT.js";import"./ListItem-jkInD_9E.js";import"./Pagination-01k09KMB.js";import"./FirstPage-lXeDo4YM.js";import"./Skeleton-R_VnUK7w.js";import"./SwitchBase-hsBiV9_9.js";function V({publish:r,backLink:c,editLink:d,liveLink:t,publishOptions:h,onChangePublish:i,sx:p,...j}){const n=C();return s.jsxs(s.Fragment,{children:[s.jsxs(l,{spacing:1.5,direction:"row",sx:{mb:{xs:3,md:5},...p},...j,children:[s.jsx(P,{component:x,href:c,startIcon:s.jsx(o,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Back"}),s.jsx(g,{sx:{flexGrow:1}}),r==="published"&&s.jsx(b,{title:"Go Live",children:s.jsx(v,{component:x,href:t,children:s.jsx(o,{icon:"eva:external-link-fill"})})}),s.jsx(b,{title:"Edit",children:s.jsx(v,{component:x,href:d,children:s.jsx(o,{icon:"solar:pen-bold"})})}),s.jsx(k,{color:"inherit",variant:"contained",loading:!r,loadingIndicator:"Loadingâ€¦",endIcon:s.jsx(o,{icon:"eva:arrow-ios-downward-fill"}),onClick:n.onOpen,sx:{textTransform:"capitalize"},children:r})]}),s.jsx(w,{open:n.open,onClose:n.onClose,arrow:"top-right",sx:{width:140},children:h.map(a=>s.jsxs(L,{selected:a.value===r,onClick:()=>{n.onClose(),i(a.value)},children:[a.value==="published"&&s.jsx(o,{icon:"eva:cloud-upload-fill"}),a.value==="draft"&&s.jsx(o,{icon:"solar:file-text-bold"}),a.label]},a.value))})]})}function _({title:r}){const[c,d]=f.useState(""),{post:t,postLoading:h,postError:i}=y(r),p=f.useCallback(e=>{d(e)},[]);f.useEffect(()=>{t&&d(t==null?void 0:t.publish)},[t]);const j=s.jsx(M,{}),n=s.jsx(G,{filled:!0,title:`${i==null?void 0:i.message}`,action:s.jsx(P,{component:x,href:m.dashboard.post.root,startIcon:s.jsx(o,{icon:"eva:arrow-ios-back-fill",width:16}),sx:{mt:3},children:"Back to List"}),sx:{py:20}}),a=t&&s.jsxs(s.Fragment,{children:[s.jsx(V,{backLink:m.dashboard.post.root,editLink:m.dashboard.post.edit(`${t==null?void 0:t.title}`),liveLink:m.post.details(`${t==null?void 0:t.title}`),publish:c||"",onChangePublish:p,publishOptions:E}),s.jsx(H,{title:t.title,coverUrl:t.coverUrl}),s.jsxs(l,{sx:{maxWidth:720,mx:"auto",mt:{xs:5,md:10}},children:[s.jsx(u,{variant:"subtitle1",sx:{mb:5},children:t.description}),s.jsx(O,{children:t.content}),s.jsxs(l,{spacing:3,sx:{py:3,borderTop:e=>`dashed 1px ${e.palette.divider}`,borderBottom:e=>`dashed 1px ${e.palette.divider}`},children:[s.jsx(l,{direction:"row",flexWrap:"wrap",spacing:1,children:t.tags.map(e=>s.jsx(R,{label:e,variant:"soft"},e))}),s.jsxs(l,{direction:"row",alignItems:"center",children:[s.jsx(W,{control:s.jsx(z,{defaultChecked:!0,size:"small",color:"error",icon:s.jsx(o,{icon:"solar:heart-bold"}),checkedIcon:s.jsx(o,{icon:"solar:heart-bold"})}),label:$(t.totalFavorites),sx:{mr:1}}),s.jsx(N,{sx:{[`& .${I.avatar}`]:{width:32,height:32}},children:t.favoritePerson.map(e=>s.jsx(B,{alt:e.name,src:e.avatarUrl},e.name))})]})]}),s.jsxs(l,{direction:"row",sx:{mb:3,mt:5},children:[s.jsx(u,{variant:"h4",children:"Comments"}),s.jsxs(u,{variant:"subtitle2",sx:{color:"text.disabled"},children:["(",t.comments.length,")"]})]}),s.jsx(U,{}),s.jsx(D,{sx:{mt:5,mb:2}}),s.jsx(A,{comments:t.comments})]})]});return s.jsxs(S,{maxWidth:!1,children:[h&&j,i&&n,t&&a]})}function js(){const r=T(),{title:c}=r;return s.jsxs(s.Fragment,{children:[s.jsx(F,{children:s.jsx("title",{children:" Dashboard: Post Details"})}),s.jsx(_,{title:`${c}`})]})}export{js as default};
