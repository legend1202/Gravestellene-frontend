import{ax as _,j as e,S as c,B as D,R as y,h as r,v as m,q as w,g,i as z,az as F,a5 as N,w as C,au as k,T,L as U,X as O,e4 as $,m as I,r as j,K as M,Y as W,E as u,G as V,e5 as q,e6 as K,x as X,C as Y,p as L,e7 as J,N as Q,H as Z}from"./index-F58UWM6d.js";import"./_baseToString-kWLBp72X.js";import{c as S}from"./format-time-N0vllXDz.js";import{M as ee}from"./markdown-IX3Q3DWg.js";import{b as P}from"./transition-eqIn2NYL.js";import{u as se,L as re}from"./use-light-box-foBx3VHE.js";import{C as oe}from"./Checkbox-LoW-zYTz.js";import{T as ae,a as ne}from"./Tabs-VgtfxpHW.js";import"./styles-ChwulusQ.js";import"./SwitchBase-QO7WNYjK.js";import"./KeyboardArrowRight-nt3KTS5I.js";function ie({publish:n,backLink:i,editLink:o,liveLink:a,publishOptions:t,onChangePublish:d,sx:p,...b}){const h=_();return e.jsxs(e.Fragment,{children:[e.jsxs(c,{spacing:1.5,direction:"row",sx:{mb:{xs:3,md:5},...p},...b,children:[e.jsx(D,{component:y,href:i,startIcon:e.jsx(r,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Back"}),e.jsx(m,{sx:{flexGrow:1}}),n==="published"&&e.jsx(w,{title:"Go Live",children:e.jsx(g,{component:y,href:a,children:e.jsx(r,{icon:"eva:external-link-fill"})})}),e.jsx(w,{title:"Edit",children:e.jsx(g,{component:y,href:o,children:e.jsx(r,{icon:"solar:pen-bold"})})}),e.jsx(z,{color:"inherit",variant:"contained",loading:!n,loadingIndicator:"Loadingâ€¦",endIcon:e.jsx(r,{icon:"eva:arrow-ios-downward-fill"}),onClick:h.onOpen,sx:{textTransform:"capitalize"},children:n})]}),e.jsx(F,{open:h.open,onClose:h.onClose,arrow:"top-right",sx:{width:140},children:t.map(x=>e.jsxs(N,{selected:x.value===n,onClick:()=>{h.onClose(),d(x.value)},children:[x.value==="published"&&e.jsx(r,{icon:"eva:cloud-upload-fill"}),x.value==="draft"&&e.jsx(r,{icon:"solar:file-text-bold"}),x.label]},x.value))})]})}function le({tour:n}){const{name:i,images:o,content:a,services:t,tourGuides:d,available:p,durations:b,destination:h,ratingNumber:x}=n,l=o.map(s=>({src:s})),{selected:v,open:R,onOpen:f,onClose:B}=se(l),G=e.jsxs(e.Fragment,{children:[e.jsxs(m,{gap:1,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},sx:{mb:{xs:3,md:5}},children:[e.jsx(C.div,{whileHover:"hover",variants:{hover:{opacity:.8}},transition:P(),children:e.jsx(k,{alt:l[0].src,src:l[0].src,ratio:"1/1",onClick:()=>f(l[0].src),sx:{borderRadius:2,cursor:"pointer"}})},l[0].src),e.jsx(m,{gap:1,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",children:l.slice(1,5).map(s=>e.jsx(C.div,{whileHover:"hover",variants:{hover:{opacity:.8}},transition:P(),children:e.jsx(k,{alt:s.src,src:s.src,ratio:"1/1",onClick:()=>f(s.src),sx:{borderRadius:2,cursor:"pointer"}})},s.src))})]}),e.jsx(re,{index:v,slides:l,open:R,close:B})]}),A=e.jsxs(e.Fragment,{children:[e.jsxs(c,{direction:"row",sx:{mb:3},children:[e.jsx(T,{variant:"h4",sx:{flexGrow:1},children:i}),e.jsx(g,{children:e.jsx(r,{icon:"solar:share-bold"})}),e.jsx(oe,{defaultChecked:!0,color:"error",icon:e.jsx(r,{icon:"solar:heart-outline"}),checkedIcon:e.jsx(r,{icon:"solar:heart-bold"})})]}),e.jsxs(c,{spacing:3,direction:"row",flexWrap:"wrap",alignItems:"center",children:[e.jsxs(c,{direction:"row",alignItems:"center",spacing:.5,sx:{typography:"body2"},children:[e.jsx(r,{icon:"eva:star-fill",sx:{color:"warning.main"}}),e.jsx(m,{component:"span",sx:{typography:"subtitle2"},children:x}),e.jsx(U,{sx:{color:"text.secondary"},children:"(234 reviews)"})]}),e.jsxs(c,{direction:"row",alignItems:"center",spacing:.5,sx:{typography:"body2"},children:[e.jsx(r,{icon:"mingcute:location-fill",sx:{color:"error.main"}}),h]}),e.jsxs(c,{direction:"row",alignItems:"center",spacing:.5,sx:{typography:"subtitle2"},children:[e.jsx(r,{icon:"solar:flag-bold",sx:{color:"info.main"}}),e.jsx(m,{component:"span",sx:{typography:"body2",color:"text.secondary"},children:"Guide by"}),d.map(s=>s.name).join(", ")]})]})]}),E=e.jsx(m,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},children:[{label:"Available",value:`${S(p.startDate)} - ${S(p.endDate)}`,icon:e.jsx(r,{icon:"solar:calendar-date-bold"})},{label:"Contact name",value:d.map(s=>s.phoneNumber).join(", "),icon:e.jsx(r,{icon:"solar:user-rounded-bold"})},{label:"Durations",value:b,icon:e.jsx(r,{icon:"solar:clock-circle-bold"})},{label:"Contact phone",value:d.map(s=>s.name).join(", "),icon:e.jsx(r,{icon:"solar:phone-bold"})}].map(s=>e.jsxs(c,{spacing:1.5,direction:"row",children:[s.icon,e.jsx(O,{primary:s.label,secondary:s.value,primaryTypographyProps:{typography:"body2",color:"text.secondary",mb:.5},secondaryTypographyProps:{typography:"subtitle2",color:"text.primary",component:"span"}})]},s.label))}),H=e.jsxs(e.Fragment,{children:[e.jsx(ee,{children:a}),e.jsxs(c,{spacing:2,children:[e.jsx(T,{variant:"h6",children:" Services"}),e.jsx(m,{rowGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",md:"repeat(2, 1fr)"},children:$.map(s=>e.jsxs(c,{spacing:1,direction:"row",alignItems:"center",sx:{...t.includes(s.label)&&{color:"text.disabled"}},children:[e.jsx(r,{icon:"eva:checkmark-circle-2-outline",sx:{color:"primary.main",...t.includes(s.label)&&{color:"text.disabled"}}}),s.label]},s.label))})]})]});return e.jsxs(e.Fragment,{children:[G,e.jsxs(c,{sx:{maxWidth:720,mx:"auto"},children:[A,e.jsx(I,{sx:{borderStyle:"dashed",my:5}}),E,e.jsx(I,{sx:{borderStyle:"dashed",my:5}}),H]})]})}function te({bookers:n}){const[i,o]=j.useState([]),a=j.useCallback(t=>{const d=i.includes(t)?i.filter(p=>p!==t):[...i,t];o(d)},[i]);return e.jsx(m,{gap:3,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(3, 1fr)"},children:n.map(t=>e.jsx(ce,{booker:t,selected:i.includes(t.id),onSelected:()=>a(t.id)},t.id))})}function ce({booker:n,selected:i,onSelected:o}){return e.jsxs(c,{component:M,direction:"row",spacing:2,sx:{p:3},children:[e.jsx(W,{alt:n.name,src:n.avatarUrl,sx:{width:48,height:48}}),e.jsxs(c,{spacing:2,flexGrow:1,children:[e.jsx(O,{primary:n.name,secondary:e.jsxs(c,{direction:"row",alignItems:"center",spacing:.5,children:[e.jsx(r,{icon:"solar:users-group-rounded-bold",width:16}),n.guests," guests"]}),secondaryTypographyProps:{mt:.5,component:"span",typography:"caption",color:"text.disabled"}}),e.jsxs(c,{spacing:1,direction:"row",children:[e.jsx(g,{size:"small",color:"error",sx:{borderRadius:1,bgcolor:a=>u(a.palette.error.main,.08),"&:hover":{bgcolor:a=>u(a.palette.error.main,.16)}},children:e.jsx(r,{width:18,icon:"solar:phone-bold"})}),e.jsx(g,{size:"small",color:"info",sx:{borderRadius:1,bgcolor:a=>u(a.palette.info.main,.08),"&:hover":{bgcolor:a=>u(a.palette.info.main,.16)}},children:e.jsx(r,{width:18,icon:"solar:chat-round-dots-bold"})}),e.jsx(g,{size:"small",color:"primary",sx:{borderRadius:1,bgcolor:a=>u(a.palette.primary.main,.08),"&:hover":{bgcolor:a=>u(a.palette.primary.main,.16)}},children:e.jsx(r,{width:18,icon:"fluent:mail-24-filled"})})]})]}),e.jsx(D,{size:"small",variant:i?"text":"outlined",color:i?"success":"inherit",startIcon:i?e.jsx(r,{width:18,icon:"eva:checkmark-fill",sx:{mr:-.75}}):null,onClick:o,children:i?"Approved":"Approve"})]},n.id)}function de({id:n}){const i=V(),o=q.filter(l=>l.id===n)[0],[a,t]=j.useState(o==null?void 0:o.publish),[d,p]=j.useState("content"),b=j.useCallback((l,v)=>{p(v)},[]),h=j.useCallback(l=>{t(l)},[]),x=e.jsx(ae,{value:d,onChange:b,sx:{mb:{xs:3,md:5}},children:K.map(l=>e.jsx(ne,{iconPosition:"end",value:l.value,label:l.label,icon:l.value==="bookers"?e.jsx(X,{variant:"filled",children:o==null?void 0:o.bookers.length}):""},l.value))});return e.jsxs(Y,{maxWidth:i.themeStretch?!1:"lg",children:[e.jsx(ie,{backLink:L.dashboard.tour.root,editLink:L.dashboard.tour.edit(`${o==null?void 0:o.id}`),liveLink:"#",publish:a||"",onChangePublish:h,publishOptions:J}),x,d==="content"&&e.jsx(le,{tour:o}),d==="bookers"&&e.jsx(te,{bookers:o==null?void 0:o.bookers})]})}function we(){const n=Q(),{id:i}=n;return e.jsxs(e.Fragment,{children:[e.jsx(Z,{children:e.jsx("title",{children:" Dashboard: Analytics"})}),e.jsx(de,{id:`${i}`})]})}export{we as default};
