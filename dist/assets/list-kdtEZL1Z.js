import{j as e,k as S,g as u,S as h,A as k,L as D,B as L,b as I,e as T,h as E,r,p as a,d as n,C as M,i as d,R as N,H as O}from"./index-GLB0-COv.js";import{b as P}from"./graveyard-2Y_Ls1OL.js";import{E as m}from"./empty-content-AJBVFXhe.js";import{C as A}from"./confirm-dialog-Tmm4Uygk.js";import{C as B}from"./custom-breadcrumbs-y7vEq1Mg.js";import{C as F}from"./Card-oKMzPwWo.js";import{b as p,D as H,G as V,a as W}from"./DataGrid-2_fBHAjv.js";import"./index-1u5g4BxH.js";import"./index.esm-bFz1mbUk.js";import"./image-sa1WTJbO.js";import"./mui-one-time-password-input.es-zG04MA5Y.js";import"./styles-RrkxVDFU.js";import"./graveyard-details-carousel-g-LV30yT.js";import"./styles-QfMYE2Gk.js";import"./DialogTitle-KNN7PWDE.js";import"./dialogTitleClasses-DnmgYCVd.js";import"./DialogContent-HjkuCL9J.js";import"./DialogActions-AHBFdKUJ.js";import"./TextField-zEGoGrFA.js";import"./index-Kx7fbXlQ.js";import"./Autocomplete-MXq7iC3V.js";import"./Close-h_sQMOZo.js";import"./Chip-V8hE5y9x.js";import"./ClickAwayListener-QalEK9aC.js";import"./Checkbox-qhg1k3Um.js";import"./SwitchBase-dYFpV_N7.js";import"./Switch-MCTQfwpv.js";import"./Skeleton-bP74q55a.js";import"./CircularProgress-gdFe3tcU.js";import"./TablePagination-FvF2tGor.js";import"./FirstPage-cVUcAsjB.js";import"./TableCell-C7TN4rRp.js";import"./FormControlLabel-NMuNkhR8.js";import"./use-light-box-8bpDk3QL.js";import"./carousel-arrow-index-FkFQIEnJ.js";function U({params:o}){return e.jsx(S,{variant:"soft",color:o.row.approved&&"info"||"default",children:o.row.approved?"Approved":""})}function _({params:o}){return e.jsx(u,{primary:o.row.location,secondary:o.row.location,primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}function z({params:o}){return e.jsxs(h,{direction:"row",alignItems:"center",sx:{py:2,width:1},children:[e.jsx(k,{alt:o.row.name,src:o.row.coverUrl,variant:"rounded",sx:{width:64,height:64,mr:2}}),e.jsx(u,{disableTypography:!0,primary:e.jsx(D,{noWrap:!0,color:"inherit",variant:"subtitle2",onClick:o.row.onViewRow,href:"/graveyard/i",sx:{cursor:"pointer"},children:o.row.name}),secondary:e.jsx(L,{component:"div",sx:{typography:"body2",color:"text.disabled"},children:o.row.category}),sx:{display:"flex",flexDirection:"column"}})]})}const Q=[{value:"published",label:"Published"},{value:"draft",label:"Draft"}],q={category:!1},J=["category","actions"];function K(){const o=I(),i=T(),x=E(),{products:s,productsLoading:f}=P(),[g,y]=r.useState([]),[l,b]=r.useState([]),[j,w]=r.useState(q);r.useEffect(()=>{s.length&&y(s)},[s]);const C=r.useCallback(()=>{},[]),v=r.useCallback(t=>{i.push(a.fellesraad.graveyard.edit(t))},[i]),G=r.useCallback(t=>{i.push(a.fellesraad.graveyard.details(t))},[i]),c=[{field:"name",headerName:"Graveyard",flex:1,minWidth:280,hideable:!1,renderCell:t=>e.jsx(z,{params:t})},{field:"location",headerName:"location",minWidth:280,renderCell:t=>e.jsx(_,{params:t})},{field:"publish",headerName:"Publish",width:110,type:"singleSelect",editable:!0,valueOptions:Q,renderCell:t=>e.jsx(U,{params:t})},{type:"actions",field:"actions",headerName:" ",align:"right",headerAlign:"right",width:80,sortable:!1,filterable:!1,disableColumnMenu:!0,getActions:t=>[e.jsx(p,{showInMenu:!0,icon:e.jsx(n,{icon:"solar:eye-bold"}),label:"View",onClick:()=>G(t.row.id)}),e.jsx(p,{showInMenu:!0,icon:e.jsx(n,{icon:"solar:pen-bold"}),label:"Edit",onClick:()=>v(t.row.id)})]}],R=()=>c.filter(t=>!J.includes(t.field)).map(t=>t.field);return e.jsxs(e.Fragment,{children:[e.jsxs(M,{maxWidth:x.themeStretch?!1:"lg",sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[e.jsx(B,{heading:"List",links:[{name:"Graveyard",href:a.dashboard.root},{name:"List"}],action:e.jsx(d,{component:N,href:a.fellesraad.graveyard.create,variant:"contained",startIcon:e.jsx(n,{icon:"mingcute:add-line"}),children:"New Graveyard"}),sx:{mb:{xs:3,md:5}}}),e.jsx(F,{sx:{height:{xs:800,md:2},flexGrow:{md:1},display:{md:"flex"},flexDirection:{md:"column"}},children:e.jsx(H,{checkboxSelection:!0,disableRowSelectionOnClick:!0,rows:g,columns:c,loading:f,getRowHeight:()=>"auto",pageSizeOptions:[5,10,25],initialState:{pagination:{paginationModel:{pageSize:10}}},onRowSelectionModelChange:t=>{b(t)},columnVisibilityModel:j,onColumnVisibilityModelChange:t=>w(t),slots:{toolbar:()=>e.jsx(e.Fragment,{children:e.jsxs(V,{children:[e.jsx(W,{}),e.jsx(h,{spacing:1,flexGrow:1,direction:"row",alignItems:"center",justifyContent:"flex-end",children:!!l.length&&e.jsxs(d,{size:"small",color:"error",startIcon:e.jsx(n,{icon:"solar:trash-bin-trash-bold"}),onClick:o.onTrue,children:["Delete (",l.length,")"]})})]})}),noRowsOverlay:()=>e.jsx(m,{title:"No Data"}),noResultsOverlay:()=>e.jsx(m,{title:"No results found"})},slotProps:{columnsPanel:{getTogglableColumns:R}}})})]}),e.jsx(A,{open:o.value,onClose:o.onFalse,title:"Delete",content:e.jsxs(e.Fragment,{children:["Are you sure want to delete"," ",e.jsxs("strong",{children:[" ",l.length," "]})," items?"]}),action:e.jsx(d,{variant:"contained",color:"error",onClick:()=>{C(),o.onFalse()},children:"Delete"})})]})}function Te(){return e.jsxs(e.Fragment,{children:[e.jsx(O,{children:e.jsx("title",{children:" Graveyard: List of the Graveyard"})}),e.jsx(K,{})]})}export{Te as default};
