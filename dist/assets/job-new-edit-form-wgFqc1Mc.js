import{e as H,aF as b,m as q,r as n,e1 as f,p as A,j as e,G as o,T as t,S as l,eb as $,ea as M,ed as G,ee as W,cN as z,B as u,d as S,w as U,ax as K,I as Y,e9 as V}from"./index-xccKnqtj.js";import{c as C,a as p,e as m,f as X,d as Q,b as Z}from"./index.esm-YEE7kA5n.js";import{o as J}from"./yup-kNUoSS0a.js";import{u as ee,C as E,F as se}from"./form-provider-AIk6qsYQ.js";import"./image-ihTI-eUB.js";import{a as O}from"./rhf-checkbox-nFvXtDdf.js";import"./mui-one-time-password-input.es-8WdpYP-F.js";import{R as ie}from"./rhf-switch-71PqHFfc.js";import{R as ae}from"./rhf-editor-qCb2TUsu.js";import{R as T}from"./rhf-text-field-M35LS_3G.js";import{R as te}from"./rhf-radio-group-vGSv5e1F.js";import{R as x}from"./rhf-autocomplete-3-iJKZ_B.js";import{C as k}from"./Card-tMu97UR4.js";import{C as v}from"./CardHeader-EZ_NOwqQ.js";import{C as R}from"./Chip-_G7JEqc_.js";import{D as le}from"./DatePicker-6vw-lEMw.js";import{F as ne}from"./FormControlLabel-rYqjbgl6.js";import{S as oe}from"./Switch-8NlbQv1L.js";import{L as re}from"./LoadingButton-rYn3LTh9.js";function Fe({currentJob:s}){const F=H(),r=b("up","md"),{enqueueSnackbar:P}=q(),w=C().shape({title:p().required("Title is required"),content:p().required("Content is required"),employmentTypes:m().min(1,"Choose at least one option"),role:p().required("Role is required"),skills:m().min(1,"Choose at least one option"),workingSchedule:m().min(1,"Choose at least one option"),benefits:m().min(1,"Choose at least one option"),locations:m().min(1,"Choose at least one option"),expiredDate:X().nullable().required("Expired date is required"),salary:C().shape({type:p(),price:Q().min(1,"Price is required"),negotiable:Z()}),experience:p()}),c=n.useMemo(()=>({title:(s==null?void 0:s.title)||"",content:(s==null?void 0:s.content)||"",employmentTypes:(s==null?void 0:s.employmentTypes)||[],experience:(s==null?void 0:s.experience)||"1 year exp",role:(s==null?void 0:s.role)||f[1],skills:(s==null?void 0:s.skills)||[],workingSchedule:(s==null?void 0:s.workingSchedule)||[],locations:(s==null?void 0:s.locations)||[],benefits:(s==null?void 0:s.benefits)||[],expiredDate:(s==null?void 0:s.expiredDate)||null,salary:(s==null?void 0:s.salary)||{type:"Hourly",price:0,negotiable:!1}}),[s]),y=ee({resolver:J(w),defaultValues:c}),{reset:h,control:g,handleSubmit:I,formState:{isSubmitting:L}}=y;n.useEffect(()=>{s&&h(c)},[s,c,h]);const _=I(async i=>{try{await new Promise(a=>setTimeout(a,500)),h(),P(s?"Update success!":"Create success!"),F.push(A.dashboard.job.root),console.info("DATA",i)}catch(a){console.error(a)}}),B=e.jsxs(e.Fragment,{children:[r&&e.jsxs(o,{md:4,children:[e.jsx(t,{variant:"h6",sx:{mb:.5},children:"Details"}),e.jsx(t,{variant:"body2",sx:{color:"text.secondary"},children:"Title, short description, image..."})]}),e.jsx(o,{xs:12,md:8,children:e.jsxs(k,{children:[!r&&e.jsx(v,{title:"Details"}),e.jsxs(l,{spacing:3,sx:{p:3},children:[e.jsxs(l,{spacing:1.5,children:[e.jsx(t,{variant:"subtitle2",children:"Title"}),e.jsx(T,{name:"title",placeholder:"Ex: Software Engineer..."})]}),e.jsxs(l,{spacing:1.5,children:[e.jsx(t,{variant:"subtitle2",children:"Content"}),e.jsx(ae,{simple:!0,name:"content"})]})]})]})})]}),D=e.jsxs(e.Fragment,{children:[r&&e.jsxs(o,{md:4,children:[e.jsx(t,{variant:"h6",sx:{mb:.5},children:"Properties"}),e.jsx(t,{variant:"body2",sx:{color:"text.secondary"},children:"Additional functions and attributes..."})]}),e.jsx(o,{xs:12,md:8,children:e.jsxs(k,{children:[!r&&e.jsx(v,{title:"Properties"}),e.jsxs(l,{spacing:3,sx:{p:3},children:[e.jsxs(l,{spacing:1,children:[e.jsx(t,{variant:"subtitle2",children:"Employment type"}),e.jsx(O,{row:!0,spacing:4,name:"employmentTypes",options:$})]}),e.jsxs(l,{spacing:1,children:[e.jsx(t,{variant:"subtitle2",children:"Experience"}),e.jsx(te,{row:!0,spacing:4,name:"experience",options:M})]}),e.jsxs(l,{spacing:1.5,children:[e.jsx(t,{variant:"subtitle2",children:"Role"}),e.jsx(x,{name:"role",autoHighlight:!0,options:f.map(i=>i),getOptionLabel:i=>i,renderOption:(i,a)=>n.createElement("li",{...i,key:a},a)})]}),e.jsxs(l,{spacing:1.5,children:[e.jsx(t,{variant:"subtitle2",children:"Skills"}),e.jsx(x,{name:"skills",placeholder:"+ Skills",multiple:!0,disableCloseOnSelect:!0,options:G.map(i=>i),getOptionLabel:i=>i,renderOption:(i,a)=>n.createElement("li",{...i,key:a},a),renderTags:(i,a)=>i.map((d,j)=>n.createElement(R,{...a({index:j}),key:d,label:d,size:"small",color:"info",variant:"soft"}))})]}),e.jsxs(l,{spacing:1.5,children:[e.jsx(t,{variant:"subtitle2",children:"Working schedule"}),e.jsx(x,{name:"workingSchedule",placeholder:"+ Schedule",multiple:!0,disableCloseOnSelect:!0,options:W.map(i=>i),getOptionLabel:i=>i,renderOption:(i,a)=>n.createElement("li",{...i,key:a},a),renderTags:(i,a)=>i.map((d,j)=>n.createElement(R,{...a({index:j}),key:d,label:d,size:"small",color:"info",variant:"soft"}))})]}),e.jsxs(l,{spacing:1.5,children:[e.jsx(t,{variant:"subtitle2",children:"Locations"}),e.jsx(x,{name:"locations",type:"country",placeholder:"+ Locations",multiple:!0,options:z.map(i=>i.label),getOptionLabel:i=>i})]}),e.jsxs(l,{spacing:1.5,children:[e.jsx(t,{variant:"subtitle2",children:"Expired"}),e.jsx(E,{name:"expiredDate",control:g,render:({field:i,fieldState:{error:a}})=>e.jsx(le,{...i,format:"dd/MM/yyyy",slotProps:{textField:{fullWidth:!0,error:!!a,helperText:a==null?void 0:a.message}}})})]}),e.jsxs(l,{spacing:2,children:[e.jsx(t,{variant:"subtitle2",children:"Salary"}),e.jsx(E,{name:"salary.type",control:g,render:({field:i})=>e.jsx(u,{gap:2,display:"grid",gridTemplateColumns:"repeat(2, 1fr)",children:[{label:"Hourly",icon:e.jsx(S,{icon:"solar:clock-circle-bold",width:32,sx:{mb:2}})},{label:"Custom",icon:e.jsx(S,{icon:"solar:wad-of-money-bold",width:32,sx:{mb:2}})}].map(a=>e.jsxs(U,{component:K,variant:"outlined",onClick:()=>i.onChange(a.label),sx:{p:2.5,borderRadius:1,typography:"subtitle2",flexDirection:"column",...a.label===i.value&&{borderWidth:2,borderColor:"text.primary"}},children:[a.icon,a.label]},a.label))})}),e.jsx(T,{name:"salary.price",placeholder:"0.00",type:"number",InputProps:{startAdornment:e.jsx(Y,{position:"start",children:e.jsx(u,{sx:{typography:"subtitle2",color:"text.disabled"},children:"$"})})}}),e.jsx(ie,{name:"salary.negotiable",label:"Salary is negotiable"})]}),e.jsxs(l,{spacing:1,children:[e.jsx(t,{variant:"subtitle2",children:"Benefits"}),e.jsx(O,{name:"benefits",options:V,sx:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)"}})]})]})]})})]}),N=e.jsxs(e.Fragment,{children:[r&&e.jsx(o,{md:4}),e.jsxs(o,{xs:12,md:8,sx:{display:"flex",alignItems:"center"},children:[e.jsx(ne,{control:e.jsx(oe,{defaultChecked:!0}),label:"Publish",sx:{flexGrow:1,pl:3}}),e.jsx(re,{type:"submit",variant:"contained",size:"large",loading:L,sx:{ml:2},children:s?"Save Changes":"Create Job"})]})]});return e.jsx(se,{methods:y,onSubmit:_,children:e.jsxs(o,{container:!0,spacing:3,children:[B,D,N]})})}export{Fe as J};
