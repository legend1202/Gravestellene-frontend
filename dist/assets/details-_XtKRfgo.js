import{bi as C,j as s,S as l,t as P,R as x,h as o,B as g,as as b,g as v,i as k,bj as w,bk as L,r as u,p as m,T as f,dE as I,n as B,K as S,C as D,E,H as T}from"./index-CEsfQFse.js";import"./_baseToString-UvnM4N5Z.js";import"./text-max-line-9qTukmWF.js";import"./styles-x4ogaiu6.js";import{b as F}from"./format-number-jm6-t6vV.js";import{b as $}from"./blog-M9BpHpoS.js";import{a as y}from"./_blog-GspOuDqg.js";import{M as G}from"./markdown-SAOMU674.js";import{E as O}from"./empty-content-KT_FOr0l.js";import{P as H}from"./post-details-hero-LBAoj72I.js";import{P as U,a as A}from"./post-comment-form-FmGP-Atw.js";import{P as M}from"./post-skeleton-gV-Rsaz2.js";import{C as R}from"./Chip-G0Y7wrXl.js";import{F as W}from"./FormControlLabel-WUfQyeeR.js";import{C as z}from"./Checkbox-bGZtF6lT.js";import{A as N}from"./AvatarGroup-Eh8nllnz.js";import"./Fab-N_y618H8.js";import"./ListItem-A8SJSRZx.js";import"./Pagination-D5eKAm0a.js";import"./FirstPage-dmisuDbp.js";import"./Skeleton-dYiwOVIo.js";import"./SwitchBase-1hgUc2eS.js";function _({publish:r,backLink:c,editLink:d,liveLink:t,publishOptions:h,onChangePublish:i,sx:p,...j}){const n=C();return s.jsxs(s.Fragment,{children:[s.jsxs(l,{spacing:1.5,direction:"row",sx:{mb:{xs:3,md:5},...p},...j,children:[s.jsx(P,{component:x,href:c,startIcon:s.jsx(o,{icon:"eva:arrow-ios-back-fill",width:16}),children:"Back"}),s.jsx(g,{sx:{flexGrow:1}}),r==="published"&&s.jsx(b,{title:"Go Live",children:s.jsx(v,{component:x,href:t,children:s.jsx(o,{icon:"eva:external-link-fill"})})}),s.jsx(b,{title:"Edit",children:s.jsx(v,{component:x,href:d,children:s.jsx(o,{icon:"solar:pen-bold"})})}),s.jsx(k,{color:"inherit",variant:"contained",loading:!r,loadingIndicator:"Loadingâ€¦",endIcon:s.jsx(o,{icon:"eva:arrow-ios-downward-fill"}),onClick:n.onOpen,sx:{textTransform:"capitalize"},children:r})]}),s.jsx(w,{open:n.open,onClose:n.onClose,arrow:"top-right",sx:{width:140},children:h.map(a=>s.jsxs(L,{selected:a.value===r,onClick:()=>{n.onClose(),i(a.value)},children:[a.value==="published"&&s.jsx(o,{icon:"eva:cloud-upload-fill"}),a.value==="draft"&&s.jsx(o,{icon:"solar:file-text-bold"}),a.label]},a.value))})]})}function K({title:r}){const[c,d]=u.useState(""),{post:t,postLoading:h,postError:i}=$(r),p=u.useCallback(e=>{d(e)},[]);u.useEffect(()=>{t&&d(t==null?void 0:t.publish)},[t]);const j=s.jsx(M,{}),n=s.jsx(O,{filled:!0,title:`${i==null?void 0:i.message}`,action:s.jsx(P,{component:x,href:m.dashboard.post.root,startIcon:s.jsx(o,{icon:"eva:arrow-ios-back-fill",width:16}),sx:{mt:3},children:"Back to List"}),sx:{py:20}}),a=t&&s.jsxs(s.Fragment,{children:[s.jsx(_,{backLink:m.dashboard.post.root,editLink:m.dashboard.post.edit(`${t==null?void 0:t.title}`),liveLink:m.post.details(`${t==null?void 0:t.title}`),publish:c||"",onChangePublish:p,publishOptions:y}),s.jsx(H,{title:t.title,coverUrl:t.coverUrl}),s.jsxs(l,{sx:{maxWidth:720,mx:"auto",mt:{xs:5,md:10}},children:[s.jsx(f,{variant:"subtitle1",sx:{mb:5},children:t.description}),s.jsx(G,{children:t.content}),s.jsxs(l,{spacing:3,sx:{py:3,borderTop:e=>`dashed 1px ${e.palette.divider}`,borderBottom:e=>`dashed 1px ${e.palette.divider}`},children:[s.jsx(l,{direction:"row",flexWrap:"wrap",spacing:1,children:t.tags.map(e=>s.jsx(R,{label:e,variant:"soft"},e))}),s.jsxs(l,{direction:"row",alignItems:"center",children:[s.jsx(W,{control:s.jsx(z,{defaultChecked:!0,size:"small",color:"error",icon:s.jsx(o,{icon:"solar:heart-bold"}),checkedIcon:s.jsx(o,{icon:"solar:heart-bold"})}),label:F(t.totalFavorites),sx:{mr:1}}),s.jsx(N,{sx:{[`& .${I.avatar}`]:{width:32,height:32}},children:t.favoritePerson.map(e=>s.jsx(B,{alt:e.name,src:e.avatarUrl},e.name))})]})]}),s.jsxs(l,{direction:"row",sx:{mb:3,mt:5},children:[s.jsx(f,{variant:"h4",children:"Comments"}),s.jsxs(f,{variant:"subtitle2",sx:{color:"text.disabled"},children:["(",t.comments.length,")"]})]}),s.jsx(U,{}),s.jsx(S,{sx:{mt:5,mb:2}}),s.jsx(A,{comments:t.comments})]})]});return s.jsxs(D,{maxWidth:!1,children:[h&&j,i&&n,t&&a]})}function js(){const r=E(),{title:c}=r;return s.jsxs(s.Fragment,{children:[s.jsx(T,{children:s.jsx("title",{children:" Dashboard: Post Details"})}),s.jsx(K,{title:`${c}`})]})}export{js as default};
