import{j as e,X as z,aB as s,dN as B,B as i,T as h,aY as U,S as x,dO as k,g as A,h as E,t as M}from"./index-HNXcBFmK.js";import{u as W,M as N}from"./preview-multi-file-9P5csR_D.js";import{d as O}from"./format-number-CyLv55jy.js";function T({fileRejections:o}){return o.length?e.jsx(z,{variant:"outlined",sx:{py:1,px:2,mt:3,textAlign:"left",borderStyle:"dashed",borderColor:"error.main",bgcolor:n=>s(n.palette.error.main,.08)},children:o.map(({file:n,errors:c})=>{const{path:a,size:t}=B(n);return e.jsxs(i,{sx:{my:1},children:[e.jsxs(h,{variant:"subtitle2",noWrap:!0,children:[a," - ",t?O(t):""]}),c.map(l=>e.jsxs(i,{component:"span",sx:{typography:"caption"},children:["- ",l.message]},l.code))]},a)})}):null}function X({imgUrl:o=""}){return e.jsx(i,{sx:{p:1,top:0,left:0,width:1,height:1,position:"absolute"},children:e.jsx(U,{alt:"file preview",src:o,sx:{width:1,height:1,borderRadius:1}})})}function H({disabled:o,multiple:n=!1,error:c,helperText:a,file:t,onDelete:l,files:p,thumbnail:m,onUpload:Y,onRemove:u,onRemoveAll:g,sx:j,...y}){const{getRootProps:v,getInputProps:w,isDragActive:b,isDragReject:f,fileRejections:P}=W({multiple:n,disabled:o,...y}),d=!!t&&!n,D=!!p&&n&&!!p.length,I=f||!!c,R=e.jsxs(x,{spacing:3,alignItems:"center",justifyContent:"center",flexWrap:"wrap",children:[e.jsx(k,{sx:{width:1,maxWidth:200}}),e.jsxs(x,{spacing:1,sx:{textAlign:"center"},children:[e.jsx(h,{variant:"h6",children:"Drop or Select file"}),e.jsxs(h,{variant:"body2",sx:{color:"text.secondary"},children:["Drop files here or click",e.jsx(i,{component:"span",sx:{mx:.5,color:"primary.main",textDecoration:"underline"},children:"browse"}),"thorough your machine"]})]})]}),S=e.jsx(X,{imgUrl:typeof t=="string"?t:t==null?void 0:t.preview}),C=d&&l&&e.jsx(A,{size:"small",onClick:l,sx:{top:16,right:16,zIndex:9,position:"absolute",color:r=>s(r.palette.common.white,.8),bgcolor:r=>s(r.palette.grey[900],.72),"&:hover":{bgcolor:r=>s(r.palette.grey[900],.48)}},children:e.jsx(E,{icon:"mingcute:close-line",width:18})}),F=D&&e.jsxs(e.Fragment,{children:[e.jsx(i,{sx:{my:3},children:e.jsx(N,{files:p,thumbnail:m,onRemove:u})}),e.jsx(x,{direction:"row",justifyContent:"flex-end",spacing:1.5,children:g&&e.jsx(M,{color:"inherit",variant:"outlined",size:"small",onClick:g,children:"Remove All"})})]});return e.jsxs(i,{sx:{width:1,position:"relative",...j},children:[e.jsxs(i,{...v(),sx:{p:5,outline:"none",borderRadius:1,cursor:"pointer",overflow:"hidden",position:"relative",bgcolor:r=>s(r.palette.grey[500],.08),border:r=>`1px dashed ${s(r.palette.grey[500],.2)}`,transition:r=>r.transitions.create(["opacity","padding"]),"&:hover":{opacity:.72},...b&&{opacity:.72},...o&&{opacity:.48,pointerEvents:"none"},...I&&{color:"error.main",borderColor:"error.main",bgcolor:r=>s(r.palette.error.main,.08)},...d&&{padding:"24% 0"}},children:[e.jsx("input",{...w()}),d?S:R]}),C,a&&a,e.jsx(T,{fileRejections:P}),F]})}export{T as R,H as U};
