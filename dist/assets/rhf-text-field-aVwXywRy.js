import{bK as A,j as be}from"./index-tWxiFnGS.js";import{T as Nt}from"./TextField-uP2c0lAh.js";var ge=e=>e.type==="checkbox",ue=e=>e instanceof Date,P=e=>e==null;const yt=e=>typeof e=="object";var U=e=>!P(e)&&!Array.isArray(e)&&yt(e)&&!ue(e),gt=e=>U(e)&&e.target?ge(e.target)?e.target.checked:e.target.value:e,Pt=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,ht=(e,i)=>e.has(Pt(i)),It=e=>{const i=e.constructor&&e.constructor.prototype;return U(i)&&i.hasOwnProperty("isPrototypeOf")},Ke=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function N(e){let i;const t=Array.isArray(e);if(e instanceof Date)i=new Date(e);else if(e instanceof Set)i=new Set(e);else if(!(Ke&&(e instanceof Blob||e instanceof FileList))&&(t||U(e)))if(i=t?[]:{},!t&&!It(e))i=e;else for(const r in e)e.hasOwnProperty(r)&&(i[r]=N(e[r]));else return e;return i}var le=e=>Array.isArray(e)?e.filter(Boolean):[],C=e=>e===void 0,f=(e,i,t)=>{if(!i||!U(e))return t;const r=le(i.split(/[,[\].]+?/)).reduce((a,n)=>P(a)?a:a[n],e);return C(r)||r===e?C(e[i])?t:e[i]:r},Q=e=>typeof e=="boolean";const Ae={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},K={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Z={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},_t=A.createContext(null),he=()=>A.useContext(_t),jt=e=>{const{children:i,...t}=e;return A.createElement(_t.Provider,{value:t},i)};var vt=(e,i,t,r=!0)=>{const a={defaultValues:i._defaultValues};for(const n in e)Object.defineProperty(a,n,{get:()=>{const o=n;return i._proxyFormState[o]!==K.all&&(i._proxyFormState[o]=!r||K.all),t&&(t[o]=!0),e[o]}});return a},W=e=>U(e)&&!Object.keys(e).length,mt=(e,i,t,r)=>{t(e);const{name:a,...n}=e;return W(n)||Object.keys(n).length>=Object.keys(i).length||Object.keys(n).find(o=>i[o]===(!r||K.all))},q=e=>Array.isArray(e)?e:[e],bt=(e,i,t)=>!e||!i||e===i||q(e).some(r=>r&&(t?r===i:r.startsWith(i)||i.startsWith(r)));function Se(e){const i=A.useRef(e);i.current=e,A.useEffect(()=>{const t=!e.disabled&&i.current.subject&&i.current.subject.subscribe({next:i.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}function Wt(e){const i=he(),{control:t=i.control,disabled:r,name:a,exact:n}=e||{},[o,v]=A.useState(t._formState),y=A.useRef(!0),S=A.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),V=A.useRef(a);return V.current=a,Se({disabled:r,next:p=>y.current&&bt(V.current,p.name,n)&&mt(p,S.current,t._updateFormState)&&v({...t._formState,...p}),subject:t._subjects.state}),A.useEffect(()=>(y.current=!0,S.current.isValid&&t._updateValid(!0),()=>{y.current=!1}),[t]),vt(o,t,S.current,!1)}var X=e=>typeof e=="string",At=(e,i,t,r,a)=>X(e)?(r&&i.watch.add(e),f(t,e,a)):Array.isArray(e)?e.map(n=>(r&&i.watch.add(n),f(t,n))):(r&&(i.watchAll=!0),t);function qt(e){const i=he(),{control:t=i.control,name:r,defaultValue:a,disabled:n,exact:o}=e||{},v=A.useRef(r);v.current=r,Se({disabled:n,subject:t._subjects.values,next:V=>{bt(v.current,V.name,o)&&S(N(At(v.current,t._names,V.values||t._formValues,!1,a)))}});const[y,S]=A.useState(t._getWatch(r,a));return A.useEffect(()=>t._removeUnmounted()),y}var Ge=e=>/^\w*$/.test(e),Vt=e=>le(e.replace(/["|']|\]/g,"").split(/\.|\[/));function k(e,i,t){let r=-1;const a=Ge(i)?[i]:Vt(i),n=a.length,o=n-1;for(;++r<n;){const v=a[r];let y=t;if(r!==o){const S=e[v];y=U(S)||Array.isArray(S)?S:isNaN(+a[r+1])?{}:[]}e[v]=y,e=e[v]}return e}function Ht(e){const i=he(),{name:t,disabled:r,control:a=i.control,shouldUnregister:n}=e,o=ht(a._names.array,t),v=qt({control:a,name:t,defaultValue:f(a._formValues,t,f(a._defaultValues,t,e.defaultValue)),exact:!0}),y=Wt({control:a,name:t}),S=A.useRef(a.register(t,{...e.rules,value:v}));return S.current=a.register(t,e.rules),A.useEffect(()=>{const V=a._options.shouldUnregister||n,p=(h,H)=>{const M=f(a._fields,h);M&&(M._f.mount=H)};if(p(t,!0),V){const h=N(f(a._options.defaultValues,t));k(a._defaultValues,t,h),C(f(a._formValues,t))&&k(a._formValues,t,h)}return()=>{(o?V&&!a._state.action:V)?a.unregister(t):p(t,!1)}},[t,a,o,n]),A.useEffect(()=>{f(a._fields,t)&&a._updateDisabledField({disabled:r,fields:a._fields,name:t,value:f(a._fields,t)._f.value})},[r,t,a]),{field:{name:t,value:v,...Q(r)||Q(y.disabled)?{disabled:y.disabled||r}:{},onChange:A.useCallback(V=>S.current.onChange({target:{value:gt(V),name:t},type:Ae.CHANGE}),[t]),onBlur:A.useCallback(()=>S.current.onBlur({target:{value:f(a._formValues,t),name:t},type:Ae.BLUR}),[t,a]),ref:V=>{const p=f(a._fields,t);p&&V&&(p._f.ref={focus:()=>V.focus(),select:()=>V.select(),setCustomValidity:h=>V.setCustomValidity(h),reportValidity:()=>V.reportValidity()})}},formState:y,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!f(y.errors,t)},isDirty:{enumerable:!0,get:()=>!!f(y.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!f(y.touchedFields,t)},error:{enumerable:!0,get:()=>f(y.errors,t)}})}}const $t=e=>e.render(Ht(e));var Ft=(e,i,t,r,a)=>i?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[r]:a||!0}}:{},ee=()=>{const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const t=(Math.random()*16+e)%16|0;return(i=="x"?t:t&3|8).toString(16)})},Oe=(e,i,t={})=>t.shouldFocus||C(t.shouldFocus)?t.focusName||`${e}.${C(t.focusIndex)?i:t.focusIndex}.`:"",qe=e=>({isOnSubmit:!e||e===K.onSubmit,isOnBlur:e===K.onBlur,isOnChange:e===K.onChange,isOnAll:e===K.all,isOnTouch:e===K.onTouched}),He=(e,i,t)=>!t&&(i.watchAll||i.watch.has(e)||[...i.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const ye=(e,i,t,r)=>{for(const a of t||Object.keys(e)){const n=f(e,a);if(n){const{_f:o,...v}=n;if(o){if(o.refs&&o.refs[0]&&i(o.refs[0],a)&&!r)break;if(o.ref&&i(o.ref,o.name)&&!r)break}else U(v)&&ye(v,i)}}};var xt=(e,i,t)=>{const r=le(f(e,t));return k(r,"root",i[t]),k(e,t,r),e},ze=e=>e.type==="file",te=e=>typeof e=="function",Ve=e=>{if(!Ke)return!1;const i=e?e.ownerDocument:0;return e instanceof(i&&i.defaultView?i.defaultView.HTMLElement:HTMLElement)},me=e=>X(e),Je=e=>e.type==="radio",Fe=e=>e instanceof RegExp;const nt={value:!1,isValid:!1},ut={value:!0,isValid:!0};var pt=e=>{if(Array.isArray(e)){if(e.length>1){const i=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:i,isValid:!!i.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!C(e[0].attributes.value)?C(e[0].value)||e[0].value===""?ut:{value:e[0].value,isValid:!0}:ut:nt}return nt};const lt={isValid:!1,value:null};var St=e=>Array.isArray(e)?e.reduce((i,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:i,lt):lt;function ot(e,i,t="validate"){if(me(e)||Array.isArray(e)&&e.every(me)||Q(e)&&!e)return{type:t,message:me(e)?e:"",ref:i}}var ne=e=>U(e)&&!Fe(e)?e:{value:e,message:""},$e=async(e,i,t,r,a)=>{const{ref:n,refs:o,required:v,maxLength:y,minLength:S,min:V,max:p,pattern:h,validate:H,name:M,valueAsNumber:oe,mount:ie,disabled:ce}=e._f,F=f(i,M);if(!ie||ce)return{};const j=o?o[0]:n,G=D=>{r&&j.reportValidity&&(j.setCustomValidity(Q(D)?"":D||""),j.reportValidity())},g={},m=Je(n),x=ge(n),R=m||x,B=(oe||ze(n))&&C(n.value)&&C(F)||Ve(n)&&n.value===""||F===""||Array.isArray(F)&&!F.length,z=Ft.bind(null,M,t,g),Y=(D,w,O,I=Z.maxLength,$=Z.minLength)=>{const J=D?w:O;g[M]={type:D?I:$,message:J,ref:n,...z(D?I:$,J)}};if(a?!Array.isArray(F)||!F.length:v&&(!R&&(B||P(F))||Q(F)&&!F||x&&!pt(o).isValid||m&&!St(o).isValid)){const{value:D,message:w}=me(v)?{value:!!v,message:v}:ne(v);if(D&&(g[M]={type:Z.required,message:w,ref:j,...z(Z.required,w)},!t))return G(w),g}if(!B&&(!P(V)||!P(p))){let D,w;const O=ne(p),I=ne(V);if(!P(F)&&!isNaN(F)){const $=n.valueAsNumber||F&&+F;P(O.value)||(D=$>O.value),P(I.value)||(w=$<I.value)}else{const $=n.valueAsDate||new Date(F),J=_e=>new Date(new Date().toDateString()+" "+_e),re=n.type=="time",fe=n.type=="week";X(O.value)&&F&&(D=re?J(F)>J(O.value):fe?F>O.value:$>new Date(O.value)),X(I.value)&&F&&(w=re?J(F)<J(I.value):fe?F<I.value:$<new Date(I.value))}if((D||w)&&(Y(!!D,O.message,I.message,Z.max,Z.min),!t))return G(g[M].message),g}if((y||S)&&!B&&(X(F)||a&&Array.isArray(F))){const D=ne(y),w=ne(S),O=!P(D.value)&&F.length>+D.value,I=!P(w.value)&&F.length<+w.value;if((O||I)&&(Y(O,D.message,w.message),!t))return G(g[M].message),g}if(h&&!B&&X(F)){const{value:D,message:w}=ne(h);if(Fe(D)&&!F.match(D)&&(g[M]={type:Z.pattern,message:w,ref:n,...z(Z.pattern,w)},!t))return G(w),g}if(H){if(te(H)){const D=await H(F,i),w=ot(D,j);if(w&&(g[M]={...w,...z(Z.validate,w.message)},!t))return G(w.message),g}else if(U(H)){let D={};for(const w in H){if(!W(D)&&!t)break;const O=ot(await H[w](F,i),j,w);O&&(D={...O,...z(w,O.message)},G(O.message),t&&(g[M]=D))}if(!W(D)&&(g[M]={ref:j,...D},!t))return g}}return G(!0),g};function Re(e,i){return[...e,...q(i)]}var Te=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Ue(e,i,t){return[...e.slice(0,i),...q(t),...e.slice(i)]}var Le=(e,i,t)=>Array.isArray(e)?(C(e[t])&&(e[t]=void 0),e.splice(t,0,e.splice(i,1)[0]),e):[];function Me(e,i){return[...q(i),...q(e)]}function Kt(e,i){let t=0;const r=[...e];for(const a of i)r.splice(a-t,1),t++;return le(r).length?r:[]}var Be=(e,i)=>C(i)?[]:Kt(e,q(i).sort((t,r)=>t-r)),Ne=(e,i,t)=>{e[i]=[e[t],e[t]=e[i]][0]};function Gt(e,i){const t=i.slice(0,-1).length;let r=0;for(;r<t;)e=C(e)?r++:e[i[r++]];return e}function zt(e){for(const i in e)if(e.hasOwnProperty(i)&&!C(e[i]))return!1;return!0}function L(e,i){const t=Array.isArray(i)?i:Ge(i)?[i]:Vt(i),r=t.length===1?e:Gt(e,t),a=t.length-1,n=t[a];return r&&delete r[n],a!==0&&(U(r)&&W(r)||Array.isArray(r)&&zt(r))&&L(e,t.slice(0,-1)),e}var ct=(e,i,t)=>(e[i]=t,e);function cr(e){const i=he(),{control:t=i.control,name:r,keyName:a="id",shouldUnregister:n}=e,[o,v]=A.useState(t._getFieldArray(r)),y=A.useRef(t._getFieldArray(r).map(ee)),S=A.useRef(o),V=A.useRef(r),p=A.useRef(!1);V.current=r,S.current=o,t._names.array.add(r),e.rules&&t.register(r,e.rules),Se({next:({values:g,name:m})=>{if(m===V.current||!m){const x=f(g,V.current);Array.isArray(x)&&(v(x),y.current=x.map(ee))}},subject:t._subjects.array});const h=A.useCallback(g=>{p.current=!0,t._updateFieldArray(r,g)},[t,r]),H=(g,m)=>{const x=q(N(g)),R=Re(t._getFieldArray(r),x);t._names.focus=Oe(r,R.length-1,m),y.current=Re(y.current,x.map(ee)),h(R),v(R),t._updateFieldArray(r,R,Re,{argA:Te(g)})},M=(g,m)=>{const x=q(N(g)),R=Me(t._getFieldArray(r),x);t._names.focus=Oe(r,0,m),y.current=Me(y.current,x.map(ee)),h(R),v(R),t._updateFieldArray(r,R,Me,{argA:Te(g)})},oe=g=>{const m=Be(t._getFieldArray(r),g);y.current=Be(y.current,g),h(m),v(m),t._updateFieldArray(r,m,Be,{argA:g})},ie=(g,m,x)=>{const R=q(N(m)),B=Ue(t._getFieldArray(r),g,R);t._names.focus=Oe(r,g,x),y.current=Ue(y.current,g,R.map(ee)),h(B),v(B),t._updateFieldArray(r,B,Ue,{argA:g,argB:Te(m)})},ce=(g,m)=>{const x=t._getFieldArray(r);Ne(x,g,m),Ne(y.current,g,m),h(x),v(x),t._updateFieldArray(r,x,Ne,{argA:g,argB:m},!1)},F=(g,m)=>{const x=t._getFieldArray(r);Le(x,g,m),Le(y.current,g,m),h(x),v(x),t._updateFieldArray(r,x,Le,{argA:g,argB:m},!1)},j=(g,m)=>{const x=N(m),R=ct(t._getFieldArray(r),g,x);y.current=[...R].map((B,z)=>!B||z===g?ee():y.current[z]),h(R),v([...R]),t._updateFieldArray(r,R,ct,{argA:g,argB:x},!0,!1)},G=g=>{const m=q(N(g));y.current=m.map(ee),h([...m]),v([...m]),t._updateFieldArray(r,[...m],x=>x,{},!0,!1)};return A.useEffect(()=>{if(t._state.action=!1,He(r,t._names)&&t._subjects.state.next({...t._formState}),p.current&&(!qe(t._options.mode).isOnSubmit||t._formState.isSubmitted))if(t._options.resolver)t._executeSchema([r]).then(g=>{const m=f(g.errors,r),x=f(t._formState.errors,r);(x?!m&&x.type||m&&(x.type!==m.type||x.message!==m.message):m&&m.type)&&(m?k(t._formState.errors,r,m):L(t._formState.errors,r),t._subjects.state.next({errors:t._formState.errors}))});else{const g=f(t._fields,r);g&&g._f&&$e(g,t._formValues,t._options.criteriaMode===K.all,t._options.shouldUseNativeValidation,!0).then(m=>!W(m)&&t._subjects.state.next({errors:xt(t._formState.errors,m,r)}))}t._subjects.values.next({name:r,values:{...t._formValues}}),t._names.focus&&ye(t._fields,(g,m)=>{if(t._names.focus&&m.startsWith(t._names.focus)&&g.focus)return g.focus(),1}),t._names.focus="",t._updateValid(),p.current=!1},[o,r,t]),A.useEffect(()=>(!f(t._formValues,r)&&t._updateFieldArray(r),()=>{(t._options.shouldUnregister||n)&&t.unregister(r)}),[r,t,a,n]),{swap:A.useCallback(ce,[h,r,t]),move:A.useCallback(F,[h,r,t]),prepend:A.useCallback(M,[h,r,t]),append:A.useCallback(H,[h,r,t]),remove:A.useCallback(oe,[h,r,t]),insert:A.useCallback(ie,[h,r,t]),update:A.useCallback(j,[h,r,t]),replace:A.useCallback(G,[h,r,t]),fields:A.useMemo(()=>o.map((g,m)=>({...g,[a]:y.current[m]||ee()})),[o,a])}}function Pe(){let e=[];return{get observers(){return e},next:a=>{for(const n of e)n.next&&n.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(n=>n!==a)}}),unsubscribe:()=>{e=[]}}}var xe=e=>P(e)||!yt(e);function se(e,i){if(xe(e)||xe(i))return e===i;if(ue(e)&&ue(i))return e.getTime()===i.getTime();const t=Object.keys(e),r=Object.keys(i);if(t.length!==r.length)return!1;for(const a of t){const n=e[a];if(!r.includes(a))return!1;if(a!=="ref"){const o=i[a];if(ue(n)&&ue(o)||U(n)&&U(o)||Array.isArray(n)&&Array.isArray(o)?!se(n,o):n!==o)return!1}}return!0}var wt=e=>e.type==="select-multiple",Jt=e=>Je(e)||ge(e),Ie=e=>Ve(e)&&e.isConnected,Dt=e=>{for(const i in e)if(te(e[i]))return!0;return!1};function pe(e,i={}){const t=Array.isArray(e);if(U(e)||t)for(const r in e)Array.isArray(e[r])||U(e[r])&&!Dt(e[r])?(i[r]=Array.isArray(e[r])?[]:{},pe(e[r],i[r])):P(e[r])||(i[r]=!0);return i}function kt(e,i,t){const r=Array.isArray(e);if(U(e)||r)for(const a in e)Array.isArray(e[a])||U(e[a])&&!Dt(e[a])?C(i)||xe(t[a])?t[a]=Array.isArray(e[a])?pe(e[a],[]):{...pe(e[a])}:kt(e[a],P(i)?{}:i[a],t[a]):t[a]=!se(e[a],i[a]);return t}var je=(e,i)=>kt(e,i,pe(i)),Et=(e,{valueAsNumber:i,valueAsDate:t,setValueAs:r})=>C(e)?e:i?e===""?NaN:e&&+e:t&&X(e)?new Date(e):r?r(e):e;function We(e){const i=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):i.disabled))return ze(i)?i.files:Je(i)?St(e.refs).value:wt(i)?[...i.selectedOptions].map(({value:t})=>t):ge(i)?pt(e.refs).value:Et(C(i.value)?e.ref.value:i.value,e)}var Qt=(e,i,t,r)=>{const a={};for(const n of e){const o=f(i,n);o&&k(a,n,o._f)}return{criteriaMode:t,names:[...e],fields:a,shouldUseNativeValidation:r}},de=e=>C(e)?e:Fe(e)?e.source:U(e)?Fe(e.value)?e.value.source:e.value:e,Xt=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ft(e,i,t){const r=f(e,t);if(r||Ge(t))return{error:r,name:t};const a=t.split(".");for(;a.length;){const n=a.join("."),o=f(i,n),v=f(e,n);if(o&&!Array.isArray(o)&&t!==n)return{name:t};if(v&&v.type)return{name:n,error:v};a.pop()}return{name:t}}var Yt=(e,i,t,r,a)=>a.isOnAll?!1:!t&&a.isOnTouch?!(i||e):(t?r.isOnBlur:a.isOnBlur)?!e:(t?r.isOnChange:a.isOnChange)?e:!0,Zt=(e,i)=>!le(f(e,i)).length&&L(e,i);const er={mode:K.onSubmit,reValidateMode:K.onChange,shouldFocusError:!0};function tr(e={},i){let t={...er,...e},r={submitCount:0,isDirty:!1,isLoading:te(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{},disabled:!1},a={},n=U(t.defaultValues)||U(t.values)?N(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:N(n),v={action:!1,mount:!1,watch:!1},y={mount:new Set,unMount:new Set,array:new Set,watch:new Set},S,V=0;const p={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Pe(),array:Pe(),state:Pe()},H=e.resetOptions&&e.resetOptions.keepDirtyValues,M=qe(t.mode),oe=qe(t.reValidateMode),ie=t.criteriaMode===K.all,ce=s=>u=>{clearTimeout(V),V=setTimeout(s,u)},F=async s=>{if(p.isValid||s){const u=t.resolver?W((await B()).errors):await Y(a,!0);u!==r.isValid&&h.state.next({isValid:u})}},j=s=>p.isValidating&&h.state.next({isValidating:s}),G=(s,u=[],l,_,d=!0,c=!0)=>{if(_&&l){if(v.action=!0,c&&Array.isArray(f(a,s))){const b=l(f(a,s),_.argA,_.argB);d&&k(a,s,b)}if(c&&Array.isArray(f(r.errors,s))){const b=l(f(r.errors,s),_.argA,_.argB);d&&k(r.errors,s,b),Zt(r.errors,s)}if(p.touchedFields&&c&&Array.isArray(f(r.touchedFields,s))){const b=l(f(r.touchedFields,s),_.argA,_.argB);d&&k(r.touchedFields,s,b)}p.dirtyFields&&(r.dirtyFields=je(n,o)),h.state.next({name:s,isDirty:w(s,u),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else k(o,s,u)},g=(s,u)=>{k(r.errors,s,u),h.state.next({errors:r.errors})},m=(s,u,l,_)=>{const d=f(a,s);if(d){const c=f(o,s,C(l)?f(n,s):l);C(c)||_&&_.defaultChecked||u?k(o,s,u?c:We(d._f)):$(s,c),v.mount&&F()}},x=(s,u,l,_,d)=>{let c=!1,b=!1;const E={name:s};if(!l||_){p.isDirty&&(b=r.isDirty,r.isDirty=E.isDirty=w(),c=b!==E.isDirty);const T=se(f(n,s),u);b=f(r.dirtyFields,s),T?L(r.dirtyFields,s):k(r.dirtyFields,s,!0),E.dirtyFields=r.dirtyFields,c=c||p.dirtyFields&&b!==!T}if(l){const T=f(r.touchedFields,s);T||(k(r.touchedFields,s,l),E.touchedFields=r.touchedFields,c=c||p.touchedFields&&T!==l)}return c&&d&&h.state.next(E),c?E:{}},R=(s,u,l,_)=>{const d=f(r.errors,s),c=p.isValid&&Q(u)&&r.isValid!==u;if(e.delayError&&l?(S=ce(()=>g(s,l)),S(e.delayError)):(clearTimeout(V),S=null,l?k(r.errors,s,l):L(r.errors,s)),(l?!se(d,l):d)||!W(_)||c){const b={..._,...c&&Q(u)?{isValid:u}:{},errors:r.errors,name:s};r={...r,...b},h.state.next(b)}j(!1)},B=async s=>t.resolver(o,t.context,Qt(s||y.mount,a,t.criteriaMode,t.shouldUseNativeValidation)),z=async s=>{const{errors:u}=await B(s);if(s)for(const l of s){const _=f(u,l);_?k(r.errors,l,_):L(r.errors,l)}else r.errors=u;return u},Y=async(s,u,l={valid:!0})=>{for(const _ in s){const d=s[_];if(d){const{_f:c,...b}=d;if(c){const E=y.array.has(c.name),T=await $e(d,o,ie,t.shouldUseNativeValidation&&!u,E);if(T[c.name]&&(l.valid=!1,u))break;!u&&(f(T,c.name)?E?xt(r.errors,T,c.name):k(r.errors,c.name,T[c.name]):L(r.errors,c.name))}b&&await Y(b,u,l)}}return l.valid},D=()=>{for(const s of y.unMount){const u=f(a,s);u&&(u._f.refs?u._f.refs.every(l=>!Ie(l)):!Ie(u._f.ref))&&De(s)}y.unMount=new Set},w=(s,u)=>(s&&u&&k(o,s,u),!se(Qe(),n)),O=(s,u,l)=>At(s,y,{...v.mount?o:C(u)?n:X(s)?{[s]:u}:u},l,u),I=s=>le(f(v.mount?o:n,s,e.shouldUnregister?f(n,s,[]):[])),$=(s,u,l={})=>{const _=f(a,s);let d=u;if(_){const c=_._f;c&&(!c.disabled&&k(o,s,Et(u,c)),d=Ve(c.ref)&&P(u)?"":u,wt(c.ref)?[...c.ref.options].forEach(b=>b.selected=d.includes(b.value)):c.refs?ge(c.ref)?c.refs.length>1?c.refs.forEach(b=>(!b.defaultChecked||!b.disabled)&&(b.checked=Array.isArray(d)?!!d.find(E=>E===b.value):d===b.value)):c.refs[0]&&(c.refs[0].checked=!!d):c.refs.forEach(b=>b.checked=b.value===d):ze(c.ref)?c.ref.value="":(c.ref.value=d,c.ref.type||h.values.next({name:s,values:{...o}})))}(l.shouldDirty||l.shouldTouch)&&x(s,d,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&we(s)},J=(s,u,l)=>{for(const _ in u){const d=u[_],c=`${s}.${_}`,b=f(a,c);(y.array.has(s)||!xe(d)||b&&!b._f)&&!ue(d)?J(c,d,l):$(c,d,l)}},re=(s,u,l={})=>{const _=f(a,s),d=y.array.has(s),c=N(u);k(o,s,c),d?(h.array.next({name:s,values:{...o}}),(p.isDirty||p.dirtyFields)&&l.shouldDirty&&h.state.next({name:s,dirtyFields:je(n,o),isDirty:w(s,c)})):_&&!_._f&&!P(c)?J(s,c,l):$(s,c,l),He(s,y)&&h.state.next({...r}),h.values.next({name:s,values:{...o}}),!v.mount&&i()},fe=async s=>{const u=s.target;let l=u.name,_=!0;const d=f(a,l),c=()=>u.type?We(d._f):gt(s),b=E=>{_=Number.isNaN(E)||E===f(o,l,E)};if(d){let E,T;const ve=c(),ae=s.type===Ae.BLUR||s.type===Ae.FOCUS_OUT,Lt=!Xt(d._f)&&!t.resolver&&!f(r.errors,l)&&!d._f.deps||Yt(ae,f(r.touchedFields,l),r.isSubmitted,oe,M),Ee=He(l,y,ae);k(o,l,ve),ae?(d._f.onBlur&&d._f.onBlur(s),S&&S(0)):d._f.onChange&&d._f.onChange(s);const Ce=x(l,ve,ae,!1),Mt=!W(Ce)||Ee;if(!ae&&h.values.next({name:l,type:s.type,values:{...o}}),Lt)return p.isValid&&F(),Mt&&h.state.next({name:l,...Ee?{}:Ce});if(!ae&&Ee&&h.state.next({...r}),j(!0),t.resolver){const{errors:it}=await B([l]);if(b(ve),_){const Bt=ft(r.errors,a,l),at=ft(it,a,Bt.name||l);E=at.error,l=at.name,T=W(it)}}else E=(await $e(d,o,ie,t.shouldUseNativeValidation))[l],b(ve),_&&(E?T=!1:p.isValid&&(T=await Y(a,!0)));_&&(d._f.deps&&we(d._f.deps),R(l,T,E,Ce))}},_e=(s,u)=>{if(f(r.errors,u)&&s.focus)return s.focus(),1},we=async(s,u={})=>{let l,_;const d=q(s);if(j(!0),t.resolver){const c=await z(C(s)?s:d);l=W(c),_=s?!d.some(b=>f(c,b)):l}else s?(_=(await Promise.all(d.map(async c=>{const b=f(a,c);return await Y(b&&b._f?{[c]:b}:b)}))).every(Boolean),!(!_&&!r.isValid)&&F()):_=l=await Y(a);return h.state.next({...!X(s)||p.isValid&&l!==r.isValid?{}:{name:s},...t.resolver||!s?{isValid:l}:{},errors:r.errors,isValidating:!1}),u.shouldFocus&&!_&&ye(a,_e,s?d:y.mount),_},Qe=s=>{const u={...n,...v.mount?o:{}};return C(s)?u:X(s)?f(u,s):s.map(l=>f(u,l))},Xe=(s,u)=>({invalid:!!f((u||r).errors,s),isDirty:!!f((u||r).dirtyFields,s),isTouched:!!f((u||r).touchedFields,s),error:f((u||r).errors,s)}),Ot=s=>{s&&q(s).forEach(u=>L(r.errors,u)),h.state.next({errors:s?r.errors:{}})},Ye=(s,u,l)=>{const _=(f(a,s,{_f:{}})._f||{}).ref;k(r.errors,s,{...u,ref:_}),h.state.next({name:s,errors:r.errors,isValid:!1}),l&&l.shouldFocus&&_&&_.focus&&_.focus()},Rt=(s,u)=>te(s)?h.values.subscribe({next:l=>s(O(void 0,u),l)}):O(s,u,!0),De=(s,u={})=>{for(const l of s?q(s):y.mount)y.mount.delete(l),y.array.delete(l),u.keepValue||(L(a,l),L(o,l)),!u.keepError&&L(r.errors,l),!u.keepDirty&&L(r.dirtyFields,l),!u.keepTouched&&L(r.touchedFields,l),!t.shouldUnregister&&!u.keepDefaultValue&&L(n,l);h.values.next({values:{...o}}),h.state.next({...r,...u.keepDirty?{isDirty:w()}:{}}),!u.keepIsValid&&F()},Ze=({disabled:s,name:u,field:l,fields:_,value:d})=>{if(Q(s)){const c=s?void 0:C(d)?We(l?l._f:f(_,u)._f):d;k(o,u,c),x(u,c,!1,!1,!0)}},ke=(s,u={})=>{let l=f(a,s);const _=Q(u.disabled);return k(a,s,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:s}},name:s,mount:!0,...u}}),y.mount.add(s),l?Ze({field:l,disabled:u.disabled,name:s}):m(s,!0,u.value),{..._?{disabled:u.disabled}:{},...t.progressive?{required:!!u.required,min:de(u.min),max:de(u.max),minLength:de(u.minLength),maxLength:de(u.maxLength),pattern:de(u.pattern)}:{},name:s,onChange:fe,onBlur:fe,ref:d=>{if(d){ke(s,u),l=f(a,s);const c=C(d.value)&&d.querySelectorAll&&d.querySelectorAll("input,select,textarea")[0]||d,b=Jt(c),E=l._f.refs||[];if(b?E.find(T=>T===c):c===l._f.ref)return;k(a,s,{_f:{...l._f,...b?{refs:[...E.filter(Ie),c,...Array.isArray(f(n,s))?[{}]:[]],ref:{type:c.type,name:s}}:{ref:c}}}),m(s,!1,void 0,c)}else l=f(a,s,{}),l._f&&(l._f.mount=!1),(t.shouldUnregister||u.shouldUnregister)&&!(ht(y.array,s)&&v.action)&&y.unMount.add(s)}}},et=()=>t.shouldFocusError&&ye(a,_e,y.mount),Tt=s=>{Q(s)&&(h.state.next({disabled:s}),ye(a,u=>{u.disabled=s},0,!1))},tt=(s,u)=>async l=>{l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let _=N(o);if(h.state.next({isSubmitting:!0}),t.resolver){const{errors:d,values:c}=await B();r.errors=d,_=c}else await Y(a);L(r.errors,"root"),W(r.errors)?(h.state.next({errors:{}}),await s(_,l)):(u&&await u({...r.errors},l),et(),setTimeout(et)),h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:W(r.errors),submitCount:r.submitCount+1,errors:r.errors})},Ut=(s,u={})=>{f(a,s)&&(C(u.defaultValue)?re(s,f(n,s)):(re(s,u.defaultValue),k(n,s,u.defaultValue)),u.keepTouched||L(r.touchedFields,s),u.keepDirty||(L(r.dirtyFields,s),r.isDirty=u.defaultValue?w(s,f(n,s)):w()),u.keepError||(L(r.errors,s),p.isValid&&F()),h.state.next({...r}))},rt=(s,u={})=>{const l=s?N(s):n,_=N(l),d=s&&!W(s)?_:n;if(u.keepDefaultValues||(n=l),!u.keepValues){if(u.keepDirtyValues||H)for(const c of y.mount)f(r.dirtyFields,c)?k(d,c,f(o,c)):re(c,f(d,c));else{if(Ke&&C(s))for(const c of y.mount){const b=f(a,c);if(b&&b._f){const E=Array.isArray(b._f.refs)?b._f.refs[0]:b._f.ref;if(Ve(E)){const T=E.closest("form");if(T){T.reset();break}}}}a={}}o=e.shouldUnregister?u.keepDefaultValues?N(n):{}:N(d),h.array.next({values:{...d}}),h.values.next({values:{...d}})}y={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!v.mount&&i(),v.mount=!p.isValid||!!u.keepIsValid,v.watch=!!e.shouldUnregister,h.state.next({submitCount:u.keepSubmitCount?r.submitCount:0,isDirty:u.keepDirty?r.isDirty:!!(u.keepDefaultValues&&!se(s,n)),isSubmitted:u.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:u.keepDirtyValues?r.dirtyFields:u.keepDefaultValues&&s?je(n,s):{},touchedFields:u.keepTouched?r.touchedFields:{},errors:u.keepErrors?r.errors:{},isSubmitSuccessful:u.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},st=(s,u)=>rt(te(s)?s(o):s,u);return{control:{register:ke,unregister:De,getFieldState:Xe,handleSubmit:tt,setError:Ye,_executeSchema:B,_getWatch:O,_getDirty:w,_updateValid:F,_removeUnmounted:D,_updateFieldArray:G,_updateDisabledField:Ze,_getFieldArray:I,_reset:rt,_resetDefaultValues:()=>te(t.defaultValues)&&t.defaultValues().then(s=>{st(s,t.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:s=>{r={...r,...s}},_disableForm:Tt,_subjects:h,_proxyFormState:p,get _fields(){return a},get _formValues(){return o},get _state(){return v},set _state(s){v=s},get _defaultValues(){return n},get _names(){return y},set _names(s){y=s},get _formState(){return r},set _formState(s){r=s},get _options(){return t},set _options(s){t={...t,...s}}},trigger:we,register:ke,handleSubmit:tt,watch:Rt,setValue:re,getValues:Qe,reset:st,resetField:Ut,clearErrors:Ot,unregister:De,setError:Ye,setFocus:(s,u={})=>{const l=f(a,s),_=l&&l._f;if(_){const d=_.refs?_.refs[0]:_.ref;d.focus&&(d.focus(),u.shouldSelect&&d.select())}},getFieldState:Xe}}function fr(e={}){const i=A.useRef(),t=A.useRef(),[r,a]=A.useState({isDirty:!1,isValidating:!1,isLoading:te(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},disabled:!1,defaultValues:te(e.defaultValues)?void 0:e.defaultValues});i.current||(i.current={...tr(e,()=>a(o=>({...o}))),formState:r});const n=i.current.control;return n._options=e,Se({subject:n._subjects.state,next:o=>{mt(o,n._proxyFormState,n._updateFormState,!0)&&a({...n._formState})}}),A.useEffect(()=>n._disableForm(e.disabled),[n,e.disabled]),A.useEffect(()=>{if(n._proxyFormState.isDirty){const o=n._getDirty();o!==r.isDirty&&n._subjects.state.next({isDirty:o})}},[n,r.isDirty]),A.useEffect(()=>{e.values&&!se(e.values,t.current)?(n._reset(e.values,n._options.resetOptions),t.current=e.values):n._resetDefaultValues()},[e.values,n]),A.useEffect(()=>{n._state.mount||(n._updateValid(),n._state.mount=!0),n._state.watch&&(n._state.watch=!1,n._subjects.state.next({...n._formState})),n._removeUnmounted()}),i.current.formState=vt(r,n),i.current}var dt=function(e,i,t){if(e&&"reportValidity"in e){var r=f(t,i);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},Ct=function(e,i){var t=function(a){var n=i.fields[a];n&&n.ref&&"reportValidity"in n.ref?dt(n.ref,a,e):n.refs&&n.refs.forEach(function(o){return dt(o,a,e)})};for(var r in i.fields)t(r)},rr=function(e,i){i.shouldUseNativeValidation&&Ct(e,i);var t={};for(var r in e){var a=f(i.fields,r),n=Object.assign(e[r]||{},{ref:a&&a.ref});if(ir(i.names||Object.keys(e),r)){var o=Object.assign({},sr(f(t,r)));k(o,"root",n),k(t,r,o)}else k(t,r,n)}return t},sr=function(e){return Array.isArray(e)?e.filter(Boolean):[]},ir=function(e,i){return e.some(function(t){return t.startsWith(i+".")})};function dr(e,i,t){return i===void 0&&(i={}),t===void 0&&(t={}),function(r,a,n){try{return Promise.resolve(function(o,v){try{var y=(i.context,Promise.resolve(e[t.mode==="sync"?"validateSync":"validate"](r,Object.assign({abortEarly:!1},i,{context:a}))).then(function(S){return n.shouldUseNativeValidation&&Ct({},n),{values:t.raw?r:S,errors:{}}}))}catch(S){return v(S)}return y&&y.then?y.then(void 0,v):y}(0,function(o){if(!o.inner)throw o;return{values:{},errors:rr((v=o,y=!n.shouldUseNativeValidation&&n.criteriaMode==="all",(v.inner||[]).reduce(function(S,V){if(S[V.path]||(S[V.path]={message:V.message,type:V.type}),y){var p=S[V.path].types,h=p&&p[V.type];S[V.path]=Ft(V.path,y,S,V.type,h?[].concat(h,V.message):V.message)}return S},{})),n)};var v,y}))}catch(o){return Promise.reject(o)}}}function yr({children:e,onSubmit:i,methods:t}){return be.jsx(jt,{...t,children:be.jsx("form",{onSubmit:i,children:e})})}function gr({name:e,helperText:i,type:t,...r}){const{control:a}=he();return be.jsx($t,{name:e,control:a,render:({field:n,fieldState:{error:o}})=>be.jsx(Nt,{...n,fullWidth:!0,type:t,value:t==="number"&&n.value===0?"":n.value,onChange:v=>{t==="number"?n.onChange(Number(v.target.value)):n.onChange(v.target.value)},error:!!o,helperText:o?o==null?void 0:o.message:i,...r})})}export{$t as C,yr as F,gr as R,he as a,cr as b,dr as o,fr as u};
