import{j as e,k as R,g as h,S as x,L as I,B as k,b as D,e as L,h as G,u as P,r,p as n,d as l,C as N,i as d,R as T,l as M,H as O}from"./index-xccKnqtj.js";import"./index.esm-YEE7kA5n.js";import"./index-scZDXM4y.js";import"./image-ihTI-eUB.js";import"./mui-one-time-password-input.es-8WdpYP-F.js";import"./styles-XyZpQVQ4.js";import{u as E}from"./service-FVlxQQYt.js";import{E as m}from"./empty-content-FevP8_c1.js";import{C as A}from"./confirm-dialog-SwAW3vpZ.js";import{C as B}from"./custom-breadcrumbs-l_npxqvb.js";import{f as F}from"./format-number-po7E8qFT.js";import{C as V}from"./Card-tMu97UR4.js";import{b as u,D as H,G as W,a as _}from"./DataGrid-dgFD5cAt.js";import"./TextField-_2MBvEfR.js";import"./DialogTitle-FkY0OOI0.js";import"./dialogTitleClasses-P16bkwpN.js";import"./DialogContent-JWUImff-.js";import"./DialogActions-DIqTiIED.js";import"./index-Ahahihkz.js";import"./Autocomplete-ZCPYHfF2.js";import"./Close-z_cgMax_.js";import"./Chip-_G7JEqc_.js";import"./ClickAwayListener-uNsuJQqx.js";import"./Checkbox-d99zhaav.js";import"./SwitchBase-r3AAQIaf.js";import"./Switch-8NlbQv1L.js";import"./Skeleton-ur7bka2j.js";import"./CircularProgress-Ir6PpH3m.js";import"./TablePagination-bieaFalW.js";import"./FirstPage-nPhwdI91.js";import"./TableCell-II5q65hQ.js";import"./FormControlLabel-rYqjbgl6.js";function z({params:o}){return e.jsx(e.Fragment,{children:F(o.row.price)})}function U({params:o}){return e.jsx(R,{variant:"soft",color:o.row.approved&&"info"||"default",children:o.row.approved?"Approved":""})}function $({params:o}){return e.jsx(h,{primary:o.row.description,primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}function Q({params:o}){return e.jsx(x,{direction:"row",alignItems:"center",sx:{py:2,width:1},children:e.jsx(h,{disableTypography:!0,primary:e.jsx(I,{noWrap:!0,color:"inherit",variant:"subtitle2",onClick:o.row.onViewRow,href:"/graveyard/i",sx:{cursor:"pointer"},children:o.row.name}),secondary:e.jsx(k,{component:"div",sx:{typography:"body2",color:"text.disabled"},children:o.row.category}),sx:{display:"flex",flexDirection:"column"}})})}const q=[{value:"published",label:"Published"},{value:"draft",label:"Draft"}],J={category:!1},K=["category","actions"];function X(){const o=D(),i=L(),f=G(),{user:a}=P(),{services:s,servicesLoading:g}=E(a==null?void 0:a.userId);console.log(s);const[c,y]=r.useState([]),[C,j]=r.useState(J),b=r.useCallback(()=>{},[]),w=r.useCallback(t=>{i.push(n.fellesraad.graveyard.edit(t))},[i]),v=r.useCallback(t=>{i.push(n.fellesraad.graveyard.details(t))},[i]),p=[{field:"name",headerName:"Service",flex:1,minWidth:100,hideable:!1,renderCell:t=>e.jsx(Q,{params:t})},{field:"description",headerName:"Description",minWidth:280,renderCell:t=>e.jsx($,{params:t})},{field:"price",headerName:"Price",minWidth:280,renderCell:t=>e.jsx(z,{params:t})},{field:"publish",headerName:"Publish",width:110,type:"singleSelect",editable:!0,valueOptions:q,renderCell:t=>e.jsx(U,{params:t})},{type:"actions",field:"actions",headerName:" ",align:"right",headerAlign:"right",width:80,sortable:!1,filterable:!1,disableColumnMenu:!0,getActions:t=>[e.jsx(u,{showInMenu:!0,icon:e.jsx(l,{icon:"solar:eye-bold"}),label:"View",onClick:()=>v(t.row.id)}),e.jsx(u,{showInMenu:!0,icon:e.jsx(l,{icon:"solar:pen-bold"}),label:"Edit",onClick:()=>w(t.row.id)})]}],S=()=>p.filter(t=>!K.includes(t.field)).map(t=>t.field);return e.jsxs(e.Fragment,{children:[e.jsxs(N,{maxWidth:f.themeStretch?!1:"lg",sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[e.jsx(B,{heading:"List",links:[{name:"Graveyard",href:n.dashboard.root},{name:"List"}],action:e.jsx(d,{component:T,href:n.fellesraad.graveyard.create,variant:"contained",startIcon:e.jsx(l,{icon:"mingcute:add-line"}),children:"New Graveyard"}),sx:{mb:{xs:3,md:5}}}),e.jsx(V,{sx:{height:{xs:800,md:2},flexGrow:{md:1},display:{md:"flex"},flexDirection:{md:"column"}},children:s&&s.length>0&&e.jsx(H,{checkboxSelection:!0,disableRowSelectionOnClick:!0,rows:s,columns:p,loading:g,getRowHeight:()=>"auto",pageSizeOptions:[5,10,25],initialState:{pagination:{paginationModel:{pageSize:10}}},onRowSelectionModelChange:t=>{y(t)},columnVisibilityModel:C,onColumnVisibilityModelChange:t=>j(t),slots:{toolbar:()=>e.jsx(e.Fragment,{children:e.jsxs(W,{children:[e.jsx(_,{}),e.jsx(x,{spacing:1,flexGrow:1,direction:"row",alignItems:"center",justifyContent:"flex-end",children:!!c.length&&e.jsxs(d,{size:"small",color:"error",startIcon:e.jsx(l,{icon:"solar:trash-bin-trash-bold"}),onClick:o.onTrue,children:["Delete (",c.length,")"]})})]})}),noRowsOverlay:()=>e.jsx(m,{title:"No Data"}),noResultsOverlay:()=>e.jsx(m,{title:"No results found"})},slotProps:{columnsPanel:{getTogglableColumns:S}}})})]}),e.jsx(A,{open:o.value,onClose:o.onFalse,title:"Delete",content:e.jsxs(e.Fragment,{children:["Are you sure want to delete"," ",e.jsxs("strong",{children:[" ",c.length," "]})," items?"]}),action:e.jsx(d,{variant:"contained",color:"error",onClick:()=>{b(),o.onFalse()},children:"Delete"})})]})}function Ge(){const{t:o}=M();return e.jsxs(e.Fragment,{children:[e.jsx(O,{children:e.jsxs("title",{children:[" ",`${o("services")}: ${o("list_of_services")}`]})}),e.jsx(X,{})]})}export{Ge as default};
