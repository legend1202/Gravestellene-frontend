import{j as e,k as G,g as u,S as h,A as R,L as S,B as k,b as D,e as L,h as I,r,p as s,d as i,C as M,i as a,R as N,H as O}from"./index-lMmDPpwH.js";import{b as P}from"./graveyard-dvzvJAPI.js";import{E as m}from"./empty-content-d7mZFD6e.js";import{C as T}from"./confirm-dialog-hBzfmm19.js";import{C as A}from"./custom-breadcrumbs-qEEEK2Dp.js";import{C as E}from"./Card-i_M7QnNo.js";import{b as p,D as B,G as F,a as H}from"./DataGrid-E-vDT39s.js";import"./index-VDNoSuDP.js";import"./index.esm-V-50jqn-.js";import"./image-BILO_BCm.js";import"./mui-one-time-password-input.es-I6hoYgDw.js";import"./styles-stj5iCp_.js";import"./graveyard-details-carousel-QHN0K5F-.js";import"./styles-wKt_Ziqz.js";import"./DialogTitle-xXc8J_zi.js";import"./dialogTitleClasses-V0ZXOCyI.js";import"./DialogContent-yl5nWwFB.js";import"./DialogActions-rrWzMfmV.js";import"./TextField-L8IfDKvJ.js";import"./index-qWFwL1rd.js";import"./Autocomplete-tUtEKOFz.js";import"./Close-KqYWU_Vs.js";import"./Chip-obpKpu2y.js";import"./ClickAwayListener-uE4r9UbC.js";import"./Checkbox-vWtJNdsN.js";import"./SwitchBase-puV6Lkdu.js";import"./Switch-j-L7GRmq.js";import"./Skeleton-kAHCgQBf.js";import"./CircularProgress-7JKEdLOP.js";import"./TablePagination-GkDXZEL2.js";import"./FirstPage-gb0hC87K.js";import"./TableCell-XY6JJfkS.js";import"./FormControlLabel-wfVEIqv2.js";import"./use-light-box-CiIwHhw6.js";import"./carousel-arrow-index-nZzW-xk8.js";function W({params:t}){return e.jsx(G,{variant:"soft",color:t.row.approved&&"info"||"default",children:t.row.approved?"Approved":""})}function U({params:t}){return e.jsx(u,{primary:t.row.location,secondary:t.row.location,primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}function V({params:t}){return e.jsxs(h,{direction:"row",alignItems:"center",sx:{py:2,width:1},children:[e.jsx(R,{alt:t.row.name,src:t.row.coverUrl,variant:"rounded",sx:{width:64,height:64,mr:2}}),e.jsx(u,{disableTypography:!0,primary:e.jsx(S,{noWrap:!0,color:"inherit",variant:"subtitle2",onClick:t.row.onViewRow,href:"/graveyard/i",sx:{cursor:"pointer"},children:t.row.name}),secondary:e.jsx(k,{component:"div",sx:{typography:"body2",color:"text.disabled"},children:t.row.category}),sx:{display:"flex",flexDirection:"column"}})]})}const _=[{value:"published",label:"Published"},{value:"draft",label:"Draft"}],z={category:!1},Q=["category","actions"];function q(){const t=D(),l=L(),x=I(),{products:d,productsLoading:g}=P(),[n,f]=r.useState([]),[y,b]=r.useState(z),j=r.useCallback(o=>{console.log("delete id",o)},[]),C=r.useCallback(()=>{console.log("delete id")},[]),w=r.useCallback(o=>{l.push(s.fellesraad.graveyard.edit(o))},[l]),c=[{field:"name",headerName:"Graveyard",flex:1,minWidth:280,hideable:!1,renderCell:o=>e.jsx(V,{params:o})},{field:"location",headerName:"location",minWidth:280,renderCell:o=>e.jsx(U,{params:o})},{field:"publish",headerName:"Publish",width:110,type:"singleSelect",editable:!0,valueOptions:_,renderCell:o=>e.jsx(W,{params:o})},{type:"actions",field:"actions",headerName:" ",align:"right",headerAlign:"right",width:80,sortable:!1,filterable:!1,disableColumnMenu:!0,getActions:o=>[e.jsx(p,{showInMenu:!0,icon:e.jsx(i,{icon:"solar:trash-bin-trash-bold"}),label:"Delete",onClick:()=>j(o.row.id)}),e.jsx(p,{showInMenu:!0,icon:e.jsx(i,{icon:"solar:pen-bold"}),label:"Edit",onClick:()=>w(o.row.id)})]}],v=()=>c.filter(o=>!Q.includes(o.field)).map(o=>o.field);return e.jsxs(e.Fragment,{children:[e.jsxs(M,{maxWidth:x.themeStretch?!1:"lg",sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[e.jsx(A,{heading:"List",links:[{name:"Graveyard",href:s.dashboard.root},{name:"List"}],action:e.jsx(a,{component:N,href:s.fellesraad.graveyard.create,variant:"contained",startIcon:e.jsx(i,{icon:"mingcute:add-line"}),children:"New Graveyard"}),sx:{mb:{xs:3,md:5}}}),e.jsx(E,{sx:{height:{xs:800,md:2},flexGrow:{md:1},display:{md:"flex"},flexDirection:{md:"column"}},children:d&&e.jsx(B,{checkboxSelection:!0,disableRowSelectionOnClick:!0,rows:d,columns:c,loading:g,getRowHeight:()=>"auto",pageSizeOptions:[5,10,25],initialState:{pagination:{paginationModel:{pageSize:10}}},onRowSelectionModelChange:o=>{f(o)},columnVisibilityModel:y,onColumnVisibilityModelChange:o=>b(o),slots:{toolbar:()=>e.jsx(e.Fragment,{children:e.jsxs(F,{children:[e.jsx(H,{}),e.jsx(h,{spacing:1,flexGrow:1,direction:"row",alignItems:"center",justifyContent:"flex-end",children:!!n.length&&e.jsxs(a,{size:"small",color:"error",startIcon:e.jsx(i,{icon:"solar:trash-bin-trash-bold"}),onClick:t.onTrue,children:["Delete (",n.length,")"]})})]})}),noRowsOverlay:()=>e.jsx(m,{title:"No Data"}),noResultsOverlay:()=>e.jsx(m,{title:"No results found"})},slotProps:{columnsPanel:{getTogglableColumns:v}}})})]}),e.jsx(T,{open:t.value,onClose:t.onFalse,title:"Delete",content:e.jsxs(e.Fragment,{children:["Are you sure want to delete"," ",e.jsxs("strong",{children:[" ",n.length," "]})," items?"]}),action:e.jsx(a,{variant:"contained",color:"error",onClick:()=>{C(),t.onFalse()},children:"Delete"})})]})}function Le(){return e.jsxs(e.Fragment,{children:[e.jsx(O,{children:e.jsx("title",{children:" Graveyard: List of the Graveyard"})}),e.jsx(q,{})]})}export{Le as default};
