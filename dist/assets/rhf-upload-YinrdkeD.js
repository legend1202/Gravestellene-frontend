import{j as t,S as U,ag as c,d as I,T as C,B as m}from"./index-tWxiFnGS.js";import{a as u,C as g}from"./rhf-text-field-aVwXywRy.js";import{R as A,U as h}from"./upload-9fdW_F7a.js";import{u as P}from"./preview-multi-file-iTiEHFCh.js";import{I as S}from"./image-IKMP3f3C.js";import{F as x}from"./TextField-uP2c0lAh.js";function z({error:n,file:a,disabled:s,helperText:r,sx:i,...l}){const{getRootProps:e,getInputProps:j,isDragActive:v,isDragReject:y,fileRejections:f}=P({multiple:!1,disabled:s,accept:{"image/*":[]},...l}),p=!!a,d=y||!!n,R=typeof a=="string"?a:a==null?void 0:a.preview,b=p&&t.jsx(S,{alt:"avatar",src:R,sx:{width:1,height:1,borderRadius:"50%"}}),w=t.jsxs(U,{alignItems:"center",justifyContent:"center",spacing:1,className:"upload-placeholder",sx:{top:0,left:0,width:1,height:1,zIndex:9,borderRadius:"50%",position:"absolute",color:"text.disabled",bgcolor:o=>c(o.palette.grey[500],.08),transition:o=>o.transitions.create(["opacity"],{duration:o.transitions.duration.shorter}),"&:hover":{opacity:.72},...d&&{color:"error.main",bgcolor:o=>c(o.palette.error.main,.08)},...p&&{zIndex:9,opacity:0,color:"common.white",bgcolor:o=>c(o.palette.grey[900],.64)}},children:[t.jsx(I,{icon:"solar:camera-add-bold",width:32}),t.jsx(C,{variant:"caption",children:a?"Update photo":"Upload photo"})]}),F=t.jsxs(m,{sx:{width:1,height:1,overflow:"hidden",borderRadius:"50%",position:"relative"},children:[b,w]});return t.jsxs(t.Fragment,{children:[t.jsxs(m,{...e(),sx:{p:1,m:"auto",width:144,height:144,cursor:"pointer",overflow:"hidden",borderRadius:"50%",border:o=>`1px dashed ${c(o.palette.grey[500],.2)}`,...v&&{opacity:.72},...s&&{opacity:.48,pointerEvents:"none"},...d&&{borderColor:"error.main"},...p&&{...d&&{bgcolor:o=>c(o.palette.error.main,.08)},"&:hover .upload-placeholder":{opacity:1}},...i},children:[t.jsx("input",{...j()}),F]}),r&&r,t.jsx(A,{fileRejections:f})]})}function T({name:n,...a}){const{control:s}=u();return t.jsx(g,{name:n,control:s,render:({field:r,fieldState:{error:i}})=>t.jsxs("div",{children:[t.jsx(z,{error:!!i,file:r.value,...a}),!!i&&t.jsx(x,{error:!0,sx:{px:2,textAlign:"center"},children:i.message})]})})}function $({name:n,multiple:a,helperText:s,...r}){const{control:i}=u();return t.jsx(g,{name:n,control:i,render:({field:l,fieldState:{error:e}})=>a?t.jsx(h,{multiple:!0,accept:{"image/*":[]},files:l.value,error:!!e,helperText:(!!e||s)&&t.jsx(x,{error:!!e,sx:{px:2},children:e?e==null?void 0:e.message:s}),...r}):t.jsx(h,{accept:{"image/*":[]},file:l.value,error:!!e,helperText:(!!e||s)&&t.jsx(x,{error:!!e,sx:{px:2},children:e?e==null?void 0:e.message:s}),...r})})}export{$ as R,T as a};
