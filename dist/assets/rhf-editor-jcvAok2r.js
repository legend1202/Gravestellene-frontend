import{r as p,V as St,j as a,c1 as st,S as G,K as We,ap as A,c2 as Be,c as we,d as le,w as Ct,h as _t,B as T,T as Ee,c3 as Pt,y as Ue}from"./index-_tg0Vjne.js";import{a as lt,C as ct}from"./form-provider-tifhRCot.js";import{P as m}from"./index-ntnlb33b.js";import{c as ut}from"./format-number-x-XRdvJl.js";import{v as Ve}from"./fade-HpdRXKiE.js";import{A as kt}from"./index-EEJIfaqx.js";import{I as It}from"./image-SDlH-Y9m.js";import{F as Ae}from"./TextField-ZkEZfJO9.js";import{S as Tt,a as Rt,R as zt}from"./styles-GXLlqNmt.js";function L(e,t,r,n){function o(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function u(g){try{c(n.next(g))}catch(h){s(h)}}function d(g){try{c(n.throw(g))}catch(h){s(h)}}function c(g){g.done?i(g.value):o(g.value).then(u,d)}c((n=n.apply(e,t||[])).next())})}function $(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(c){return function(g){return d([c,g])}}function d(c){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,c[0]&&(r=0)),r;)try{if(n=1,o&&(i=c[0]&2?o.return:c[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,c[1])).done)return i;switch(o=0,i&&(c=[c[0]&2,i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,o=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(c[0]===6&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(g){c=[6,g],o=0}finally{n=i=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Ge(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){s={error:u}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i}function Ye(e,t,r){if(r||arguments.length===2)for(var n=0,o=t.length,i;n<o;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}var Nt=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function J(e,t){var r=qt(e);if(typeof r.path!="string"){var n=e.webkitRelativePath;Object.defineProperty(r,"path",{value:typeof t=="string"?t:typeof n=="string"&&n.length>0?n:e.name,writable:!1,configurable:!1,enumerable:!0})}return r}function qt(e){var t=e.name,r=t&&t.lastIndexOf(".")!==-1;if(r&&!e.type){var n=t.split(".").pop().toLowerCase(),o=Nt.get(n);o&&Object.defineProperty(e,"type",{value:o,writable:!1,configurable:!1,enumerable:!0})}return e}var Mt=[".DS_Store","Thumbs.db"];function Lt(e){return L(this,void 0,void 0,function(){return $(this,function(t){return ce(e)&&$t(e.dataTransfer)?[2,Bt(e.dataTransfer,e.type)]:Ht(e)?[2,Kt(e)]:Array.isArray(e)&&e.every(function(r){return"getFile"in r&&typeof r.getFile=="function"})?[2,Wt(e)]:[2,[]]})})}function $t(e){return ce(e)}function Ht(e){return ce(e)&&ce(e.target)}function ce(e){return typeof e=="object"&&e!==null}function Kt(e){return Fe(e.target.files).map(function(t){return J(t)})}function Wt(e){return L(this,void 0,void 0,function(){var t;return $(this,function(r){switch(r.label){case 0:return[4,Promise.all(e.map(function(n){return n.getFile()}))];case 1:return t=r.sent(),[2,t.map(function(n){return J(n)})]}})})}function Bt(e,t){return L(this,void 0,void 0,function(){var r,n;return $(this,function(o){switch(o.label){case 0:return e.items?(r=Fe(e.items).filter(function(i){return i.kind==="file"}),t!=="drop"?[2,r]:[4,Promise.all(r.map(Ut))]):[3,2];case 1:return n=o.sent(),[2,Je(ft(n))];case 2:return[2,Je(Fe(e.files).map(function(i){return J(i)}))]}})})}function Je(e){return e.filter(function(t){return Mt.indexOf(t.name)===-1})}function Fe(e){if(e===null)return[];for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(n)}return t}function Ut(e){if(typeof e.webkitGetAsEntry!="function")return Qe(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?pt(t):Qe(e)}function ft(e){return e.reduce(function(t,r){return Ye(Ye([],Ge(t),!1),Ge(Array.isArray(r)?ft(r):[r]),!1)},[])}function Qe(e){var t=e.getAsFile();if(!t)return Promise.reject("".concat(e," is not a File"));var r=J(t);return Promise.resolve(r)}function Vt(e){return L(this,void 0,void 0,function(){return $(this,function(t){return[2,e.isDirectory?pt(e):Gt(e)]})})}function pt(e){var t=e.createReader();return new Promise(function(r,n){var o=[];function i(){var s=this;t.readEntries(function(u){return L(s,void 0,void 0,function(){var d,c,g;return $(this,function(h){switch(h.label){case 0:if(u.length)return[3,5];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,Promise.all(o)];case 2:return d=h.sent(),r(d),[3,4];case 3:return c=h.sent(),n(c),[3,4];case 4:return[3,6];case 5:g=Promise.all(u.map(Vt)),o.push(g),i(),h.label=6;case 6:return[2]}})})},function(u){n(u)})}i()})}function Gt(e){return L(this,void 0,void 0,function(){return $(this,function(t){return[2,new Promise(function(r,n){e.file(function(o){var i=J(o,e.fullPath);r(i)},function(o){n(o)})})]})})}var Yt=function(e,t){if(e&&t){var r=Array.isArray(t)?t:t.split(","),n=e.name||"",o=(e.type||"").toLowerCase(),i=o.replace(/\/.*$/,"");return r.some(function(s){var u=s.trim().toLowerCase();return u.charAt(0)==="."?n.toLowerCase().endsWith(u):u.endsWith("/*")?i===u.replace(/\/.*$/,""):o===u})}return!0};function Xe(e){return Xt(e)||Qt(e)||mt(e)||Jt()}function Jt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Xt(e){if(Array.isArray(e))return Oe(e)}function Ze(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ze(Object(r),!0).forEach(function(n){dt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ze(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y(e,t){return tr(e)||er(e,t)||mt(e,t)||Zt()}function Zt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mt(e,t){if(e){if(typeof e=="string")return Oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oe(e,t)}}function Oe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function er(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],o=!0,i=!1,s,u;try{for(r=r.call(e);!(o=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));o=!0);}catch(d){i=!0,u=d}finally{try{!o&&r.return!=null&&r.return()}finally{if(i)throw u}}return n}}function tr(e){if(Array.isArray(e))return e}var rr="file-invalid-type",nr="file-too-large",or="file-too-small",ir="too-many-files",ar=function(t){t=Array.isArray(t)&&t.length===1?t[0]:t;var r=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:rr,message:"File type must be ".concat(r)}},tt=function(t){return{code:nr,message:"File is larger than ".concat(t," ").concat(t===1?"byte":"bytes")}},rt=function(t){return{code:or,message:"File is smaller than ".concat(t," ").concat(t===1?"byte":"bytes")}},sr={code:ir,message:"Too many files"};function gt(e,t){var r=e.type==="application/x-moz-file"||Yt(e,t);return[r,r?null:ar(t)]}function yt(e,t,r){if(I(e.size))if(I(t)&&I(r)){if(e.size>r)return[!1,tt(r)];if(e.size<t)return[!1,rt(t)]}else{if(I(t)&&e.size<t)return[!1,rt(t)];if(I(r)&&e.size>r)return[!1,tt(r)]}return[!0,null]}function I(e){return e!=null}function lr(e){var t=e.files,r=e.accept,n=e.minSize,o=e.maxSize,i=e.multiple,s=e.maxFiles,u=e.validator;return!i&&t.length>1||i&&s>=1&&t.length>s?!1:t.every(function(d){var c=gt(d,r),g=Y(c,1),h=g[0],S=yt(d,n,o),C=Y(S,1),_=C[0],P=u?u(d):null;return h&&_&&!P})}function ue(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble<"u"?e.cancelBubble:!1}function se(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(t){return t==="Files"||t==="application/x-moz-file"}):!!e.target&&!!e.target.files}function nt(e){e.preventDefault()}function cr(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function ur(e){return e.indexOf("Edge/")!==-1}function fr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return cr(e)||ur(e)}function F(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];return t.some(function(u){return!ue(n)&&u&&u.apply(void 0,[n].concat(i)),ue(n)})}}function pr(){return"showOpenFilePicker"in window}function dr(e){if(I(e)){var t=Object.entries(e).filter(function(r){var n=Y(r,2),o=n[0],i=n[1],s=!0;return vt(o)||(console.warn('Skipped "'.concat(o,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),s=!1),(!Array.isArray(i)||!i.every(bt))&&(console.warn('Skipped "'.concat(o,'" because an invalid file extension was provided.')),s=!1),s}).reduce(function(r,n){var o=Y(n,2),i=o[0],s=o[1];return et(et({},r),{},dt({},i,s))},{});return[{description:"Files",accept:t}]}return e}function mr(e){if(I(e))return Object.entries(e).reduce(function(t,r){var n=Y(r,2),o=n[0],i=n[1];return[].concat(Xe(t),[o],Xe(i))},[]).filter(function(t){return vt(t)||bt(t)}).join(",")}function gr(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function yr(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function vt(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function bt(e){return/^.*\.[\w]+$/.test(e)}var vr=["children"],br=["open"],hr=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],xr=["refKey","onChange","onClick"];function jr(e){return Er(e)||wr(e)||ht(e)||Dr()}function Dr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wr(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Er(e){if(Array.isArray(e))return Se(e)}function De(e,t){return Or(e)||Fr(e,t)||ht(e,t)||Ar()}function Ar(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ht(e,t){if(e){if(typeof e=="string")return Se(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Se(e,t)}}function Se(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fr(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],o=!0,i=!1,s,u;try{for(r=r.call(e);!(o=(s=r.next()).done)&&(n.push(s.value),!(t&&n.length===t));o=!0);}catch(d){i=!0,u=d}finally{try{!o&&r.return!=null&&r.return()}finally{if(i)throw u}}return n}}function Or(e){if(Array.isArray(e))return e}function ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ot(Object(r),!0).forEach(function(n){Ce(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fe(e,t){if(e==null)return{};var r=Sr(e,t),n,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Sr(e,t){if(e==null)return{};var r={},n=Object.keys(e),o,i;for(i=0;i<n.length;i++)o=n[i],!(t.indexOf(o)>=0)&&(r[o]=e[o]);return r}var Pe=p.forwardRef(function(e,t){var r=e.children,n=fe(e,vr),o=jt(n),i=o.open,s=fe(o,br);return p.useImperativeHandle(t,function(){return{open:i}},[i]),St.createElement(p.Fragment,null,r(y(y({},s),{},{open:i})))});Pe.displayName="Dropzone";var xt={disabled:!1,getFilesFromEvent:Lt,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Pe.defaultProps=xt;Pe.propTypes={children:m.func,accept:m.objectOf(m.arrayOf(m.string)),multiple:m.bool,preventDropOnDocument:m.bool,noClick:m.bool,noKeyboard:m.bool,noDrag:m.bool,noDragEventsBubbling:m.bool,minSize:m.number,maxSize:m.number,maxFiles:m.number,disabled:m.bool,getFilesFromEvent:m.func,onFileDialogCancel:m.func,onFileDialogOpen:m.func,useFsAccessApi:m.bool,autoFocus:m.bool,onDragEnter:m.func,onDragLeave:m.func,onDragOver:m.func,onDrop:m.func,onDropAccepted:m.func,onDropRejected:m.func,onError:m.func,validator:m.func};var _e={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function jt(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=y(y({},xt),e),r=t.accept,n=t.disabled,o=t.getFilesFromEvent,i=t.maxSize,s=t.minSize,u=t.multiple,d=t.maxFiles,c=t.onDragEnter,g=t.onDragLeave,h=t.onDragOver,S=t.onDrop,C=t.onDropAccepted,_=t.onDropRejected,P=t.onFileDialogCancel,H=t.onFileDialogOpen,Q=t.useFsAccessApi,R=t.autoFocus,K=t.preventDropOnDocument,X=t.noClick,W=t.noKeyboard,Z=t.noDrag,O=t.noDragEventsBubbling,B=t.onError,b=t.validator,U=p.useMemo(function(){return mr(r)},[r]),ke=p.useMemo(function(){return dr(r)},[r]),pe=p.useMemo(function(){return typeof H=="function"?H:it},[H]),ee=p.useMemo(function(){return typeof P=="function"?P:it},[P]),j=p.useRef(null),E=p.useRef(null),Dt=p.useReducer(Cr,_e),Ie=De(Dt,2),de=Ie[0],D=Ie[1],wt=de.isFocused,Te=de.isFileDialogActive,te=p.useRef(typeof window<"u"&&window.isSecureContext&&Q&&pr()),Re=function(){!te.current&&Te&&setTimeout(function(){if(E.current){var f=E.current.files;f.length||(D({type:"closeDialog"}),ee())}},300)};p.useEffect(function(){return window.addEventListener("focus",Re,!1),function(){window.removeEventListener("focus",Re,!1)}},[E,Te,ee,te]);var z=p.useRef([]),ze=function(f){j.current&&j.current.contains(f.target)||(f.preventDefault(),z.current=[])};p.useEffect(function(){return K&&(document.addEventListener("dragover",nt,!1),document.addEventListener("drop",ze,!1)),function(){K&&(document.removeEventListener("dragover",nt),document.removeEventListener("drop",ze))}},[j,K]),p.useEffect(function(){return!n&&R&&j.current&&j.current.focus(),function(){}},[j,R,n]);var k=p.useCallback(function(l){B?B(l):console.error(l)},[B]),Ne=p.useCallback(function(l){l.preventDefault(),l.persist(),ie(l),z.current=[].concat(jr(z.current),[l.target]),se(l)&&Promise.resolve(o(l)).then(function(f){if(!(ue(l)&&!O)){var v=f.length,x=v>0&&lr({files:f,accept:U,minSize:s,maxSize:i,multiple:u,maxFiles:d,validator:b}),w=v>0&&!x;D({isDragAccept:x,isDragReject:w,isDragActive:!0,type:"setDraggedFiles"}),c&&c(l)}}).catch(function(f){return k(f)})},[o,c,k,O,U,s,i,u,d,b]),qe=p.useCallback(function(l){l.preventDefault(),l.persist(),ie(l);var f=se(l);if(f&&l.dataTransfer)try{l.dataTransfer.dropEffect="copy"}catch{}return f&&h&&h(l),!1},[h,O]),Me=p.useCallback(function(l){l.preventDefault(),l.persist(),ie(l);var f=z.current.filter(function(x){return j.current&&j.current.contains(x)}),v=f.indexOf(l.target);v!==-1&&f.splice(v,1),z.current=f,!(f.length>0)&&(D({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),se(l)&&g&&g(l))},[j,g,O]),re=p.useCallback(function(l,f){var v=[],x=[];l.forEach(function(w){var V=gt(w,U),M=De(V,2),ge=M[0],ye=M[1],ve=yt(w,s,i),ae=De(ve,2),be=ae[0],he=ae[1],xe=b?b(w):null;if(ge&&be&&!xe)v.push(w);else{var je=[ye,he];xe&&(je=je.concat(xe)),x.push({file:w,errors:je.filter(function(Ot){return Ot})})}}),(!u&&v.length>1||u&&d>=1&&v.length>d)&&(v.forEach(function(w){x.push({file:w,errors:[sr]})}),v.splice(0)),D({acceptedFiles:v,fileRejections:x,type:"setFiles"}),S&&S(v,x,f),x.length>0&&_&&_(x,f),v.length>0&&C&&C(v,f)},[D,u,U,s,i,d,S,C,_,b]),ne=p.useCallback(function(l){l.preventDefault(),l.persist(),ie(l),z.current=[],se(l)&&Promise.resolve(o(l)).then(function(f){ue(l)&&!O||re(f,l)}).catch(function(f){return k(f)}),D({type:"reset"})},[o,re,k,O]),N=p.useCallback(function(){if(te.current){D({type:"openDialog"}),pe();var l={multiple:u,types:ke};window.showOpenFilePicker(l).then(function(f){return o(f)}).then(function(f){re(f,null),D({type:"closeDialog"})}).catch(function(f){gr(f)?(ee(f),D({type:"closeDialog"})):yr(f)?(te.current=!1,E.current?(E.current.value=null,E.current.click()):k(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):k(f)});return}E.current&&(D({type:"openDialog"}),pe(),E.current.value=null,E.current.click())},[D,pe,ee,Q,re,k,ke,u]),Le=p.useCallback(function(l){!j.current||!j.current.isEqualNode(l.target)||(l.key===" "||l.key==="Enter"||l.keyCode===32||l.keyCode===13)&&(l.preventDefault(),N())},[j,N]),$e=p.useCallback(function(){D({type:"focus"})},[]),He=p.useCallback(function(){D({type:"blur"})},[]),Ke=p.useCallback(function(){X||(fr()?setTimeout(N,0):N())},[X,N]),q=function(f){return n?null:f},me=function(f){return W?null:q(f)},oe=function(f){return Z?null:q(f)},ie=function(f){O&&f.stopPropagation()},Et=p.useMemo(function(){return function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=l.refKey,v=f===void 0?"ref":f,x=l.role,w=l.onKeyDown,V=l.onFocus,M=l.onBlur,ge=l.onClick,ye=l.onDragEnter,ve=l.onDragOver,ae=l.onDragLeave,be=l.onDrop,he=fe(l,hr);return y(y(Ce({onKeyDown:me(F(w,Le)),onFocus:me(F(V,$e)),onBlur:me(F(M,He)),onClick:q(F(ge,Ke)),onDragEnter:oe(F(ye,Ne)),onDragOver:oe(F(ve,qe)),onDragLeave:oe(F(ae,Me)),onDrop:oe(F(be,ne)),role:typeof x=="string"&&x!==""?x:"presentation"},v,j),!n&&!W?{tabIndex:0}:{}),he)}},[j,Le,$e,He,Ke,Ne,qe,Me,ne,W,Z,n]),At=p.useCallback(function(l){l.stopPropagation()},[]),Ft=p.useMemo(function(){return function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},f=l.refKey,v=f===void 0?"ref":f,x=l.onChange,w=l.onClick,V=fe(l,xr),M=Ce({accept:U,multiple:u,type:"file",style:{display:"none"},onChange:q(F(x,ne)),onClick:q(F(w,At)),tabIndex:-1},v,E);return y(y({},M),V)}},[E,r,u,ne,n]);return y(y({},de),{},{isFocused:wt&&!n,getRootProps:Et,getInputProps:Ft,rootRef:j,inputRef:E,open:q(N)})}function Cr(e,t){switch(t.type){case"focus":return y(y({},e),{},{isFocused:!0});case"blur":return y(y({},e),{},{isFocused:!1});case"openDialog":return y(y({},_e),{},{isFileDialogActive:!0});case"closeDialog":return y(y({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return y(y({},e),{},{isDragActive:t.isDragActive,isDragAccept:t.isDragAccept,isDragReject:t.isDragReject});case"setFiles":return y(y({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return y({},_e);default:return e}}function it(){}function _r({thumbnail:e,files:t,onRemove:r,sx:n}){return a.jsx(kt,{initial:!1,children:t==null?void 0:t.map(o=>{const{key:i,name:s="",size:u=0}=st(o),d=typeof o=="string";return e?a.jsxs(G,{component:We.div,...Ve().inUp,alignItems:"center",display:"inline-flex",justifyContent:"center",sx:{m:.5,width:80,height:80,borderRadius:1.25,overflow:"hidden",position:"relative",border:c=>`solid 1px ${A(c.palette.grey[500],.16)}`,...n},children:[a.jsx(Be,{tooltip:!0,imageView:!0,file:o,sx:{position:"absolute"},imgSx:{position:"absolute"}}),r&&a.jsx(we,{size:"small",onClick:()=>r(o),sx:{p:.5,top:4,right:4,position:"absolute",color:"common.white",bgcolor:c=>A(c.palette.grey[900],.48),"&:hover":{bgcolor:c=>A(c.palette.grey[900],.72)}},children:a.jsx(le,{icon:"mingcute:close-line",width:14})})]},i):a.jsxs(G,{component:We.div,...Ve().inUp,spacing:2,direction:"row",alignItems:"center",sx:{my:1,py:1,px:1.5,borderRadius:1,border:c=>`solid 1px ${A(c.palette.grey[500],.16)}`,...n},children:[a.jsx(Be,{file:o}),a.jsx(Ct,{primary:d?o:s,secondary:d?"":ut(u),secondaryTypographyProps:{component:"span",typography:"caption"}}),r&&a.jsx(we,{size:"small",onClick:()=>r(o),children:a.jsx(le,{icon:"mingcute:close-line",width:16})})]},i)})})}function Pr({fileRejections:e}){return e.length?a.jsx(_t,{variant:"outlined",sx:{py:1,px:2,mt:3,textAlign:"left",borderStyle:"dashed",borderColor:"error.main",bgcolor:t=>A(t.palette.error.main,.08)},children:e.map(({file:t,errors:r})=>{const{path:n,size:o}=st(t);return a.jsxs(T,{sx:{my:1},children:[a.jsxs(Ee,{variant:"subtitle2",noWrap:!0,children:[n," - ",o?ut(o):""]}),r.map(i=>a.jsxs(T,{component:"span",sx:{typography:"caption"},children:["- ",i.message]},i.code))]},n)})}):null}function kr({imgUrl:e=""}){return a.jsx(T,{sx:{p:1,top:0,left:0,width:1,height:1,position:"absolute"},children:a.jsx(It,{alt:"file preview",src:e,sx:{width:1,height:1,borderRadius:1}})})}function at({disabled:e,multiple:t=!1,error:r,helperText:n,file:o,onDelete:i,files:s,thumbnail:u,onUpload:d,onRemove:c,onRemoveAll:g,sx:h,...S}){const{getRootProps:C,getInputProps:_,isDragActive:P,isDragReject:H,fileRejections:Q}=jt({multiple:t,disabled:e,...S}),R=!!o&&!t,K=!!s&&t&&!!s.length,X=H||!!r,W=a.jsxs(G,{spacing:3,alignItems:"center",justifyContent:"center",flexWrap:"wrap",children:[a.jsx(Pt,{sx:{width:1,maxWidth:200}}),a.jsxs(G,{spacing:1,sx:{textAlign:"center"},children:[a.jsx(Ee,{variant:"h6",children:"Drop or Select file"}),a.jsxs(Ee,{variant:"body2",sx:{color:"text.secondary"},children:["Drop files here or click",a.jsx(T,{component:"span",sx:{mx:.5,color:"primary.main",textDecoration:"underline"},children:"browse"}),"thorough your machine"]})]})]}),Z=a.jsx(kr,{imgUrl:typeof o=="string"?o:o==null?void 0:o.preview}),O=R&&i&&a.jsx(we,{size:"small",onClick:i,sx:{top:16,right:16,zIndex:9,position:"absolute",color:b=>A(b.palette.common.white,.8),bgcolor:b=>A(b.palette.grey[900],.72),"&:hover":{bgcolor:b=>A(b.palette.grey[900],.48)}},children:a.jsx(le,{icon:"mingcute:close-line",width:18})}),B=K&&a.jsxs(a.Fragment,{children:[a.jsx(T,{sx:{my:3},children:a.jsx(_r,{files:s,thumbnail:u,onRemove:c})}),a.jsxs(G,{direction:"row",justifyContent:"flex-end",spacing:1.5,children:[g&&a.jsx(Ue,{color:"inherit",variant:"outlined",size:"small",onClick:g,children:"Remove All"}),d&&a.jsx(Ue,{size:"small",variant:"contained",onClick:d,startIcon:a.jsx(le,{icon:"eva:cloud-upload-fill"}),children:"Upload"})]})]});return a.jsxs(T,{sx:{width:1,position:"relative",...h},children:[a.jsxs(T,{...C(),sx:{p:5,outline:"none",borderRadius:1,cursor:"pointer",overflow:"hidden",position:"relative",bgcolor:b=>A(b.palette.grey[500],.08),border:b=>`1px dashed ${A(b.palette.grey[500],.2)}`,transition:b=>b.transitions.create(["opacity","padding"]),"&:hover":{opacity:.72},...P&&{opacity:.72},...e&&{opacity:.48,pointerEvents:"none"},...X&&{color:"error.main",borderColor:"error.main",bgcolor:b=>A(b.palette.error.main,.08)},...R&&{padding:"24% 0"}},children:[a.jsx("input",{..._()}),R?Z:W]}),O,n&&n,a.jsx(Pr,{fileRejections:Q}),B]})}function Ur({name:e,multiple:t,helperText:r,...n}){const{control:o}=lt();return a.jsx(ct,{name:e,control:o,render:({field:i,fieldState:{error:s}})=>t?a.jsx(at,{multiple:!0,accept:{"image/*":[]},files:i.value,error:!!s,helperText:(!!s||r)&&a.jsx(Ae,{error:!!s,sx:{px:2},children:s?s==null?void 0:s.message:r}),...n}):a.jsx(at,{accept:{"image/*":[]},file:i.value,error:!!s,helperText:(!!s||r)&&a.jsx(Ae,{error:!!s,sx:{px:2},children:s?s==null?void 0:s.message:r}),...n})})}const Ir=["Heading 1","Heading 2","Heading 3","Heading 4","Heading 5","Heading 6"],Tr=["align","background","blockquote","bold","bullet","code","code-block","color","direction","font","formula","header","image","indent","italic","link","list","script","size","strike","table","underline","video"];function Rr({id:e,simple:t,...r}){return a.jsx(Tt,{...r,children:a.jsxs("div",{id:e,children:[a.jsx("div",{className:"ql-formats",children:a.jsxs("select",{className:"ql-header",defaultValue:"",children:[Ir.map((n,o)=>a.jsx("option",{value:o+1,children:n},n)),a.jsx("option",{value:"",children:"Normal"})]})}),a.jsxs("div",{className:"ql-formats",children:[a.jsx("button",{type:"button",className:"ql-bold"}),a.jsx("button",{type:"button",className:"ql-italic"}),a.jsx("button",{type:"button",className:"ql-underline"}),a.jsx("button",{type:"button",className:"ql-strike"})]}),!t&&a.jsxs("div",{className:"ql-formats",children:[a.jsx("select",{className:"ql-color"}),a.jsx("select",{className:"ql-background"})]}),a.jsxs("div",{className:"ql-formats",children:[a.jsx("button",{type:"button",className:"ql-list",value:"ordered"}),a.jsx("button",{type:"button",className:"ql-list",value:"bullet"}),!t&&a.jsx("button",{type:"button",className:"ql-indent",value:"-1"}),!t&&a.jsx("button",{type:"button",className:"ql-indent",value:"+1"})]}),!t&&a.jsxs("div",{className:"ql-formats",children:[a.jsx("button",{type:"button",className:"ql-script",value:"super"}),a.jsx("button",{type:"button",className:"ql-script",value:"sub"})]}),!t&&a.jsxs("div",{className:"ql-formats",children:[a.jsx("button",{type:"button",className:"ql-code-block"}),a.jsx("button",{type:"button",className:"ql-blockquote"})]}),a.jsxs("div",{className:"ql-formats",children:[a.jsx("button",{type:"button",className:"ql-direction",value:"rtl"}),a.jsx("select",{className:"ql-align"})]}),a.jsxs("div",{className:"ql-formats",children:[a.jsx("button",{type:"button",className:"ql-link"}),a.jsx("button",{type:"button",className:"ql-image"}),a.jsx("button",{type:"button",className:"ql-video"})]}),a.jsxs("div",{className:"ql-formats",children:[!t&&a.jsx("button",{type:"button",className:"ql-formula"}),a.jsx("button",{type:"button",className:"ql-clean"})]})]})})}function zr({id:e="minimal-quill",error:t,simple:r=!1,helperText:n,sx:o,...i}){const s={toolbar:{container:`#${e}`},history:{delay:500,maxStack:100,userOnly:!0},syntax:!0,clipboard:{matchVisual:!1}};return a.jsxs(a.Fragment,{children:[a.jsxs(Rt,{sx:{...t&&{border:u=>`solid 1px ${u.palette.error.main}`,"& .ql-editor":{bgcolor:u=>A(u.palette.error.main,.08)}},...o},children:[a.jsx(Rr,{id:e,simple:r}),a.jsx(zt,{modules:s,formats:Tr,placeholder:"Write something awesome...",...i})]}),n&&n]})}function Vr({name:e,helperText:t,...r}){const{control:n,watch:o,setValue:i,formState:{isSubmitSuccessful:s}}=lt(),u=o();return p.useEffect(()=>{u[e]==="<p><br></p>"&&i(e,"",{shouldValidate:!s})},[s,e,i,u]),a.jsx(ct,{name:e,control:n,render:({field:d,fieldState:{error:c}})=>a.jsx(zr,{id:e,value:d.value,onChange:d.onChange,error:!!c,helperText:(!!c||t)&&a.jsx(Ae,{error:!!c,sx:{px:2},children:c?c==null?void 0:c.message:t}),...r})})}export{Vr as R,Ur as a};
