import{u as f,a as y,r as v,b as L,c as S,d,e as F,j as e,S as n,T as E,L as A,R as I,p as P,f as c,I as T,g as k,h as q,i as H,A as R,F as B,o as C,H as J}from"./index-F58UWM6d.js";function M(){const{t:s}=f(),{login:a}=y(),[o,u]=v.useState(""),t=L(),m=S().shape({email:d().required("Email is required").email("Email must be a valid email address"),password:d().required("Password is required")}),h={email:"",password:""},i=F({resolver:C(m),defaultValues:h}),{reset:x,handleSubmit:p,formState:{isSubmitting:g}}=i,j=p(async l=>{try{await(a==null?void 0:a(l.email,l.password))}catch(r){console.error(r),x(),u(typeof r=="string"?r:r.message)}}),w=e.jsxs(n,{spacing:2,sx:{mb:5},children:[e.jsx(E,{variant:"h4",children:s("Sign in to Gravesteller")}),e.jsx(n,{direction:"row",spacing:.5,children:e.jsx(A,{component:I,href:P.auth.jwt.register,variant:"subtitle2",children:s("Create an account")})})]}),b=e.jsxs(n,{spacing:2.5,children:[e.jsx(c,{name:"email",label:s("Email address")}),e.jsx(c,{name:"password",label:s("Password"),type:t.value?"text":"password",InputProps:{endAdornment:e.jsx(T,{position:"end",children:e.jsx(k,{onClick:t.onToggle,edge:"end",children:e.jsx(q,{icon:t.value?"solar:eye-bold":"solar:eye-closed-bold"})})})}}),e.jsx(H,{fullWidth:!0,color:"inherit",size:"large",type:"submit",variant:"contained",loading:g,children:s("Login")})]});return e.jsxs(e.Fragment,{children:[w,!!o&&e.jsx(R,{severity:"error",sx:{mb:3},children:o}),e.jsx(B,{methods:i,onSubmit:j,children:b})]})}function $(){return e.jsxs(e.Fragment,{children:[e.jsx(J,{children:e.jsx("title",{children:" Jwt: Login"})}),e.jsx(M,{})]})}export{$ as default};
