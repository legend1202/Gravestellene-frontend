import{b as F,j as e,A as w,S as x,T as h,aQ as I,B as f,i as P,d as u,c as j}from"./index-tWxiFnGS.js";import{L as y}from"./ListItem-oUX2xa2O.js";import{T}from"./TextField-uP2c0lAh.js";import{P as A}from"./Pagination-wsAaGHv3.js";import{c as B,a as p}from"./mui-one-time-password-input.es-gTOf3O1q.js";import{u as C,F as S,R as q,o as L}from"./rhf-text-field-aVwXywRy.js";import"./image-IKMP3f3C.js";import"./styles-XJdAXeAG.js";import{L as U}from"./LoadingButton-IJmnI-vK.js";function g({name:r,avatarUrl:n,message:o,tagUser:t,postedAt:m,hasReply:a}){const s=F();return e.jsxs(y,{sx:{p:0,pt:3,alignItems:"flex-start",...a&&{pl:8}},children:[e.jsx(w,{alt:r,src:n,sx:{mr:2,width:48,height:48}}),e.jsxs(x,{flexGrow:1,sx:{pb:3,borderBottom:l=>`solid 1px ${l.palette.divider}`},children:[e.jsx(h,{variant:"subtitle2",sx:{mb:.5},children:r}),e.jsx(h,{variant:"caption",sx:{color:"text.disabled"},children:I(m)}),e.jsxs(h,{variant:"body2",sx:{mt:1},children:[t&&e.jsxs(f,{component:"strong",sx:{mr:.5},children:["@",t]}),o]}),s.value&&e.jsx(f,{sx:{mt:2},children:e.jsx(T,{fullWidth:!0,autoFocus:!0,placeholder:"Write comment..."})})]}),!a&&e.jsx(P,{size:"small",color:s.value?"primary":"inherit",startIcon:e.jsx(u,{icon:"solar:pen-bold",width:16}),onClick:s.onToggle,sx:{right:0,position:"absolute"},children:"Reply"})]})}function N({comments:r}){return e.jsxs(e.Fragment,{children:[e.jsx(e.Fragment,{children:r.map(n=>{const{id:o,replyComment:t,name:m,users:a,message:s,avatarUrl:l,postedAt:c}=n,v=!!t.length;return e.jsxs(f,{children:[e.jsx(g,{name:m,message:s,postedAt:c,avatarUrl:l}),v&&t.map(d=>{const i=a.find(b=>b.id===d.userId);return e.jsx(g,{name:(i==null?void 0:i.name)||"",message:d.message,postedAt:d.postedAt,avatarUrl:(i==null?void 0:i.avatarUrl)||"",tagUser:d.tagUser,hasReply:!0},d.id)})]},o)})}),e.jsx(A,{count:8,sx:{my:5,mx:"auto"}})]})}function Q(){const r=B().shape({comment:p().required("Comment is required"),name:p().required("Name is required"),email:p().required("Email is required").email("Email must be a valid email address")}),n={comment:"",name:"",email:""},o=C({resolver:L(r),defaultValues:n}),{reset:t,handleSubmit:m,formState:{isSubmitting:a}}=o,s=m(async l=>{try{await new Promise(c=>setTimeout(c,500)),t(),console.info("DATA",l)}catch(c){console.error(c)}});return e.jsx(S,{methods:o,onSubmit:s,children:e.jsxs(x,{spacing:3,children:[e.jsx(q,{name:"comment",placeholder:"Write some of your comments...",multiline:!0,rows:4}),e.jsxs(x,{direction:"row",alignItems:"center",children:[e.jsxs(x,{direction:"row",alignItems:"center",flexGrow:1,children:[e.jsx(j,{children:e.jsx(u,{icon:"solar:gallery-add-bold"})}),e.jsx(j,{children:e.jsx(u,{icon:"eva:attach-2-fill"})}),e.jsx(j,{children:e.jsx(u,{icon:"eva:smiling-face-fill"})})]}),e.jsx(U,{type:"submit",variant:"contained",loading:a,children:"Post comment"})]})]})})}export{Q as P,N as a};
