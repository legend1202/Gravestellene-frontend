import{r as x,j as s,S as j,af as g,c as p,d as h,aw as v,B as u,A as I,s as w,ae as C}from"./index-uKP6CWMZ.js";import{I as S}from"./image-J6RLhyGE.js";import{u as y,L as k}from"./use-light-box-O89Cqwl1.js";import{u as f,a as m,c as R}from"./carousel-arrow-index-HrmtrjO8.js";const T=x.forwardRef(({quantity:o,onIncrease:i,onDecrease:a,disabledIncrease:t,disabledDecrease:r,sx:n,...l},d)=>s.jsxs(j,{ref:d,flexShrink:0,direction:"row",alignItems:"center",justifyContent:"space-between",sx:{p:.5,width:88,borderRadius:1,typography:"subtitle2",border:e=>`solid 1px ${g(e.palette.grey[500],.2)}`,...n},...l,children:[s.jsx(p,{size:"small",onClick:a,disabled:r,sx:{borderRadius:.75},children:s.jsx(h,{icon:"eva:minus-fill",width:16})}),o,s.jsx(p,{size:"small",onClick:i,disabled:t,sx:{borderRadius:.75},children:s.jsx(h,{icon:"mingcute:add-line",width:16})})]})),W=T,c=64,B=w("div")(({length:o,theme:i})=>({position:"relative",margin:i.spacing(0,"auto"),"& .slick-slide":{lineHeight:0},...o===1&&{maxWidth:c*1+16},...o===2&&{maxWidth:c*2+32},...(o===3||o===4)&&{maxWidth:c*3+48},...o>=5&&{maxWidth:c*6},...o>3&&{"&:before, &:after":{...C({direction:"to left",startColor:`${g(i.palette.background.default,0)} 0%`,endColor:`${i.palette.background.default} 100%`}),top:0,zIndex:9,content:"''",height:"100%",position:"absolute",width:c*2/3},"&:after":{right:0,transform:"scaleX(-1)"}}}));function $({product:o}){const i=v(),a=o.images.map(e=>({src:e})),t=y(a),r=f({rtl:!1,draggable:!1,adaptiveHeight:!0}),n=f({rtl:!1,centerMode:!0,swipeToSlide:!0,focusOnSelect:!0,variableWidth:!0,centerPadding:"0px",slidesToShow:a.length>3?3:a.length});x.useEffect(()=>{r.onSetNav(),n.onSetNav()},[r,n]),x.useEffect(()=>{t.open&&r.onTogo(t.selected)},[r,t.open,t.selected]);const l=s.jsxs(u,{sx:{mb:3,borderRadius:2,overflow:"hidden",position:"relative"},children:[s.jsx(m,{...r.carouselSettings,asNavFor:n.nav,ref:r.carouselRef,children:a.map(e=>s.jsx(S,{alt:e.src,src:e.src,ratio:"1/1",onClick:()=>t.onOpen(e.src),sx:{cursor:"zoom-in"}},e.src))}),s.jsx(R,{index:r.currentIndex,total:a.length,onNext:n.onNext,onPrev:n.onPrev})]}),d=s.jsx(B,{length:a.length,children:s.jsx(m,{...n.carouselSettings,asNavFor:r.nav,ref:n.carouselRef,children:a.map((e,b)=>s.jsx(u,{sx:{px:.5},children:s.jsx(I,{alt:e.src,src:e.src,variant:"rounded",sx:{width:c,height:c,opacity:.48,cursor:"pointer",...r.currentIndex===b&&{opacity:1,border:`solid 2.5px ${i.palette.primary.main}`}}},e.src)},e.src))})});return s.jsxs(u,{sx:{"& .slick-slide":{float:i.direction==="rtl"?"right":"left"}},children:[l,d,s.jsx(k,{index:t.selected,slides:a,open:t.open,close:t.onClose,onGetCurrentIndex:e=>t.setSelected(e)})]})}export{W as I,$ as P};
