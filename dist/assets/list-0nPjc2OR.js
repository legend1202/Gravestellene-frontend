import{aY as K,r,j as e,a_ as C,aZ as Y,d as p,S as j,B as y,i as w,n as Z,k as J,g as B,aQ as X,bq as $,aE as ee,A as te,L as oe,dv as se,b as le,e as re,h as ne,aa as ie,p as g,dA as I,C as ae,R as ce,H as de}from"./index-lMmDPpwH.js";import"./index-VDNoSuDP.js";import"./index.esm-V-50jqn-.js";import"./image-BILO_BCm.js";import"./mui-one-time-password-input.es-I6hoYgDw.js";import"./styles-stj5iCp_.js";import"./_baseToString-M1LHTUqF.js";import"./color-picker-lMeeDkHz.js";import{u as ue}from"./product-4uBcJsuk.js";import{E as O}from"./empty-content-d7mZFD6e.js";import{C as he}from"./confirm-dialog-hBzfmm19.js";import{C as pe}from"./custom-breadcrumbs-qEEEK2Dp.js";import{a as L,b as G,S as F,O as E}from"./TextField-L8IfDKvJ.js";import{C as N}from"./Checkbox-vWtJNdsN.js";import{C as A}from"./Chip-obpKpu2y.js";import{f as xe}from"./format-number-cAaVNM2P.js";import{C as me}from"./Card-i_M7QnNo.js";import{G as be,a as je}from"./GridToolbarFilterButton-x2SJsDQd.js";import{b as P,D as fe,G as Ce,a as ge,c as we}from"./DataGrid-E-vDT39s.js";import"./incrementer-button-yC8v_rjm.js";import"./product-details-carousel-9OCJKhx7.js";import"./styles-wKt_Ziqz.js";import"./DialogTitle-xXc8J_zi.js";import"./dialogTitleClasses-V0ZXOCyI.js";import"./DialogContent-yl5nWwFB.js";import"./DialogActions-rrWzMfmV.js";import"./SwitchBase-puV6Lkdu.js";import"./index-qWFwL1rd.js";import"./Autocomplete-tUtEKOFz.js";import"./Close-KqYWU_Vs.js";import"./ClickAwayListener-uE4r9UbC.js";import"./Switch-j-L7GRmq.js";import"./Skeleton-kAHCgQBf.js";import"./CircularProgress-7JKEdLOP.js";import"./TablePagination-GkDXZEL2.js";import"./FirstPage-gb0hC87K.js";import"./TableCell-XY6JJfkS.js";import"./FormControlLabel-wfVEIqv2.js";import"./use-light-box-CiIwHhw6.js";import"./carousel-arrow-index-nZzW-xk8.js";function ye({filters:t,onFilters:n,stockOptions:c,publishOptions:d}){const i=K(),[x,h]=r.useState(t.stock),[s,u]=r.useState(t.publish),m=r.useCallback(l=>{const{target:{value:a}}=l;h(typeof a=="string"?a.split(","):a)},[]),b=r.useCallback(l=>{const{target:{value:a}}=l;u(typeof a=="string"?a.split(","):a)},[]),k=r.useCallback(()=>{n("stock",x)},[n,x]),v=r.useCallback(()=>{n("publish",s)},[n,s]);return e.jsxs(e.Fragment,{children:[e.jsxs(L,{sx:{flexShrink:0,width:{xs:1,md:200}},children:[e.jsx(G,{children:"Stock"}),e.jsx(F,{multiple:!0,value:x,onChange:m,input:e.jsx(E,{label:"Stock"}),renderValue:l=>l.map(a=>a).join(", "),onClose:k,sx:{textTransform:"capitalize"},children:c.map(l=>e.jsxs(C,{value:l.value,children:[e.jsx(N,{disableRipple:!0,size:"small",checked:x.includes(l.value)}),l.label]},l.value))})]}),e.jsxs(L,{sx:{flexShrink:0,width:{xs:1,md:200}},children:[e.jsx(G,{children:"Publish"}),e.jsx(F,{multiple:!0,value:s,onChange:b,input:e.jsx(E,{label:"Publish"}),renderValue:l=>l.map(a=>a).join(", "),onClose:v,sx:{textTransform:"capitalize"},children:d.map(l=>e.jsxs(C,{value:l.value,children:[e.jsx(N,{disableRipple:!0,size:"small",checked:s.includes(l.value)}),l.label]},l.value))})]}),e.jsxs(Y,{open:i.open,onClose:i.onClose,arrow:"right-top",sx:{width:140},children:[e.jsxs(C,{onClick:()=>{i.onClose()},children:[e.jsx(p,{icon:"solar:printer-minimalistic-bold"}),"Print"]}),e.jsxs(C,{onClick:()=>{i.onClose()},children:[e.jsx(p,{icon:"solar:import-bold"}),"Import"]}),e.jsxs(C,{onClick:()=>{i.onClose()},children:[e.jsx(p,{icon:"solar:export-bold"}),"Export"]})]})]})}function ke({filters:t,onFilters:n,onResetFilters:c,results:d,...i}){const x=r.useCallback(s=>{const u=t.stock.filter(m=>m!==s);n("stock",u)},[t.stock,n]),h=r.useCallback(s=>{const u=t.publish.filter(m=>m!==s);n("publish",u)},[t.publish,n]);return e.jsxs(j,{spacing:1.5,...i,children:[e.jsxs(y,{sx:{typography:"body2"},children:[e.jsx("strong",{children:d}),e.jsx(y,{component:"span",sx:{color:"text.secondary",ml:.25},children:"results found"})]}),e.jsxs(j,{flexGrow:1,spacing:1,direction:"row",flexWrap:"wrap",alignItems:"center",children:[!!t.stock.length&&e.jsx(M,{label:"Stock:",children:t.stock.map(s=>e.jsx(A,{label:s,size:"small",onDelete:()=>x(s)},s))}),!!t.publish.length&&e.jsx(M,{label:"Publish:",children:t.publish.map(s=>e.jsx(A,{label:s,size:"small",onDelete:()=>h(s)},s))}),e.jsx(w,{color:"error",onClick:c,startIcon:e.jsx(p,{icon:"solar:trash-bin-trash-bold"}),children:"Clear"})]})]})}function M({label:t,children:n,sx:c,...d}){return e.jsxs(j,{component:Z,variant:"outlined",spacing:1,direction:"row",sx:{p:1,borderRadius:1,overflow:"hidden",borderStyle:"dashed",...c},...d,children:[e.jsx(y,{component:"span",sx:{typography:"subtitle2"},children:t}),e.jsx(j,{spacing:1,direction:"row",flexWrap:"wrap",children:n})]})}function ve({params:t}){return e.jsx(e.Fragment,{children:xe(t.row.price)})}function Se({params:t}){return e.jsx(J,{variant:"soft",color:t.row.publish==="published"&&"info"||"default",children:t.row.publish})}function Pe({params:t}){return e.jsx(B,{primary:X(t.row.createdAt),secondary:$(t.row.createdAt),primaryTypographyProps:{typography:"body2",noWrap:!0},secondaryTypographyProps:{mt:.5,component:"span",typography:"caption"}})}function Re({params:t}){return e.jsxs(j,{sx:{typography:"caption",color:"text.secondary"},children:[e.jsx(ee,{value:t.row.available*100/t.row.quantity,variant:"determinate",color:t.row.inventoryType==="out of stock"&&"error"||t.row.inventoryType==="low stock"&&"warning"||"success",sx:{mb:1,height:6,maxWidth:80}}),!!t.row.available&&t.row.available," ",t.row.inventoryType]})}function Te({params:t}){return e.jsxs(j,{direction:"row",alignItems:"center",sx:{py:2,width:1},children:[e.jsx(te,{alt:t.row.name,src:t.row.coverUrl,variant:"rounded",sx:{width:64,height:64,mr:2}}),e.jsx(B,{disableTypography:!0,primary:e.jsx(oe,{noWrap:!0,color:"inherit",variant:"subtitle2",onClick:t.row.onViewRow,sx:{cursor:"pointer"},children:t.row.name}),secondary:e.jsx(y,{component:"div",sx:{typography:"body2",color:"text.disabled"},children:t.row.category}),sx:{display:"flex",flexDirection:"column"}})]})}const V=[{value:"published",label:"Published"},{value:"draft",label:"Draft"}],R={publish:[],stock:[]},De={category:!1},Ie=["category","actions"];function Oe(){const{enqueueSnackbar:t}=se(),n=le(),c=re(),d=ne(),{products:i,productsLoading:x}=ue(),[h,s]=r.useState([]),[u,m]=r.useState(R),[b,k]=r.useState([]),[v,l]=r.useState(De);r.useEffect(()=>{i.length&&s(i)},[i]);const a=Le({inputData:h,filters:u}),z=!ie(R,u),T=r.useCallback((o,f)=>{m(S=>({...S,[o]:f}))},[]),W=r.useCallback(()=>{m(R)},[]),_=r.useCallback(o=>{const f=h.filter(S=>S.id!==o);t("Delete success!"),s(f)},[t,h]),H=r.useCallback(()=>{const o=h.filter(f=>!b.includes(f.id));t("Delete success!"),s(o)},[t,b,h]),U=r.useCallback(o=>{c.push(g.dashboard.product.edit(o))},[c]),q=r.useCallback(o=>{c.push(g.dashboard.product.details(o))},[c]),D=[{field:"category",headerName:"Category",filterable:!1},{field:"name",headerName:"Product",flex:1,minWidth:360,hideable:!1,renderCell:o=>e.jsx(Te,{params:o})},{field:"createdAt",headerName:"Create at",width:160,renderCell:o=>e.jsx(Pe,{params:o})},{field:"inventoryType",headerName:"Stock",width:160,type:"singleSelect",valueOptions:I,renderCell:o=>e.jsx(Re,{params:o})},{field:"price",headerName:"Price",width:140,editable:!0,renderCell:o=>e.jsx(ve,{params:o})},{field:"publish",headerName:"Publish",width:110,type:"singleSelect",editable:!0,valueOptions:V,renderCell:o=>e.jsx(Se,{params:o})},{type:"actions",field:"actions",headerName:" ",align:"right",headerAlign:"right",width:80,sortable:!1,filterable:!1,disableColumnMenu:!0,getActions:o=>[e.jsx(P,{showInMenu:!0,icon:e.jsx(p,{icon:"solar:eye-bold"}),label:"View",onClick:()=>q(o.row.id)}),e.jsx(P,{showInMenu:!0,icon:e.jsx(p,{icon:"solar:pen-bold"}),label:"Edit",onClick:()=>U(o.row.id)}),e.jsx(P,{showInMenu:!0,icon:e.jsx(p,{icon:"solar:trash-bin-trash-bold"}),label:"Delete",onClick:()=>{_(o.row.id)},sx:{color:"error.main"}})]}],Q=()=>D.filter(o=>!Ie.includes(o.field)).map(o=>o.field);return e.jsxs(e.Fragment,{children:[e.jsxs(ae,{maxWidth:d.themeStretch?!1:"lg",sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[e.jsx(pe,{heading:"List",links:[{name:"Dashboard",href:g.dashboard.root},{name:"Product",href:g.dashboard.product.root},{name:"List"}],action:e.jsx(w,{component:ce,href:g.dashboard.product.new,variant:"contained",startIcon:e.jsx(p,{icon:"mingcute:add-line"}),children:"New Product"}),sx:{mb:{xs:3,md:5}}}),e.jsx(me,{sx:{height:{xs:800,md:2},flexGrow:{md:1},display:{md:"flex"},flexDirection:{md:"column"}},children:e.jsx(fe,{checkboxSelection:!0,disableRowSelectionOnClick:!0,rows:a,columns:D,loading:x,getRowHeight:()=>"auto",pageSizeOptions:[5,10,25],initialState:{pagination:{paginationModel:{pageSize:10}}},onRowSelectionModelChange:o=>{k(o)},columnVisibilityModel:v,onColumnVisibilityModelChange:o=>l(o),slots:{toolbar:()=>e.jsxs(e.Fragment,{children:[e.jsxs(Ce,{children:[e.jsx(ye,{filters:u,onFilters:T,stockOptions:I,publishOptions:V}),e.jsx(ge,{}),e.jsxs(j,{spacing:1,flexGrow:1,direction:"row",alignItems:"center",justifyContent:"flex-end",children:[!!b.length&&e.jsxs(w,{size:"small",color:"error",startIcon:e.jsx(p,{icon:"solar:trash-bin-trash-bold"}),onClick:n.onTrue,children:["Delete (",b.length,")"]}),e.jsx(be,{}),e.jsx(je,{}),e.jsx(we,{})]})]}),z&&e.jsx(ke,{filters:u,onFilters:T,onResetFilters:W,results:a.length,sx:{p:2.5,pt:0}})]}),noRowsOverlay:()=>e.jsx(O,{title:"No Data"}),noResultsOverlay:()=>e.jsx(O,{title:"No results found"})},slotProps:{columnsPanel:{getTogglableColumns:Q}}})})]}),e.jsx(he,{open:n.value,onClose:n.onFalse,title:"Delete",content:e.jsxs(e.Fragment,{children:["Are you sure want to delete ",e.jsxs("strong",{children:[" ",b.length," "]})," items?"]}),action:e.jsx(w,{variant:"contained",color:"error",onClick:()=>{H(),n.onFalse()},children:"Delete"})})]})}function Le({inputData:t,filters:n}){const{stock:c,publish:d}=n;return c.length&&(t=t.filter(i=>c.includes(i.inventoryType))),d.length&&(t=t.filter(i=>d.includes(i.publish))),t}function Ct(){return e.jsxs(e.Fragment,{children:[e.jsx(de,{children:e.jsx("title",{children:" Dashboard: Product List"})}),e.jsx(Oe,{})]})}export{Ct as default};
