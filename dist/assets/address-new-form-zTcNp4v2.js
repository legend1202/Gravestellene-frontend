import{j as e,S as t,w as f,T as x,B as y,k as b,x as j,cN as g,i as q}from"./index-UlQdJV1P.js";import{c as C,a as s,b as T}from"./index.esm-cAEu_E74.js";import{u as v,F as N}from"./form-provider-8dyUY3gl.js";import{o as w}from"./yup-Th0LEyqb.js";import"./image-kA5iJbJO.js";import{R as A}from"./rhf-checkbox-O4e1Smjf.js";import"./mui-one-time-password-input.es-0dNzvKac.js";import"./styles-OE_XmRMH.js";import{R as i}from"./rhf-text-field-aU6tRkgd.js";import{R as F}from"./rhf-radio-group-xPPKR0j3.js";import{R}from"./rhf-autocomplete-juxHQvjs.js";import{D}from"./DialogTitle-lGKvSnvn.js";import{D as S}from"./DialogContent-e-FUrFvI.js";import{D as $}from"./DialogActions-xz-JuFxE.js";import{L as H}from"./LoadingButton-HxvkKaQJ.js";function M({address:n,action:o,sx:d,...l}){const{name:m,fullAddress:a,addressType:c,phoneNumber:p,primary:u}=n;return e.jsxs(t,{component:f,spacing:2,alignItems:{md:"flex-end"},direction:{xs:"column",md:"row"},sx:{position:"relative",...d},...l,children:[e.jsxs(t,{flexGrow:1,spacing:1,children:[e.jsxs(t,{direction:"row",alignItems:"center",children:[e.jsxs(x,{variant:"subtitle2",children:[m,e.jsxs(y,{component:"span",sx:{ml:.5,typography:"body2",color:"text.secondary"},children:["(",c,")"]})]}),u&&e.jsx(b,{color:"info",sx:{ml:1},children:"Default"})]}),e.jsx(x,{variant:"body2",sx:{color:"text.secondary"},children:a}),e.jsx(x,{variant:"body2",sx:{color:"text.secondary"},children:p})]}),o&&o]})}function Q({open:n,onClose:o,onCreate:d}){const l=C().shape({name:s().required("Fullname is required"),phoneNumber:s().required("Phone number is required"),address:s().required("Address is required"),city:s().required("City is required"),state:s().required("State is required"),country:s().required("Country is required"),zipCode:s().required("Zip code is required"),addressType:s(),primary:T()}),m={name:"",city:"",state:"",address:"",zipCode:"",primary:!0,phoneNumber:"",addressType:"Home",country:""},a=v({resolver:w(l),defaultValues:m}),{handleSubmit:c,formState:{isSubmitting:p}}=a,u=c(async r=>{try{d({name:r.name,phoneNumber:r.phoneNumber,fullAddress:`${r.address}, ${r.city}, ${r.state}, ${r.country}, ${r.zipCode}`,addressType:r.addressType,primary:r.primary}),o()}catch(h){console.error(h)}});return e.jsx(j,{fullWidth:!0,maxWidth:"sm",open:n,onClose:o,children:e.jsxs(N,{methods:a,onSubmit:u,children:[e.jsx(D,{children:"New address"}),e.jsx(S,{dividers:!0,children:e.jsxs(t,{spacing:3,children:[e.jsx(F,{row:!0,name:"addressType",options:[{label:"Home",value:"Home"},{label:"Office",value:"Office"}]}),e.jsxs(y,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(2, 1fr)"},children:[e.jsx(i,{name:"name",label:"Full Name"}),e.jsx(i,{name:"phoneNumber",label:"Phone Number"})]}),e.jsx(i,{name:"address",label:"Address"}),e.jsxs(y,{rowGap:3,columnGap:2,display:"grid",gridTemplateColumns:{xs:"repeat(1, 1fr)",sm:"repeat(3, 1fr)"},children:[e.jsx(i,{name:"city",label:"Town / City"}),e.jsx(i,{name:"state",label:"State"}),e.jsx(i,{name:"zipCode",label:"Zip/Code"})]}),e.jsx(R,{name:"country",type:"country",label:"Country",placeholder:"Choose a country",options:g.map(r=>r.label),getOptionLabel:r=>r}),e.jsx(A,{name:"primary",label:"Use this address as default."})]})}),e.jsxs($,{children:[e.jsx(q,{color:"inherit",variant:"outlined",onClick:o,children:"Cancel"}),e.jsx(H,{type:"submit",variant:"contained",loading:p,children:"Deliver to this Address"})]})]})})}export{M as A,Q as a};
