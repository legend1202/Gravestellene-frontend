import{bi as f,j as e,t as j,h as p,B as b,bj as v,bk as y,k as I,bl as k,bm as C,M as P,I as w,bn as S,bo as W,r as A,n as B,L as T,T as E}from"./index-crR8fPbl.js";import{A as O}from"./Autocomplete-9niLsZQ5.js";function L({sort:r,sortOptions:i,onSort:a}){const o=f();return e.jsxs(e.Fragment,{children:[e.jsxs(j,{disableRipple:!0,color:"inherit",onClick:o.onOpen,endIcon:e.jsx(p,{icon:o.open?"eva:arrow-ios-upward-fill":"eva:arrow-ios-downward-fill"}),sx:{fontWeight:"fontWeightSemiBold",textTransform:"capitalize"},children:["Sort By:",e.jsx(b,{component:"span",sx:{ml:.5,fontWeight:"fontWeightBold"},children:r})]}),e.jsx(v,{open:o.open,onClose:o.onClose,sx:{width:140},children:i.map(s=>e.jsx(y,{selected:r===s.value,onClick:()=>{o.onClose(),a(s.value)},children:s.label},s.value))})]})}function M({query:r,results:i,onSearch:a,hrefItem:o,loading:s}){const h=I(),c=t=>{h.push(o(t))},x=t=>{r&&t.key==="Enter"&&c(r)};return e.jsx(O,{sx:{width:{xs:1,sm:260}},loading:s,autoHighlight:!0,popupIcon:null,options:i,onInputChange:(t,n)=>a(n),getOptionLabel:t=>t.title,noOptionsText:e.jsx(k,{query:r,sx:{bgcolor:"unset"}}),isOptionEqualToValue:(t,n)=>t.id===n.id,slotProps:{popper:{placement:"bottom-start",sx:{minWidth:320}},paper:{sx:{[` .${C.option}`]:{pl:.75}}}},renderInput:t=>e.jsx(P,{...t,placeholder:"Search...",onKeyUp:x,InputProps:{...t.InputProps,startAdornment:e.jsx(w,{position:"start",children:e.jsx(p,{icon:"eva:search-fill",sx:{ml:1,color:"text.disabled"}})}),endAdornment:e.jsxs(e.Fragment,{children:[s?e.jsx(p,{icon:"svg-spinners:8-dots-rotate",sx:{mr:-3}}):null,t.InputProps.endAdornment]})}}),renderOption:(t,n,{inputValue:d})=>{const u=S(n.title,d),m=W(n.title,u);return A.createElement("li",{...t,key:n.id},e.jsx(B,{alt:n.title,src:n.coverUrl,variant:"rounded",sx:{width:48,height:48,flexShrink:0,mr:1.5,borderRadius:1}},n.id),e.jsx(T,{underline:"none",onClick:()=>c(n.title),children:m.map((l,g)=>e.jsx(E,{component:"span",color:l.highlight?"primary":"textPrimary",sx:{typography:"body2",fontWeight:l.highlight?"fontWeightSemiBold":"fontWeightMedium"},children:l.text},g))},d))}})}export{M as P,L as a};
